(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Ad={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function gS(){if(Ey)return hl;Ey=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return hl.Fragment=e,hl.jsx=n,hl.jsxs=n,hl}var Ty;function _S(){return Ty||(Ty=1,Ad.exports=gS()),Ad.exports}var S=_S(),Sd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function yS(){if(Ay)return we;Ay=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function k(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,ee={};function J(N,Z,re){this.props=N,this.context=Z,this.refs=ee,this.updater=re||G}J.prototype.isReactComponent={},J.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},J.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Ae(){}Ae.prototype=J.prototype;function Se(N,Z,re){this.props=N,this.context=Z,this.refs=ee,this.updater=re||G}var ce=Se.prototype=new Ae;ce.constructor=Se,W(ce,J.prototype),ce.isPureReactComponent=!0;var ve=Array.isArray,pe={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function x(N,Z,re,te,q,le){return re=le.ref,{$$typeof:r,type:N,key:Z,ref:re!==void 0?re:null,props:le}}function b(N,Z){return x(N.type,Z,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function D(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(re){return Z[re]})}var M=/\/+/g;function P(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):Z.toString(36)}function I(){}function Je(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function tt(N,Z,re,te,q){var le=typeof N;(le==="undefined"||le==="boolean")&&(N=null);var ue=!1;if(N===null)ue=!0;else switch(le){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(N.$$typeof){case r:case e:ue=!0;break;case T:return ue=N._init,tt(ue(N._payload),Z,re,te,q)}}if(ue)return q=q(N),ue=te===""?"."+P(N,0):te,ve(q)?(re="",ue!=null&&(re=ue.replace(M,"$&/")+"/"),tt(q,Z,re,"",function(Ft){return Ft})):q!=null&&(w(q)&&(q=b(q,re+(q.key==null||N&&N.key===q.key?"":(""+q.key).replace(M,"$&/")+"/")+ue)),Z.push(q)),1;ue=0;var Be=te===""?".":te+":";if(ve(N))for(var je=0;je<N.length;je++)te=N[je],le=Be+P(te,je),ue+=tt(te,Z,re,le,q);else if(je=k(N),typeof je=="function")for(N=je.call(N),je=0;!(te=N.next()).done;)te=te.value,le=Be+P(te,je++),ue+=tt(te,Z,re,le,q);else if(le==="object"){if(typeof N.then=="function")return tt(Je(N),Z,re,te,q);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ue}function F(N,Z,re){if(N==null)return N;var te=[],q=0;return tt(N,te,"","",function(le){return Z.call(re,le,q++)}),te}function ie(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(re){(N._status===0||N._status===-1)&&(N._status=1,N._result=re)},function(re){(N._status===0||N._status===-1)&&(N._status=2,N._result=re)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var he=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Le(){}return we.Children={map:F,forEach:function(N,Z,re){F(N,function(){Z.apply(this,arguments)},re)},count:function(N){var Z=0;return F(N,function(){Z++}),Z},toArray:function(N){return F(N,function(Z){return Z})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},we.Component=J,we.Fragment=n,we.Profiler=o,we.PureComponent=Se,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,we.__COMPILER_RUNTIME={__proto__:null,c:function(N){return pe.H.useMemoCache(N)}},we.cache=function(N){return function(){return N.apply(null,arguments)}},we.cloneElement=function(N,Z,re){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var te=W({},N.props),q=N.key,le=void 0;if(Z!=null)for(ue in Z.ref!==void 0&&(le=void 0),Z.key!==void 0&&(q=""+Z.key),Z)!de.call(Z,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&Z.ref===void 0||(te[ue]=Z[ue]);var ue=arguments.length-2;if(ue===1)te.children=re;else if(1<ue){for(var Be=Array(ue),je=0;je<ue;je++)Be[je]=arguments[je+2];te.children=Be}return x(N.type,q,void 0,void 0,le,te)},we.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},we.createElement=function(N,Z,re){var te,q={},le=null;if(Z!=null)for(te in Z.key!==void 0&&(le=""+Z.key),Z)de.call(Z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(q[te]=Z[te]);var ue=arguments.length-2;if(ue===1)q.children=re;else if(1<ue){for(var Be=Array(ue),je=0;je<ue;je++)Be[je]=arguments[je+2];q.children=Be}if(N&&N.defaultProps)for(te in ue=N.defaultProps,ue)q[te]===void 0&&(q[te]=ue[te]);return x(N,le,void 0,void 0,null,q)},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:p,render:N}},we.isValidElement=w,we.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ie}},we.memo=function(N,Z){return{$$typeof:_,type:N,compare:Z===void 0?null:Z}},we.startTransition=function(N){var Z=pe.T,re={};pe.T=re;try{var te=N(),q=pe.S;q!==null&&q(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Le,he)}catch(le){he(le)}finally{pe.T=Z}},we.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},we.use=function(N){return pe.H.use(N)},we.useActionState=function(N,Z,re){return pe.H.useActionState(N,Z,re)},we.useCallback=function(N,Z){return pe.H.useCallback(N,Z)},we.useContext=function(N){return pe.H.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N,Z){return pe.H.useDeferredValue(N,Z)},we.useEffect=function(N,Z,re){var te=pe.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(N,Z)},we.useId=function(){return pe.H.useId()},we.useImperativeHandle=function(N,Z,re){return pe.H.useImperativeHandle(N,Z,re)},we.useInsertionEffect=function(N,Z){return pe.H.useInsertionEffect(N,Z)},we.useLayoutEffect=function(N,Z){return pe.H.useLayoutEffect(N,Z)},we.useMemo=function(N,Z){return pe.H.useMemo(N,Z)},we.useOptimistic=function(N,Z){return pe.H.useOptimistic(N,Z)},we.useReducer=function(N,Z,re){return pe.H.useReducer(N,Z,re)},we.useRef=function(N){return pe.H.useRef(N)},we.useState=function(N){return pe.H.useState(N)},we.useSyncExternalStore=function(N,Z,re){return pe.H.useSyncExternalStore(N,Z,re)},we.useTransition=function(){return pe.H.useTransition()},we.version="19.1.0",we}var Sy;function pm(){return Sy||(Sy=1,Sd.exports=yS()),Sd.exports}var xt=pm(),bd={exports:{}},fl={},Rd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function vS(){return by||(by=1,function(r){function e(F,ie){var he=F.length;F.push(ie);e:for(;0<he;){var Le=he-1>>>1,N=F[Le];if(0<o(N,ie))F[Le]=ie,F[he]=N,he=Le;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ie=F[0],he=F.pop();if(he!==ie){F[0]=he;e:for(var Le=0,N=F.length,Z=N>>>1;Le<Z;){var re=2*(Le+1)-1,te=F[re],q=re+1,le=F[q];if(0>o(te,he))q<N&&0>o(le,te)?(F[Le]=le,F[q]=he,Le=q):(F[Le]=te,F[re]=he,Le=re);else if(q<N&&0>o(le,he))F[Le]=le,F[q]=he,Le=q;else break e}}return ie}function o(F,ie){var he=F.sortIndex-ie.sortIndex;return he!==0?he:F.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],_=[],T=1,C=null,k=3,G=!1,W=!1,ee=!1,J=!1,Ae=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function ve(F){for(var ie=n(_);ie!==null;){if(ie.callback===null)s(_);else if(ie.startTime<=F)s(_),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(_)}}function pe(F){if(ee=!1,ve(F),!W)if(n(g)!==null)W=!0,de||(de=!0,P());else{var ie=n(_);ie!==null&&tt(pe,ie.startTime-F)}}var de=!1,x=-1,b=5,w=-1;function D(){return J?!0:!(r.unstable_now()-w<b)}function M(){if(J=!1,de){var F=r.unstable_now();w=F;var ie=!0;try{e:{W=!1,ee&&(ee=!1,Se(x),x=-1),G=!0;var he=k;try{t:{for(ve(F),C=n(g);C!==null&&!(C.expirationTime>F&&D());){var Le=C.callback;if(typeof Le=="function"){C.callback=null,k=C.priorityLevel;var N=Le(C.expirationTime<=F);if(F=r.unstable_now(),typeof N=="function"){C.callback=N,ve(F),ie=!0;break t}C===n(g)&&s(g),ve(F)}else s(g);C=n(g)}if(C!==null)ie=!0;else{var Z=n(_);Z!==null&&tt(pe,Z.startTime-F),ie=!1}}break e}finally{C=null,k=he,G=!1}ie=void 0}}finally{ie?P():de=!1}}}var P;if(typeof ce=="function")P=function(){ce(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Je=I.port2;I.port1.onmessage=M,P=function(){Je.postMessage(null)}}else P=function(){Ae(M,0)};function tt(F,ie){x=Ae(function(){F(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(F){switch(k){case 1:case 2:case 3:var ie=3;break;default:ie=k}var he=k;k=ie;try{return F()}finally{k=he}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var he=k;k=F;try{return ie()}finally{k=he}},r.unstable_scheduleCallback=function(F,ie,he){var Le=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Le+he:Le):he=Le,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=he+N,F={id:T++,callback:ie,priorityLevel:F,startTime:he,expirationTime:N,sortIndex:-1},he>Le?(F.sortIndex=he,e(_,F),n(g)===null&&F===n(_)&&(ee?(Se(x),x=-1):ee=!0,tt(pe,he-Le))):(F.sortIndex=N,e(g,F),W||G||(W=!0,de||(de=!0,P()))),F},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(F){var ie=k;return function(){var he=k;k=ie;try{return F.apply(this,arguments)}finally{k=he}}}}(wd)),wd}var Ry;function ES(){return Ry||(Ry=1,Rd.exports=vS()),Rd.exports}var Id={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function TS(){if(wy)return Qt;wy=1;var r=pm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,T){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:g,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,T)},Qt.flushSync=function(g){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=T,s.d.f()}},Qt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Qt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,C=p(T,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:G}):T==="script"&&s.d.X(g,{crossOrigin:C,integrity:k,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Qt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,C=p(T,_.crossOrigin);s.d.L(g,T,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qt.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Qt.requestFormReset=function(g){s.d.r(g)},Qt.unstable_batchedUpdates=function(g,_){return g(_)},Qt.useFormState=function(g,_,T){return f.H.useFormState(g,_,T)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var Iy;function AS(){if(Iy)return Id.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Id.exports=TS(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function SS(){if(Cy)return fl;Cy=1;var r=ES(),e=pm(),n=AS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),Se=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case J:return"Profiler";case ee:return"StrictMode";case pe:return"Suspense";case de:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ce:return(t.displayName||"Context")+".Provider";case Se:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Je(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Je(t(i))}catch{}}return null}var tt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Le=[],N=-1;function Z(t){return{current:t}}function re(t){0>N||(t.current=Le[N],Le[N]=null,N--)}function te(t,i){N++,Le[N]=t.current,t.current=i}var q=Z(null),le=Z(null),ue=Z(null),Be=Z(null);function je(t,i){switch(te(ue,i),te(le,t),te(q,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Y_(i),t=X_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(q),te(q,t)}function Ft(){re(q),re(le),re(ue)}function xn(t){t.memoizedState!==null&&te(Be,t);var i=q.current,a=X_(i,t.type);i!==a&&(te(le,t),te(q,a))}function _i(t){le.current===t&&(re(q),re(le)),Be.current===t&&(re(Be),al._currentValue=he)}var Gr=Object.prototype.hasOwnProperty,Kr=r.unstable_scheduleCallback,Qr=r.unstable_cancelCallback,no=r.unstable_shouldYield,Ql=r.unstable_requestPaint,yn=r.unstable_now,Th=r.unstable_getCurrentPriorityLevel,io=r.unstable_ImmediatePriority,qs=r.unstable_UserBlockingPriority,Yr=r.unstable_NormalPriority,Ah=r.unstable_LowPriority,Hs=r.unstable_IdlePriority,ro=r.log,Yl=r.unstable_setDisableYieldValue,ot=null,Ge=null;function ln(t){if(typeof ro=="function"&&Yl(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ot,t)}catch{}}var Gt=Math.clz32?Math.clz32:Xr,Xl=Math.log,Sh=Math.LN2;function Xr(t){return t>>>=0,t===0?32:31-(Xl(t)/Sh|0)|0}var $r=256,Zr=4194304;function Mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Mn(l):(v&=E,v!==0?h=Mn(v):a||(a=E&~t,a!==0&&(h=Mn(a))))):(E=l&~d,E!==0?h=Mn(E):v!==0?h=Mn(v):a||(a=l&~t,a!==0&&(h=Mn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function so(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var t=$r;return $r<<=1,($r&4194048)===0&&($r=256),t}function oo(){var t=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),t}function yi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Gt(a),Y=1<<K;E[K]=0,R[K]=-1;var z=j[K];if(z!==null)for(j[K]=null,K=0;K<z.length;K++){var B=z[K];B!==null&&(B.lane&=-536870913)}a&=~Y}l!==0&&Fn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Fn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function uo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wi(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:my(t.type))}function $l(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var it=Math.random().toString(36).slice(2),Et="__reactFiber$"+it,mt="__reactProps$"+it,vn="__reactContainer$"+it,co="__reactEvents$"+it,bh="__reactListeners$"+it,Ji="__reactHandles$"+it,Zl="__reactResources$"+it,Jr="__reactMarker$"+it;function er(t){delete t[Et],delete t[mt],delete t[co],delete t[bh],delete t[Ji]}function Ei(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vn]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=J_(t);t!==null;){if(a=t[Et])return a;t=J_(t)}return i}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Et]||t[vn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Wt(t){var i=t[Zl];return i||(i=t[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[Jr]=!0}var ho=new Set,Ks={};function Vn(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Ks[t]=i,t=0;t<i.length;t++)ho.add(i[t])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},es={};function eu(t){return Gr.call(es,t)?!0:Gr.call(Jl,t)?!1:Wl.test(t)?es[t]=!0:(Jl[t]=!0,!1)}function tr(t,i,a){if(eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Qn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ts,tu;function Ai(t){if(ts===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ts=i&&i[1]||"",tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+t+tu}var Qs=!1;function Ys(t,i){if(!t||Qs)return"";Qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(B){z=B}t.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var R=v.split(`
`),j=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===j.length)for(l=R.length-1,h=j.length-1;1<=l&&0<=h&&R[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==j[h]){var K=`
`+R[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Qs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ai(a):""}function fo(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Ys(t.type,!1);case 11:return Ys(t.type.render,!1);case 1:return Ys(t.type,!0);case 31:return Ai("Activity");default:return""}}function Xs(t){try{var i="";do i+=fo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rh(t){var i=mo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $s(t){t._valueTracker||(t._valueTracker=Rh(t))}function po(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=mo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wh=/[\n"\\]/g;function pt(t){return t.replace(wh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(t,i,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?nr(t,v,Jt(i)):a!=null?nr(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function is(t,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function nr(t,i,a){i==="number"&&ns(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function rs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ss.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&nu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&nu(t,d,i[d])}function _o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(t){return Ch.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bi=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,wi=null;function yo(t){var i=Gn(t);if(i&&(t=i.stateNode)){var a=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(un(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&po(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Si(t,!!a.multiple,i,!1)}}}var Yn=!1;function iu(t,i,a){if(Yn)return t(i,a);Yn=!0;try{var l=t(i);return l}finally{if(Yn=!1,(Ri!==null||wi!==null)&&($u(),Ri&&(i=Ri,t=wi,wi=Ri=null,yo(i),t)))for(i=0;i<t.length;i++)yo(t[i])}}function as(t,i){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Pn)try{var os={};Object.defineProperty(os,"passive",{get:function(){An=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{An=!1}var Xn=null,ir=null,Ii=null;function vo(){if(Ii)return Ii;var t,i=ir,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function $n(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Eo(){return!1}function It(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Eo,this.isPropagationStopped=Eo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=It(He),ls=T({},He,{view:0,detail:0}),ru=It(ls),Js,ea,Wn,us=T({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(Js=t.screenX-Wn.screenX,ea=t.screenY-Wn.screenY):ea=Js=0,Wn=t),Js)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),Sn=It(us),su=T({},us,{dataTransfer:0}),Nh=It(su),cs=T({},ls,{relatedTarget:0}),ta=It(cs),To=T({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),na=It(To),au=T({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ia=It(au),Dh=T({},He,{data:0}),Ao=It(Dh),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=lu[t])?!!i[t]:!1}function fs(){return So}var uu=T({},ls,{key:function(t){if(t.key){var i=hs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ra=It(uu),cu=T({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=It(cu),Ci=T({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),hu=It(Ci),fu=T({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=It(fu),mu=T({},us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sa=It(mu),en=T({},He,{newState:0,oldState:0}),pu=It(en),gu=[9,13,27,32],Jn=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var m=Pn&&"TextEvent"in window&&!u,y=Pn&&(!Jn||u&&8<u&&11>=u),A=" ",U=!1;function H(t,i){switch(t){case"keyup":return gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Tt(t,i){switch(t){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!Jn&&H(t,i)?(t=vo(),Ii=ir=Xn=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ct={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ct[t.type]:i==="textarea"}function Ni(t,i,a,l){Ri?wi?wi.push(l):wi=[l]:Ri=l,i=nc(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,ei=null;function Ro(t){H_(t,0)}function _u(t){var i=Kn(t);if(po(i))return t}function cp(t,i){if(t==="change")return i}var hp=!1;if(Pn){var Oh;if(Pn){var xh="oninput"in document;if(!xh){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),xh=typeof fp.oninput=="function"}Oh=xh}else Oh=!1;hp=Oh&&(!document.documentMode||9<document.documentMode)}function dp(){Pt&&(Pt.detachEvent("onpropertychange",mp),ei=Pt=null)}function mp(t){if(t.propertyName==="value"&&_u(ei)){var i=[];Ni(i,ei,t,Tn(t)),iu(Ro,i)}}function K0(t,i,a){t==="focusin"?(dp(),Pt=i,ei=a,Pt.attachEvent("onpropertychange",mp)):t==="focusout"&&dp()}function Q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(ei)}function Y0(t,i){if(t==="click")return _u(i)}function X0(t,i){if(t==="input"||t==="change")return _u(i)}function $0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:$0;function wo(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Gr.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gp(t,i){var a=pp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pp(a)}}function _p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ns(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ns(t.document)}return i}function Mh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Z0=Pn&&"documentMode"in document&&11>=document.documentMode,aa=null,Vh=null,Io=null,Ph=!1;function vp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ph||aa==null||aa!==ns(l)||(l=aa,"selectionStart"in l&&Mh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Io&&wo(Io,l)||(Io=l,l=nc(Vh,"onSelect"),0<l.length&&(i=new Ws("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=aa)))}function ds(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var oa={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},kh={},Ep={};Pn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ms(t){if(kh[t])return kh[t];if(!oa[t])return t;var i=oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ep)return kh[t]=i[a];return t}var Tp=ms("animationend"),Ap=ms("animationiteration"),Sp=ms("animationstart"),W0=ms("transitionrun"),J0=ms("transitionstart"),eA=ms("transitioncancel"),bp=ms("transitionend"),Rp=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function kn(t,i){Rp.set(t,i),Vn(i,[t])}var wp=new WeakMap;function bn(t,i){if(typeof t=="object"&&t!==null){var a=wp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Xs(i)},wp.set(t,i),i)}return{value:t,source:i,stack:Xs(i)}}var Rn=[],la=0,Lh=0;function yu(){for(var t=la,i=Lh=la=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ip(a,h,d)}}function vu(t,i,a,l){Rn[la++]=t,Rn[la++]=i,Rn[la++]=a,Rn[la++]=l,Lh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jh(t,i,a,l){return vu(t,i,a,l),Eu(t)}function ua(t,i){return vu(t,null,null,i),Eu(t)}function Ip(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Eu(t){if(50<Wo)throw Wo=0,Kf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ca={};function tA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,i,a,l){return new tA(t,i,a,l)}function zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,i){var a=t.alternate;return a===null?(a=hn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Tu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")zh(t)&&(v=1);else if(typeof t=="string")v=iS(t,a,q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=hn(31,a,i,h),t.elementType=w,t.lanes=d,t;case W:return ps(a.children,h,d,i);case ee:v=8,h|=24;break;case J:return t=hn(12,a,i,h|2),t.elementType=J,t.lanes=d,t;case pe:return t=hn(13,a,i,h),t.elementType=pe,t.lanes=d,t;case de:return t=hn(19,a,i,h),t.elementType=de,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ae:case ce:v=10;break e;case Se:v=9;break e;case ve:v=11;break e;case x:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=hn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ps(t,i,a,l){return t=hn(7,t,l,i),t.lanes=a,t}function Bh(t,i,a){return t=hn(6,t,null,i),t.lanes=a,t}function qh(t,i,a){return i=hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ha=[],fa=0,Au=null,Su=0,wn=[],In=0,gs=null,Oi=1,xi="";function _s(t,i){ha[fa++]=Su,ha[fa++]=Au,Au=t,Su=i}function Np(t,i,a){wn[In++]=Oi,wn[In++]=xi,wn[In++]=gs,gs=t;var l=Oi;t=xi;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-Gt(i)+h|a<<h|l,xi=d+t}else Oi=1<<d|a<<h|l,xi=t}function Hh(t){t.return!==null&&(_s(t,1),Np(t,1,0))}function Fh(t){for(;t===Au;)Au=ha[--fa],ha[fa]=null,Su=ha[--fa],ha[fa]=null;for(;t===gs;)gs=wn[--In],wn[In]=null,xi=wn[--In],wn[In]=null,Oi=wn[--In],wn[In]=null}var tn=null,lt=null,qe=!1,ys=null,ti=!1,Gh=Error(s(519));function vs(t){var i=Error(s(418,""));throw Do(bn(i,t)),Gh}function Dp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[mt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<el.length;a++)Oe(el[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),is(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$s(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),rs(i,l.value,l.defaultValue,l.children),$s(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Q_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=ic),i=!0):i=!1,i||vs(t)}function Op(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:tn=tn.return}}function Co(t){if(t!==tn)return!1;if(!qe)return Op(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ld(t.type,t.memoizedProps)),a=!a),a&&lt&&vs(t),Op(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=Ln(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,vr(t.type)?(t=fd,fd=null,lt=t):lt=i):lt=tn?Ln(t.stateNode.nextSibling):null;return!0}function No(){lt=tn=null,qe=!1}function xp(){var t=ys;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ys=null),t}function Do(t){ys===null?ys=[t]:ys.push(t)}var Kh=Z(null),Es=null,Mi=null;function rr(t,i,a){te(Kh,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=Kh.current,re(Kh)}function Qh(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Yh(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Qh(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Qh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Oo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Be.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(al):t=[al])}h=h.return}t!==null&&Yh(i,t,a,l),i.flags|=262144}function bu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ts(t){Es=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Mp(Es,t)}function Ru(t,i){return Es===null&&Ts(t),Mp(t,i)}function Mp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var nA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},iA=r.unstable_scheduleCallback,rA=r.unstable_NormalPriority,St={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new nA,data:new Map,refCount:0}}function xo(t){t.refCount--,t.refCount===0&&iA(rA,function(){t.controller.abort()})}var Mo=null,$h=0,da=0,ma=null;function sA(t,i){if(Mo===null){var a=Mo=[];$h=0,da=Jf(),ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $h++,i.then(Vp,Vp),i}function Vp(){if(--$h===0&&Mo!==null){ma!==null&&(ma.status="fulfilled");var t=Mo;Mo=null,da=0,ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function aA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pp=F.S;F.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&sA(t,i),Pp!==null&&Pp(t,i)};var As=Z(null);function Zh(){var t=As.current;return t!==null?t:et.pooledCache}function wu(t,i){i===null?te(As,As.current):te(As,i.pool)}function kp(){var t=Zh();return t===null?null:{parent:St._currentValue,pool:t}}var Vo=Error(s(460)),Up=Error(s(474)),Iu=Error(s(542)),Wh={then:function(){}};function Lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function jp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Cu,Cu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bp(t),t;default:if(typeof i.status=="string")i.then(Cu,Cu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bp(t),t}throw Po=i,Vo}}var Po=null;function zp(){if(Po===null)throw Error(s(459));var t=Po;return Po=null,t}function Bp(t){if(t===Vo||t===Iu)throw Error(s(483))}var sr=!1;function Jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Eu(t),Ip(t,null,a),i}return vu(t,l,i,a),Eu(t)}function ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,uo(t,a)}}function tf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var nf=!1;function Uo(){if(nf){var t=ma;if(t!==null)throw t}}function Lo(t,i,a,l){nf=!1;var h=t.updateQueue;sr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,v===null?d=j:v.next=j,v=R;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=j:E.next=j,K.lastBaseUpdate=R))}if(d!==null){var Y=h.baseState;v=0,K=j=R=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(ke&z)===z:(l&z)===z){z!==0&&z===da&&(nf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ee=t,ge=E;z=i;var Ze=a;switch(ge.tag){case 1:if(Ee=ge.payload,typeof Ee=="function"){Y=Ee.call(Ze,Y,z);break e}Y=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ge.payload,z=typeof Ee=="function"?Ee.call(Ze,Y,z):Ee,z==null)break e;Y=T({},Y,z);break e;case 2:sr=!0}}z=E.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(j=K=B,R=Y):K=K.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);K===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),pr|=v,t.lanes=v,t.memoizedState=Y}}function qp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Hp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qp(a[t],i)}var pa=Z(null),Nu=Z(0);function Fp(t,i){t=Bi,te(Nu,t),te(pa,i),Bi=t|i.baseLanes}function rf(){te(Nu,Bi),te(pa,pa.current)}function sf(){Bi=Nu.current,re(pa),re(Nu)}var lr=0,Ie=null,Xe=null,gt=null,Du=!1,ga=!1,Ss=!1,Ou=0,jo=0,_a=null,oA=0;function ht(){throw Error(s(321))}function af(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!cn(t[a],i[a]))return!1;return!0}function of(t,i,a,l,h,d){return lr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?Ig:Cg,Ss=!1,d=a(l,h),Ss=!1,ga&&(d=Kp(i,a,l,h)),Gp(t),d}function Gp(t){F.H=Uu;var i=Xe!==null&&Xe.next!==null;if(lr=0,gt=Xe=Ie=null,Du=!1,jo=0,_a=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&bu(t)&&(Nt=!0))}function Kp(t,i,a,l){Ie=t;var h=0;do{if(ga&&(_a=null),jo=0,ga=!1,25<=h)throw Error(s(301));if(h+=1,gt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=mA,d=i(a,l)}while(ga);return d}function lA(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?zo(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function lf(){var t=Ou!==0;return Ou=0,t}function uf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function cf(t){if(Du){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Du=!1}lr=0,gt=Xe=Ie=null,ga=!1,jo=Ou=0,_a=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function _t(){if(Xe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=gt===null?Ie.memoizedState:gt.next;if(i!==null)gt=i,Xe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(t){var i=jo;return jo+=1,_a===null&&(_a=[]),t=jp(_a,t,i),i=Ie,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Ig:Cg),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zo(t);if(t.$$typeof===ce)return Kt(t)}throw Error(s(438,String(t)))}function ff(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function Pi(t,i){return typeof i=="function"?i(t):i}function Mu(t){var i=_t();return df(i,Xe,t)}function df(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,R=null,j=i,K=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(ke&Y)===Y:(lr&Y)===Y){var z=j.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===da&&(K=!0);else if((lr&z)===z){j=j.next,z===da&&(K=!0);continue}else Y={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=Y,v=d):R=R.next=Y,Ie.lanes|=z,pr|=z;Y=j.action,Ss&&a(d,Y),d=j.hasEagerState?j.eagerState:a(d,Y)}else z={lane:Y,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=z,v=d):R=R.next=z,Ie.lanes|=Y,pr|=Y;j=j.next}while(j!==null&&j!==i);if(R===null?v=d:R.next=E,!cn(d,t.memoizedState)&&(Nt=!0,K&&(a=ma,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);cn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Qp(t,i,a){var l=Ie,h=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!cn((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var E=$p.bind(null,l,h,t);if(Bo(2048,8,E,[t]),h.getSnapshot!==i||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,ya(9,Vu(),Xp.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(lr&124)!==0||Yp(l,i,a)}return a}function Yp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=hf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xp(t,i,a,l){i.value=a,i.getSnapshot=l,Zp(i)&&Wp(t)}function $p(t,i,a){return a(function(){Zp(i)&&Wp(t)})}function Zp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!cn(t,a)}catch{return!0}}function Wp(t){var i=ua(t,2);i!==null&&gn(i,t,2)}function pf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Ss){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},i}function Jp(t,i,a,l){return t.baseState=a,df(t,Xe,typeof l=="function"?l:Pi)}function uA(t,i,a,l,h){if(ku(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,eg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function eg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=F.T,v={};F.T=v;try{var E=a(h,l),R=F.S;R!==null&&R(v,E),tg(t,i,E)}catch(j){gf(t,i,j)}finally{F.T=d}}else try{d=a(h,l),tg(t,i,d)}catch(j){gf(t,i,j)}}function tg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ng(t,i,l)},function(l){return gf(t,i,l)}):ng(t,i,a)}function ng(t,i,a){i.status="fulfilled",i.value=a,ig(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,eg(t,a)))}function gf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ig(i),i=i.next;while(i!==l)}t.action=null}function ig(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function rg(t,i){return i}function sg(t,i){if(qe){var a=et.formState;if(a!==null){e:{var l=Ie;if(qe){if(lt){t:{for(var h=lt,d=ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Ln(h.nextSibling),l=h.data==="F!";break e}}vs(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:i},a.queue=l,a=bg.bind(null,Ie,l),l.dispatch=a,l=pf(!1),d=Tf.bind(null,Ie,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=uA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ag(t){var i=_t();return og(i,Xe,t)}function og(t,i,a){if(i=df(t,i,rg)[0],t=Mu(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=zo(i)}catch(v){throw v===Vo?Iu:v}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,ya(9,Vu(),cA.bind(null,h,a),null)),[l,d,t]}function cA(t,i){t.action=i}function lg(t){var i=_t(),a=Xe;if(a!==null)return og(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ya(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=hf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Vu(){return{destroy:void 0,resource:void 0}}function ug(){return _t().memoizedState}function Pu(t,i,a,l){var h=nn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=ya(1|i,Vu(),a,l)}function Bo(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&af(l,Xe.memoizedState.deps)?h.memoizedState=ya(i,d,a,l):(Ie.flags|=t,h.memoizedState=ya(1|i,d,a,l))}function cg(t,i){Pu(8390656,8,t,i)}function hg(t,i){Bo(2048,8,t,i)}function fg(t,i){return Bo(4,2,t,i)}function dg(t,i){return Bo(4,4,t,i)}function mg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function pg(t,i,a){a=a!=null?a.concat([t]):null,Bo(4,4,mg.bind(null,i,t),a)}function _f(){}function gg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&af(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _g(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&af(i,l[1]))return l[0];if(l=t(),Ss){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function yf(t,i,a){return a===void 0||(lr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=E_(),Ie.lanes|=t,pr|=t,a)}function yg(t,i,a,l){return cn(a,i)?a:pa.current!==null?(t=yf(t,a,l),cn(t,i)||(Nt=!0),t):(lr&42)===0?(Nt=!0,t.memoizedState=a):(t=E_(),Ie.lanes|=t,pr|=t,i)}function vg(t,i,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=F.T,E={};F.T=E,Tf(t,!1,i,a);try{var R=h(),j=F.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=aA(R,l);qo(t,i,K,pn(t))}else qo(t,i,l,pn(t))}catch(Y){qo(t,i,{then:function(){},status:"rejected",reason:Y},pn())}finally{ie.p=d,F.T=v}}function hA(){}function vf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Eg(t).queue;vg(t,h,i,he,a===null?hA:function(){return Tg(t),a(l)})}function Eg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Tg(t){var i=Eg(t).next.queue;qo(t,i,{},pn())}function Ef(){return Kt(al)}function Ag(){return _t().memoizedState}function Sg(){return _t().memoizedState}function fA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=ar(a);var l=or(i,t,a);l!==null&&(gn(l,i,a),ko(l,i,a)),i={cache:Xh()},t.payload=i;return}i=i.return}}function dA(t,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ku(t)?Rg(i,a):(a=jh(t,i,a,l),a!==null&&(gn(a,t,l),wg(a,i,l)))}function bg(t,i,a){var l=pn();qo(t,i,a,l)}function qo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(t))Rg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,cn(E,v))return vu(t,i,h,0),et===null&&yu(),!1}catch{}finally{}if(a=jh(t,i,h,l),a!==null)return gn(a,t,l),wg(a,i,l),!0}return!1}function Tf(t,i,a,l){if(l={lane:2,revertLane:Jf(),action:l,hasEagerState:!1,eagerState:null,next:null},ku(t)){if(i)throw Error(s(479))}else i=jh(t,a,l,2),i!==null&&gn(i,t,2)}function ku(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Rg(t,i){ga=Du=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,uo(t,a)}}var Uu={readContext:Kt,use:xu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Ig={readContext:Kt,use:xu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:cg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Pu(4194308,4,mg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Pu(4194308,4,t,i)},useInsertionEffect:function(t,i){Pu(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Ss){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Ss){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=pf(t);var i=t.queue,a=bg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:_f,useDeferredValue:function(t,i){var a=nn();return yf(a,t,i)},useTransition:function(){var t=pf(!1);return t=vg.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=nn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(ke&124)!==0||Yp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,cg($p.bind(null,l,d,t),[t]),l.flags|=2048,ya(9,Vu(),Xp.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(qe){var a=xi,l=Oi;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ou++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=oA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Ef,useFormState:sg,useActionState:sg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Tf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:ff,useCacheRefresh:function(){return nn().memoizedState=fA.bind(null,Ie)}},Cg={readContext:Kt,use:xu,useCallback:gg,useContext:Kt,useEffect:hg,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:_g,useReducer:Mu,useRef:ug,useState:function(){return Mu(Pi)},useDebugValue:_f,useDeferredValue:function(t,i){var a=_t();return yg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Mu(Pi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:zo(t),i]},useSyncExternalStore:Qp,useId:Ag,useHostTransitionStatus:Ef,useFormState:ag,useActionState:ag,useOptimistic:function(t,i){var a=_t();return Jp(a,Xe,t,i)},useMemoCache:ff,useCacheRefresh:Sg},mA={readContext:Kt,use:xu,useCallback:gg,useContext:Kt,useEffect:hg,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:_g,useReducer:mf,useRef:ug,useState:function(){return mf(Pi)},useDebugValue:_f,useDeferredValue:function(t,i){var a=_t();return Xe===null?yf(a,t,i):yg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=mf(Pi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:zo(t),i]},useSyncExternalStore:Qp,useId:Ag,useHostTransitionStatus:Ef,useFormState:lg,useActionState:lg,useOptimistic:function(t,i){var a=_t();return Xe!==null?Jp(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Sg},va=null,Ho=0;function Lu(t){var i=Ho;return Ho+=1,va===null&&(va=[]),jp(va,t,i)}function Fo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ju(t,i){throw i.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ng(t){var i=t._init;return i(t._payload)}function Dg(t){function i(V,O){if(t){var L=V.deletions;L===null?(V.deletions=[O],V.flags|=16):L.push(O)}}function a(V,O){if(!t)return null;for(;O!==null;)i(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=Di(V,O),V.index=0,V.sibling=null,V}function d(V,O,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<O?(V.flags|=67108866,O):L):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,O,L,Q){return O===null||O.tag!==6?(O=Bh(L,V.mode,Q),O.return=V,O):(O=h(O,L),O.return=V,O)}function R(V,O,L,Q){var oe=L.type;return oe===W?K(V,O,L.props.children,Q,L.key):O!==null&&(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===b&&Ng(oe)===O.type)?(O=h(O,L.props),Fo(O,L),O.return=V,O):(O=Tu(L.type,L.key,L.props,null,V.mode,Q),Fo(O,L),O.return=V,O)}function j(V,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=qh(L,V.mode,Q),O.return=V,O):(O=h(O,L.children||[]),O.return=V,O)}function K(V,O,L,Q,oe){return O===null||O.tag!==7?(O=ps(L,V.mode,Q,oe),O.return=V,O):(O=h(O,L),O.return=V,O)}function Y(V,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bh(""+O,V.mode,L),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return L=Tu(O.type,O.key,O.props,null,V.mode,L),Fo(L,O),L.return=V,L;case G:return O=qh(O,V.mode,L),O.return=V,O;case b:var Q=O._init;return O=Q(O._payload),Y(V,O,L)}if(tt(O)||P(O))return O=ps(O,V.mode,L,null),O.return=V,O;if(typeof O.then=="function")return Y(V,Lu(O),L);if(O.$$typeof===ce)return Y(V,Ru(V,O),L);ju(V,O)}return null}function z(V,O,L,Q){var oe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return oe!==null?null:E(V,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return L.key===oe?R(V,O,L,Q):null;case G:return L.key===oe?j(V,O,L,Q):null;case b:return oe=L._init,L=oe(L._payload),z(V,O,L,Q)}if(tt(L)||P(L))return oe!==null?null:K(V,O,L,Q,null);if(typeof L.then=="function")return z(V,O,Lu(L),Q);if(L.$$typeof===ce)return z(V,O,Ru(V,L),Q);ju(V,L)}return null}function B(V,O,L,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,E(O,V,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return V=V.get(Q.key===null?L:Q.key)||null,R(O,V,Q,oe);case G:return V=V.get(Q.key===null?L:Q.key)||null,j(O,V,Q,oe);case b:var Ne=Q._init;return Q=Ne(Q._payload),B(V,O,L,Q,oe)}if(tt(Q)||P(Q))return V=V.get(L)||null,K(O,V,Q,oe,null);if(typeof Q.then=="function")return B(V,O,L,Lu(Q),oe);if(Q.$$typeof===ce)return B(V,O,L,Ru(O,Q),oe);ju(O,Q)}return null}function Ee(V,O,L,Q){for(var oe=null,Ne=null,fe=O,_e=O=0,Ot=null;fe!==null&&_e<L.length;_e++){fe.index>_e?(Ot=fe,fe=null):Ot=fe.sibling;var ze=z(V,fe,L[_e],Q);if(ze===null){fe===null&&(fe=Ot);break}t&&fe&&ze.alternate===null&&i(V,fe),O=d(ze,O,_e),Ne===null?oe=ze:Ne.sibling=ze,Ne=ze,fe=Ot}if(_e===L.length)return a(V,fe),qe&&_s(V,_e),oe;if(fe===null){for(;_e<L.length;_e++)fe=Y(V,L[_e],Q),fe!==null&&(O=d(fe,O,_e),Ne===null?oe=fe:Ne.sibling=fe,Ne=fe);return qe&&_s(V,_e),oe}for(fe=l(fe);_e<L.length;_e++)Ot=B(fe,V,_e,L[_e],Q),Ot!==null&&(t&&Ot.alternate!==null&&fe.delete(Ot.key===null?_e:Ot.key),O=d(Ot,O,_e),Ne===null?oe=Ot:Ne.sibling=Ot,Ne=Ot);return t&&fe.forEach(function(br){return i(V,br)}),qe&&_s(V,_e),oe}function ge(V,O,L,Q){if(L==null)throw Error(s(151));for(var oe=null,Ne=null,fe=O,_e=O=0,Ot=null,ze=L.next();fe!==null&&!ze.done;_e++,ze=L.next()){fe.index>_e?(Ot=fe,fe=null):Ot=fe.sibling;var br=z(V,fe,ze.value,Q);if(br===null){fe===null&&(fe=Ot);break}t&&fe&&br.alternate===null&&i(V,fe),O=d(br,O,_e),Ne===null?oe=br:Ne.sibling=br,Ne=br,fe=Ot}if(ze.done)return a(V,fe),qe&&_s(V,_e),oe;if(fe===null){for(;!ze.done;_e++,ze=L.next())ze=Y(V,ze.value,Q),ze!==null&&(O=d(ze,O,_e),Ne===null?oe=ze:Ne.sibling=ze,Ne=ze);return qe&&_s(V,_e),oe}for(fe=l(fe);!ze.done;_e++,ze=L.next())ze=B(fe,V,_e,ze.value,Q),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?_e:ze.key),O=d(ze,O,_e),Ne===null?oe=ze:Ne.sibling=ze,Ne=ze);return t&&fe.forEach(function(pS){return i(V,pS)}),qe&&_s(V,_e),oe}function Ze(V,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case k:e:{for(var oe=L.key;O!==null;){if(O.key===oe){if(oe=L.type,oe===W){if(O.tag===7){a(V,O.sibling),Q=h(O,L.props.children),Q.return=V,V=Q;break e}}else if(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===b&&Ng(oe)===O.type){a(V,O.sibling),Q=h(O,L.props),Fo(Q,L),Q.return=V,V=Q;break e}a(V,O);break}else i(V,O);O=O.sibling}L.type===W?(Q=ps(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=Tu(L.type,L.key,L.props,null,V.mode,Q),Fo(Q,L),Q.return=V,V=Q)}return v(V);case G:e:{for(oe=L.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(V,O.sibling),Q=h(O,L.children||[]),Q.return=V,V=Q;break e}else{a(V,O);break}else i(V,O);O=O.sibling}Q=qh(L,V.mode,Q),Q.return=V,V=Q}return v(V);case b:return oe=L._init,L=oe(L._payload),Ze(V,O,L,Q)}if(tt(L))return Ee(V,O,L,Q);if(P(L)){if(oe=P(L),typeof oe!="function")throw Error(s(150));return L=oe.call(L),ge(V,O,L,Q)}if(typeof L.then=="function")return Ze(V,O,Lu(L),Q);if(L.$$typeof===ce)return Ze(V,O,Ru(V,L),Q);ju(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(V,O.sibling),Q=h(O,L),Q.return=V,V=Q):(a(V,O),Q=Bh(L,V.mode,Q),Q.return=V,V=Q),v(V)):a(V,O)}return function(V,O,L,Q){try{Ho=0;var oe=Ze(V,O,L,Q);return va=null,oe}catch(fe){if(fe===Vo||fe===Iu)throw fe;var Ne=hn(29,fe,null,V.mode);return Ne.lanes=Q,Ne.return=V,Ne}finally{}}}var Ea=Dg(!0),Og=Dg(!1),Cn=Z(null),ni=null;function ur(t){var i=t.alternate;te(bt,bt.current&1),te(Cn,t),ni===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ni=t)}function xg(t){if(t.tag===22){if(te(bt,bt.current),te(Cn,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else cr()}function cr(){te(bt,bt.current),te(Cn,Cn.current)}function ki(t){re(Cn),ni===t&&(ni=null),re(bt)}var bt=Z(0);function zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Af(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pn(),h=ar(l);h.payload=i,a!=null&&(h.callback=a),i=or(t,h,l),i!==null&&(gn(i,t,l),ko(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pn(),h=ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=or(t,h,l),i!==null&&(gn(i,t,l),ko(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),l=ar(a);l.tag=2,i!=null&&(l.callback=i),i=or(t,l,a),i!==null&&(gn(i,t,a),ko(i,t,a))}};function Mg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!wo(a,l)||!wo(h,d):!0}function Vg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Sf.enqueueReplaceState(i,i.state,null)}function bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Pg(t){Bu(t)}function kg(t){console.error(t)}function Ug(t){Bu(t)}function qu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bf(t,i,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(t,i)},a}function jg(t){return t=ar(t),t.tag=3,t}function zg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Lg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Lg(i,a,l),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function pA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ni===null?Yf():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),$f(t,l,h)),!1;case 22:return a.flags|=65536,l===Wh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),$f(t,l,h)),!1}throw Error(s(435,a.tag))}return $f(t,l,h),Yf(),!1}if(qe)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Gh&&(t=Error(s(422),{cause:l}),Do(bn(t,a)))):(l!==Gh&&(i=Error(s(423),{cause:l}),Do(bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=bf(t.stateNode,l,h),tf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),Zo===null?Zo=[d]:Zo.push(d),ut!==4&&(ut=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=bf(a.stateNode,l,t),tf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jg(h),zg(h,t,a,l),tf(a,h),!1}a=a.return}while(a!==null);return!1}var Bg=Error(s(461)),Nt=!1;function kt(t,i,a,l){i.child=t===null?Og(i,null,a,l):Ea(i,t.child,a,l)}function qg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ts(i),l=of(t,i,a,v,d,h),E=lf(),t!==null&&!Nt?(uf(t,i,h),Ui(t,i,h)):(qe&&E&&Hh(i),i.flags|=1,kt(t,i,l,h),i.child)}function Hg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!zh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Fg(t,i,d,l,h)):(t=Tu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:wo,a(v,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Di(d,l),t.ref=i.ref,t.return=i,i.child=t}function Fg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(wo(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,xf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Rf(t,i,a,l,h)}function Gg(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Kg(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&wu(i,d!==null?d.cachePool:null),d!==null?Fp(i,d):rf(),xg(i);else return i.lanes=i.childLanes=536870912,Kg(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(wu(i,d.cachePool),Fp(i,d),cr(),i.memoizedState=null):(t!==null&&wu(i,null),rf(),cr());return kt(t,i,h,a),i.child}function Kg(t,i,a,l){var h=Zh();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&wu(i,null),rf(),xg(i),t!==null&&Oo(t,i,l,!0),null}function Hu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Rf(t,i,a,l,h){return Ts(i),a=of(t,i,a,l,void 0,h),l=lf(),t!==null&&!Nt?(uf(t,i,h),Ui(t,i,h)):(qe&&l&&Hh(i),i.flags|=1,kt(t,i,a,h),i.child)}function Qg(t,i,a,l,h,d){return Ts(i),i.updateQueue=null,a=Kp(i,l,a,h),Gp(t),l=lf(),t!==null&&!Nt?(uf(t,i,d),Ui(t,i,d)):(qe&&l&&Hh(i),i.flags|=1,kt(t,i,a,d),i.child)}function Yg(t,i,a,l,h){if(Ts(i),i.stateNode===null){var d=ca,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Jh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):ca,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Af(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Sf.enqueueReplaceState(d,d.state,null),Lo(i,l,d,h),Uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,R=bs(a,E);d.props=R;var j=d.context,K=a.contextType;v=ca,typeof K=="object"&&K!==null&&(v=Kt(K));var Y=a.getDerivedStateFromProps;K=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==v)&&Vg(i,d,l,v),sr=!1;var z=i.memoizedState;d.state=z,Lo(i,l,d,h),Uo(),j=i.memoizedState,E||z!==j||sr?(typeof Y=="function"&&(Af(i,a,Y,l),j=i.memoizedState),(R=sr||Mg(i,a,R,l,z,j,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ef(t,i),v=i.memoizedProps,K=bs(a,v),d.props=K,Y=i.pendingProps,z=d.context,j=a.contextType,R=ca,typeof j=="object"&&j!==null&&(R=Kt(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Y||z!==R)&&Vg(i,d,l,R),sr=!1,z=i.memoizedState,d.state=z,Lo(i,l,d,h),Uo();var B=i.memoizedState;v!==Y||z!==B||sr||t!==null&&t.dependencies!==null&&bu(t.dependencies)?(typeof E=="function"&&(Af(i,a,E,l),B=i.memoizedState),(K=sr||Mg(i,a,K,l,z,B,R)||t!==null&&t.dependencies!==null&&bu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=R,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Hu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ea(i,t.child,null,h),i.child=Ea(i,null,a,h)):kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ui(t,i,h),t}function Xg(t,i,a,l){return No(),i.flags|=256,kt(t,i,a,l),i.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:kp()}}function Cf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function $g(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?ur(i):cr(),qe){var E=lt,R;if(R=E){e:{for(R=E,E=ti;R.nodeType!==8;){if(!E){E=null;break e}if(R=Ln(R.nextSibling),R===null){E=null;break e}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:gs!==null?{id:Oi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},R=hn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,tn=i,lt=null,R=!0):R=!1}R||vs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return hd(E)?i.lanes=32:i.lanes=536870912,null;ki(i)}return E=l.children,l=l.fallback,h?(cr(),h=i.mode,E=Fu({mode:"hidden",children:E},h),l=ps(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=If(a),h.childLanes=Cf(t,v,a),i.memoizedState=wf,l):(ur(i),Nf(i,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(ur(i),i.flags&=-257,i=Df(t,i,a)):i.memoizedState!==null?(cr(),i.child=t.child,i.flags|=128,i=null):(cr(),h=l.fallback,E=i.mode,l=Fu({mode:"visible",children:l.children},E),h=ps(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ea(i,t.child,null,a),l=i.child,l.memoizedState=If(a),l.childLanes=Cf(t,v,a),i.memoizedState=wf,i=h);else if(ur(i),hd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,Do({value:l,source:null,stack:null}),i=Df(t,i,a)}else if(Nt||Oo(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:Zi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ua(t,l),gn(v,t,l),Bg;E.data==="$?"||Yf(),i=Df(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,lt=Ln(E.nextSibling),tn=i,qe=!0,ys=null,ti=!1,t!==null&&(wn[In++]=Oi,wn[In++]=xi,wn[In++]=gs,Oi=t.id,xi=t.overflow,gs=i),i=Nf(i,l.children),i.flags|=4096);return i}return h?(cr(),h=l.fallback,E=i.mode,R=t.child,j=R.sibling,l=Di(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?h=Di(j,h):(h=ps(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=t.child.memoizedState,E===null?E=If(a):(R=E.cachePool,R!==null?(j=St._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=kp(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=Cf(t,v,a),i.memoizedState=wf,l):(ur(i),a=t.child,t=a.sibling,a=Di(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Nf(t,i){return i=Fu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fu(t,i){return t=hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Df(t,i,a){return Ea(i,t.child,null,a),t=Nf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Zg(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Qh(t.return,i,a)}function Of(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Wg(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(kt(t,i,l.children,a),l=bt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zg(t,a,i);else if(t.tag===19)Zg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(bt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Of(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Of(i,!0,a,null,d);break;case"together":Of(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Oo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Di(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Di(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&bu(t)))}function gA(t,i,a){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),rr(i,St,t.memoizedState.cache),No();break;case 27:case 5:xn(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:rr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?$g(t,i,a):(ur(i),t=Ui(t,i,a),t!==null?t.sibling:null);ur(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Wg(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(bt,bt.current),l)break;return null;case 22:case 23:return i.lanes=0,Gg(t,i,a);case 24:rr(i,St,t.memoizedState.cache)}return Ui(t,i,a)}function Jg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!xf(t,a)&&(i.flags&128)===0)return Nt=!1,gA(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,qe&&(i.flags&1048576)!==0&&Np(i,Su,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")zh(l)?(t=bs(l,t),i.tag=1,i=Yg(null,i,l,t,a)):(i.tag=0,i=Rf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ve){i.tag=11,i=qg(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=Hg(null,i,l,t,a);break e}}throw i=Je(l)||l,Error(s(306,i,""))}}return i;case 0:return Rf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=bs(l,i.pendingProps),Yg(t,i,l,h,a);case 3:e:{if(je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ef(t,i),Lo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,rr(i,St,l),l!==d.cache&&Yh(i,[St],a,!0),Uo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Xg(t,i,l,a);break e}else if(l!==h){h=bn(Error(s(424)),i),Do(h),i=Xg(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Ln(t.firstChild),tn=i,qe=!0,ys=null,ti=!0,a=Og(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(No(),l===h){i=Ui(t,i,a);break e}kt(t,i,l,a)}i=i.child}return i;case 26:return Hu(t,i),t===null?(a=iy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=rc(ue.current).createElement(a),l[Et]=i,l[mt]=t,Lt(l,a,t),ct(l),i.stateNode=l):i.memoizedState=iy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return xn(i),t===null&&qe&&(l=i.stateNode=ey(i.type,i.pendingProps,ue.current),tn=i,ti=!0,h=lt,vr(i.type)?(fd=h,lt=Ln(l.firstChild)):lt=h),kt(t,i,i.pendingProps.children,a),Hu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=lt)&&(l=FA(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,tn=i,lt=Ln(l.firstChild),ti=!1,h=!0):h=!1),h||vs(i)),xn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,ld(h,d)?l=null:v!==null&&ld(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=of(t,i,lA,null,null,a),al._currentValue=h),Hu(t,i),kt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=lt)&&(a=GA(a,i.pendingProps,ti),a!==null?(i.stateNode=a,tn=i,lt=null,t=!0):t=!1),t||vs(i)),null;case 13:return $g(t,i,a);case 4:return je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ea(i,null,l,a):kt(t,i,l,a),i.child;case 11:return qg(t,i,i.type,i.pendingProps,a);case 7:return kt(t,i,i.pendingProps,a),i.child;case 8:return kt(t,i,i.pendingProps.children,a),i.child;case 12:return kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,rr(i,i.type,l.value),kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ts(i),h=Kt(h),l=l(h),i.flags|=1,kt(t,i,l,a),i.child;case 14:return Hg(t,i,i.type,i.pendingProps,a);case 15:return Fg(t,i,i.type,i.pendingProps,a);case 19:return Wg(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Fu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Di(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Gg(t,i,a);case 24:return Ts(i),l=Kt(St),t===null?(h=Zh(),h===null&&(h=et,d=Xh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Jh(i),rr(i,St,h)):((t.lanes&a)!==0&&(ef(t,i),Lo(i,null,null,a),Uo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),rr(i,St,l)):(l=d.cache,rr(i,St,l),l!==h.cache&&Yh(i,[St],a,!0))),kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Li(t){t.flags|=4}function e_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ly(i)){if(i=Cn.current,i!==null&&((ke&4194048)===ke?ni!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==ni))throw Po=Wh,Up;t.flags|=8192}}function Gu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?oo():536870912,t.lanes|=i,ba|=i)}function Go(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function _A(t,i,a){var l=i.pendingProps;switch(Fh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(St),Ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Co(i)?Li(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xp())),st(i),null;case 26:return a=i.memoizedState,t===null?(Li(i),a!==null?(st(i),e_(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Li(i),st(i),e_(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&Li(i),st(i),i.flags&=-16777217),null;case 27:_i(i),a=ue.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=q.current,Co(i)?Dp(i):(t=ey(h,l,a),i.stateNode=t,Li(i))}return st(i),null;case 5:if(_i(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(t=q.current,Co(i))Dp(i);else{switch(h=rc(ue.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Et]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Lt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Li(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ue.current,Co(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Q_(t.nodeValue,a)),t||vs(i)}else t=rc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Co(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=xp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Gu(i,i.updateQueue),st(i),null;case 4:return Ft(),t===null&&id(i.stateNode.containerInfo),st(i),null;case 10:return Vi(i.type),st(i),null;case 19:if(re(bt),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Go(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=zu(t),d!==null){for(i.flags|=128,Go(h,!1),t=d.updateQueue,i.updateQueue=t,Gu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Cp(a,t),a=a.sibling;return te(bt,bt.current&1|2),i.child}t=t.sibling}h.tail!==null&&yn()>Yu&&(i.flags|=128,l=!0,Go(h,!1),i.lanes=4194304)}else{if(!l)if(t=zu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Gu(i,t),Go(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return st(i),null}else 2*yn()-h.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,l=!0,Go(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,t=bt.current,te(bt,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return ki(i),sf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Gu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&re(As),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(St),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function yA(t,i){switch(Fh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(St),Ft(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _i(i),null;case 13:if(ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));No()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(bt),null;case 4:return Ft(),null;case 10:return Vi(i.type),null;case 22:case 23:return ki(i),sf(),t!==null&&re(As),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(St),null;case 25:return null;default:return null}}function t_(t,i){switch(Fh(i),i.tag){case 3:Vi(St),Ft();break;case 26:case 27:case 5:_i(i);break;case 4:Ft();break;case 13:ki(i);break;case 19:re(bt);break;case 10:Vi(i.type);break;case 22:case 23:ki(i),sf(),t!==null&&re(As);break;case 24:Vi(St)}}function Ko(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){We(i,i.return,E)}}function hr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a,j=E;try{j()}catch(K){We(h,R,K)}}}l=l.next}while(l!==d)}}catch(K){We(i,i.return,K)}}function n_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hp(i,a)}catch(l){We(t,t.return,l)}}}function i_(t,i,a){a.props=bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Qo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function r_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Mf(t,i,a){try{var l=t.stateNode;jA(l,t.type,a,i),l[mt]=i}catch(h){We(t,t.return,h)}}function s_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vr(t.type)||t.tag===4}function Vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ic));else if(l!==4&&(l===27&&vr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Pf(t,i,a),t=t.sibling;t!==null;)Pf(t,i,a),t=t.sibling}function Ku(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&vr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ku(t,i,a),t=t.sibling;t!==null;)Ku(t,i,a),t=t.sibling}function a_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Lt(i,l,a),i[Et]=t,i[mt]=a}catch(d){We(t,t.return,d)}}var ji=!1,ft=!1,kf=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function vA(t,i){if(t=t.containerInfo,ad=cc,t=yp(t),Mh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,R=-1,j=0,K=0,Y=t,z=null;t:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==d||l!==0&&Y.nodeType!==3||(R=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===t)break t;if(z===a&&++j===h&&(E=v),z===d&&++K===l&&(R=v),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(od={focusedElem:t,selectionRange:a},cc=!1,Dt=i;Dt!==null;)if(i=Dt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Dt=t;else for(;Dt!==null;){switch(i=Dt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=bs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){We(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)cd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Dt=t;break}Dt=i.return}}function l_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(t,a),l&4&&Ko(5,a);break;case 1:if(fr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&n_(a),l&512&&Qo(a,a.return);break;case 3:if(fr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hp(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&a_(a);case 26:case 5:fr(t,a),i===null&&l&4&&r_(a),l&512&&Qo(a,a.return);break;case 12:fr(t,a);break;case 13:fr(t,a),l&4&&h_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=CA.bind(null,a),KA(t,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){i=i!==null&&i.memoizedState!==null||ft,h=ji;var d=ft;ji=l,(ft=i)&&!d?dr(t,a,(a.subtreeFlags&8772)!==0):fr(t,a),ji=h,ft=d}break;case 30:break;default:fr(t,a)}}function u_(t){var i=t.alternate;i!==null&&(t.alternate=null,u_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&er(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,rn=!1;function zi(t,i,a){for(a=a.child;a!==null;)c_(t,i,a),a=a.sibling}function c_(t,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||ii(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ii(a,i);var l=rt,h=rn;vr(a.type)&&(rt=a.stateNode,rn=!1),zi(t,i,a),nl(a.stateNode),rt=l,rn=h;break;case 5:ft||ii(a,i);case 6:if(l=rt,h=rn,rt=null,zi(t,i,a),rt=l,rn=h,rt!==null)if(rn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:rt!==null&&(rn?(t=rt,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cl(t)):W_(rt,a.stateNode));break;case 4:l=rt,h=rn,rt=a.stateNode.containerInfo,rn=!0,zi(t,i,a),rt=l,rn=h;break;case 0:case 11:case 14:case 15:ft||hr(2,a,i),ft||hr(4,a,i),zi(t,i,a);break;case 1:ft||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,i,l)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,zi(t,i,a),ft=l;break;default:zi(t,i,a)}}function h_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(a){We(i,i.return,a)}}function EA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new o_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new o_),i;default:throw Error(s(435,t.tag))}}function Uf(t,i){var a=EA(t);i.forEach(function(l){var h=NA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(vr(E.type)){rt=E.stateNode,rn=!1;break e}break;case 5:rt=E.stateNode,rn=!1;break e;case 3:case 4:rt=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(rt===null)throw Error(s(160));c_(d,v,h),rt=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)f_(i,t),i=i.sibling}var Un=null;function f_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(hr(3,t,t.return),Ko(3,t),hr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(ft||a===null||ii(a,a.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(fn(i,t),dn(t),l&512&&(ft||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Jr]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Lt(d,l,a),d[Et]=t,ct(d),l=d;break e;case"link":var v=ay("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),Lt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=ay("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),Lt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,ct(d),l=d}t.stateNode=l}else oy(h,t.type,t.stateNode);else t.stateNode=sy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?oy(h,t.type,t.stateNode):sy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(ft||a===null||ii(a,a.return)),a!==null&&l&4&&Mf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(ft||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(B){We(t,t.return,B)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Mf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(kf=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(B){We(t,t.return,B)}}break;case 3:if(oc=null,h=Un,Un=sc(i.containerInfo),fn(i,t),Un=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(i.containerInfo)}catch(B){We(t,t.return,B)}kf&&(kf=!1,d_(t));break;case 4:l=Un,Un=sc(t.stateNode.containerInfo),fn(i,t),dn(t),Un=l;break;case 12:fn(i,t),dn(t);break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hf=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uf(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=ji,K=ft;if(ji=j||h,ft=K||R,fn(i,t),ft=K,ji=j,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ji||ft||Rs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){We(R,R.return,B)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){We(R,R.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uf(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uf(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(s_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Vf(t);Ku(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var E=Vf(t);Ku(t,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,j=Vf(t);Pf(t,j,R);break;default:throw Error(s(161))}}catch(K){We(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function d_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;d_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l_(t,i.alternate,i),i=i.sibling}function Rs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:hr(4,i,i.return),Rs(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i_(i,i.return,a),Rs(i);break;case 27:nl(i.stateNode);case 26:case 5:ii(i,i.return),Rs(i);break;case 22:i.memoizedState===null&&Rs(i);break;case 30:Rs(i);break;default:Rs(i)}t=t.sibling}}function dr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:dr(h,d,a),Ko(4,d);break;case 1:if(dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){We(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)qp(R[h],E)}catch(j){We(l,l.return,j)}}a&&v&64&&n_(d),Qo(d,d.return);break;case 27:a_(d);case 26:case 5:dr(h,d,a),a&&l===null&&v&4&&r_(d),Qo(d,d.return);break;case 12:dr(h,d,a);break;case 13:dr(h,d,a),a&&v&4&&h_(h,d);break;case 22:d.memoizedState===null&&dr(h,d,a),Qo(d,d.return);break;case 30:break;default:dr(h,d,a)}i=i.sibling}}function Lf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&xo(a))}function jf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m_(t,i,a,l),i=i.sibling}function m_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&Ko(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){We(i,i.return,R)}}else ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):Yo(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Ta(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Lf(v,i);break;case 24:ri(t,i,a,l),h&2048&&jf(i.alternate,i);break;default:ri(t,i,a,l)}}function Ta(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,E=a,R=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ta(d,v,E,R,h),Ko(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Ta(d,v,E,R,h):Yo(d,v):(K._visibility|=2,Ta(d,v,E,R,h)),h&&j&2048&&Lf(v.alternate,v);break;case 24:Ta(d,v,E,R,h),h&&j&2048&&jf(v.alternate,v);break;default:Ta(d,v,E,R,h)}i=i.sibling}}function Yo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Yo(a,l),h&2048&&Lf(l.alternate,l);break;case 24:Yo(a,l),h&2048&&jf(l.alternate,l);break;default:Yo(a,l)}i=i.sibling}}var Xo=8192;function Aa(t){if(t.subtreeFlags&Xo)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 26:Aa(t),t.flags&Xo&&t.memoizedState!==null&&sS(Un,t.memoizedState,t.memoizedProps);break;case 5:Aa(t);break;case 3:case 4:var i=Un;Un=sc(t.stateNode.containerInfo),Aa(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,Aa(t),Xo=i):Aa(t));break;default:Aa(t)}}function g_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function $o(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dt=l,y_(l,t)}g_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)__(t),t=t.sibling}function __(t){switch(t.tag){case 0:case 11:case 15:$o(t),t.flags&2048&&hr(9,t,t.return);break;case 3:$o(t);break;case 12:$o(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Qu(t)):$o(t);break;default:$o(t)}}function Qu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dt=l,y_(l,t)}g_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:hr(8,i,i.return),Qu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Qu(i));break;default:Qu(i)}t=t.sibling}}function y_(t,i){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:hr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dt=l;else e:for(a=t;Dt!==null;){l=Dt;var h=l.sibling,d=l.return;if(u_(l),l===a){Dt=null;break e}if(h!==null){h.return=d,Dt=h;break e}Dt=d}}}var TA={getCacheForType:function(t){var i=Kt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},AA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,De=null,ke=0,Qe=0,mn=null,mr=!1,Sa=!1,zf=!1,Bi=0,ut=0,pr=0,ws=0,Bf=0,Nn=0,ba=0,Zo=null,sn=null,qf=!1,Hf=0,Yu=1/0,Xu=null,gr=null,Ut=0,_r=null,Ra=null,wa=0,Ff=0,Gf=null,v_=null,Wo=0,Kf=null;function pn(){if((Ke&2)!==0&&ke!==0)return ke&-ke;if(F.T!==null){var t=da;return t!==0?t:Jf()}return Wi()}function E_(){Nn===0&&(Nn=(ke&536870912)===0||qe?ao():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Nn}function gn(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),yr(t,ke,Nn,!1)),vi(t,a),((Ke&2)===0||t!==et)&&(t===et&&((Ke&2)===0&&(ws|=a),ut===4&&yr(t,ke,Nn,!1)),si(t))}function T_(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Wr(t,i),h=l?RA(t,i):Xf(t,i,!0),d=l;do{if(h===0){Sa&&!l&&yr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!SA(a)){h=Xf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=Zo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,v).flags|=256),v=Xf(E,v,!1),v!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=d,ws|=d,h=4;break e}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ia(t,0),yr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:yr(l,i,Nn,!mr);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Hf+300-yn(),10<h)){if(yr(l,i,Nn,!mr),Fs(l,0,!0)!==0)break e;l.timeoutHandle=$_(A_.bind(null,l,a,sn,Xu,qf,i,Nn,ws,ba,mr,d,2,-0,0),h);break e}A_(l,a,sn,Xu,qf,i,Nn,ws,ba,mr,d,0,-0,0)}}break}while(!0);si(t)}function A_(t,i,a,l,h,d,v,E,R,j,K,Y,z,B){if(t.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:rS},p_(i),Y=aS(),Y!==null)){t.cancelPendingCommit=Y(N_.bind(null,t,i,d,a,l,h,v,E,R,K,1,z,B)),yr(t,d,v,!j);return}N_(t,i,d,a,l,h,v,E,R)}function SA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yr(t,i,a,l){i&=~Bf,i&=~ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(t,a,i)}function $u(){return(Ke&6)===0?(Jo(0),!1):!0}function Qf(){if(De!==null){if(Qe===0)var t=De.return;else t=De,Mi=Es=null,cf(t),va=null,Ho=0,t=De;for(;t!==null;)t_(t.alternate,t),t=t.return;De=null}}function Ia(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qf(),et=t,De=a=Di(t.current,null),ke=i,Qe=0,mn=null,mr=!1,Sa=Wr(t,i),zf=!1,ba=Nn=Bf=ws=pr=ut=0,sn=Zo=null,qf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return Bi=i,yu(),a}function S_(t,i){Ie=null,F.H=Uu,i===Vo||i===Iu?(i=zp(),Qe=3):i===Up?(i=zp(),Qe=4):Qe=i===Bg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,De===null&&(ut=1,qu(t,bn(i,t.current)))}function b_(){var t=F.H;return F.H=Uu,t===null?Uu:t}function R_(){var t=F.A;return F.A=TA,t}function Yf(){ut=4,mr||(ke&4194048)!==ke&&Cn.current!==null||(Sa=!0),(pr&134217727)===0&&(ws&134217727)===0||et===null||yr(et,ke,Nn,!1)}function Xf(t,i,a){var l=Ke;Ke|=2;var h=b_(),d=R_();(et!==t||ke!==i)&&(Xu=null,Ia(t,i)),i=!1;var v=ut;e:do try{if(Qe!==0&&De!==null){var E=De,R=mn;switch(Qe){case 8:Qf(),v=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var j=Qe;if(Qe=0,mn=null,Ca(t,E,R,j),a&&Sa){v=0;break e}break;default:j=Qe,Qe=0,mn=null,Ca(t,E,R,j)}}bA(),v=ut;break}catch(K){S_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Mi=Es=null,Ke=l,F.H=h,F.A=d,De===null&&(et=null,ke=0,yu()),v}function bA(){for(;De!==null;)w_(De)}function RA(t,i){var a=Ke;Ke|=2;var l=b_(),h=R_();et!==t||ke!==i?(Xu=null,Yu=yn()+500,Ia(t,i)):Sa=Wr(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=mn;t:switch(Qe){case 1:Qe=0,mn=null,Ca(t,i,d,1);break;case 2:case 9:if(Lp(d)){Qe=0,mn=null,I_(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),si(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Lp(d)?(Qe=0,mn=null,I_(i)):(Qe=0,mn=null,Ca(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var E=De;if(!v||ly(v)){Qe=0,mn=null;var R=E.sibling;if(R!==null)De=R;else{var j=E.return;j!==null?(De=j,Zu(j)):De=null}break t}}Qe=0,mn=null,Ca(t,i,d,5);break;case 6:Qe=0,mn=null,Ca(t,i,d,6);break;case 8:Qf(),ut=6;break e;default:throw Error(s(462))}}wA();break}catch(K){S_(t,K)}while(!0);return Mi=Es=null,F.H=l,F.A=h,Ke=a,De!==null?0:(et=null,ke=0,yu(),ut)}function wA(){for(;De!==null&&!no();)w_(De)}function w_(t){var i=Jg(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?Zu(t):De=i}function I_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Qg(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Qg(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:cf(i);default:t_(a,i),i=De=Cp(i,Bi),i=Jg(a,i,Bi)}t.memoizedProps=t.pendingProps,i===null?Zu(t):De=i}function Ca(t,i,a,l){Mi=Es=null,cf(i),va=null,Ho=0;var h=i.return;try{if(pA(t,h,i,a,ke)){ut=1,qu(t,bn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ut=1,qu(t,bn(a,t.current)),De=null;return}i.flags&32768?(qe||l===1?t=!0:Sa||(ke&536870912)!==0?t=!1:(mr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),C_(i,t)):Zu(i)}function Zu(t){var i=t;do{if((i.flags&32768)!==0){C_(i,mr);return}t=i.return;var a=_A(i.alternate,i,Bi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ut===0&&(ut=5)}function C_(t,i){do{var a=yA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ut=6,De=null}function N_(t,i,a,l,h,d,v,E,R){t.cancelPendingCommit=null;do Wu();while(Ut!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Lh,lo(t,a,d,v,E,R),t===et&&(De=et=null,ke=0),Ra=i,_r=t,wa=a,Ff=d,Gf=h,v_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,DA(Yr,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ie.p,ie.p=2,v=Ke,Ke|=4;try{vA(t,i,a)}finally{Ke=v,ie.p=h,F.T=l}}Ut=1,D_(),O_(),x_()}}function D_(){if(Ut===1){Ut=0;var t=_r,i=Ra,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=Ke;Ke|=4;try{f_(i,t);var d=od,v=yp(t.containerInfo),E=d.focusedElem,R=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(R!==null&&Mh(E)){var j=R.start,K=R.end;if(K===void 0&&(K=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(K,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),Ee=E.textContent.length,ge=Math.min(R.start,Ee),Ze=R.end===void 0?ge:Math.min(R.end,Ee);!B.extend&&ge>Ze&&(v=Ze,Ze=ge,ge=v);var V=gp(E,ge),O=gp(E,Ze);if(V&&O&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),B.removeAllRanges(),ge>Ze?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}cc=!!ad,od=ad=null}finally{Ke=h,ie.p=l,F.T=a}}t.current=i,Ut=2}}function O_(){if(Ut===2){Ut=0;var t=_r,i=Ra,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=Ke;Ke|=4;try{l_(t,i.alternate,i)}finally{Ke=h,ie.p=l,F.T=a}}Ut=3}}function x_(){if(Ut===4||Ut===3){Ut=0,Ql();var t=_r,i=Ra,a=wa,l=v_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Ra=_r=null,M_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(gr=null),Gs(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{F.T=i,ie.p=h}}(wa&3)!==0&&Wu(),si(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Kf?Wo++:(Wo=0,Kf=t):Wo=0,Jo(0)}}function M_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xo(i)))}function Wu(t){return D_(),O_(),x_(),V_()}function V_(){if(Ut!==5)return!1;var t=_r,i=Ff;Ff=0;var a=Gs(wa),l=F.T,h=ie.p;try{ie.p=32>a?32:a,F.T=null,a=Gf,Gf=null;var d=_r,v=wa;if(Ut=0,Ra=_r=null,wa=0,(Ke&6)!==0)throw Error(s(331));var E=Ke;if(Ke|=4,__(d.current),m_(d,d.current,v,a),Ke=E,Jo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ie.p=h,F.T=l,M_(t,i)}}function P_(t,i,a){i=bn(a,i),i=bf(t.stateNode,i,2),t=or(t,i,2),t!==null&&(vi(t,2),si(t))}function We(t,i,a){if(t.tag===3)P_(t,t,a);else for(;i!==null;){if(i.tag===3){P_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gr===null||!gr.has(l))){t=bn(a,t),a=jg(2),l=or(i,a,2),l!==null&&(zg(a,l,i,t),vi(l,2),si(l));break}}i=i.return}}function $f(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new AA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(zf=!0,h.add(a),t=IA.bind(null,t,i,a),i.then(t,t))}function IA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(ke&a)===a&&(ut===4||ut===3&&(ke&62914560)===ke&&300>yn()-Hf?(Ke&2)===0&&Ia(t,0):Bf|=a,ba===ke&&(ba=0)),si(t)}function k_(t,i){i===0&&(i=oo()),t=ua(t,i),t!==null&&(vi(t,i),si(t))}function CA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),k_(t,a)}function NA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),k_(t,a)}function DA(t,i){return Kr(t,i)}var Ju=null,Na=null,Zf=!1,ec=!1,Wf=!1,Is=0;function si(t){t!==Na&&t.next===null&&(Na===null?Ju=Na=t:Na=Na.next=t),ec=!0,Zf||(Zf=!0,xA())}function Jo(t,i){if(!Wf&&ec){Wf=!0;do for(var a=!1,l=Ju;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=ke,d=Fs(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wr(l,d)||(a=!0,z_(l,d));l=l.next}while(a);Wf=!1}}function OA(){U_()}function U_(){ec=Zf=!1;var t=0;Is!==0&&(zA()&&(t=Is),Is=0);for(var i=yn(),a=null,l=Ju;l!==null;){var h=l.next,d=L_(l,i);d===0?(l.next=null,a===null?Ju=h:a.next=h,h===null&&(Na=a)):(a=l,(t!==0||(d&3)!==0)&&(ec=!0)),l=h}Jo(t)}function L_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),E=1<<v,R=h[v];R===-1?((E&a)===0||(E&l)!==0)&&(h[v]=so(E,i)):R<=i&&(t.expiredLanes|=E),d&=~E}if(i=et,a=ke,a=Fs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Qr(l),Gs(a)){case 2:case 8:a=qs;break;case 32:a=Yr;break;case 268435456:a=Hs;break;default:a=Yr}return l=j_.bind(null,t),a=Kr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Qr(l),t.callbackPriority=2,t.callbackNode=null,2}function j_(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wu()&&t.callbackNode!==a)return null;var l=ke;return l=Fs(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(T_(t,l,i),L_(t,yn()),t.callbackNode!=null&&t.callbackNode===a?j_.bind(null,t):null)}function z_(t,i){if(Wu())return null;T_(t,i,!0)}function xA(){qA(function(){(Ke&6)!==0?Kr(io,OA):U_()})}function Jf(){return Is===0&&(Is=ao()),Is}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zs(""+t)}function q_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function MA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?B_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Ws("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Is!==0){var R=v?q_(h,v):new FormData(h);vf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=v?q_(h,v):new FormData(h),vf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var ed=0;ed<Uh.length;ed++){var td=Uh[ed],VA=td.toLowerCase(),PA=td[0].toUpperCase()+td.slice(1);kn(VA,"on"+PA)}kn(Tp,"onAnimationEnd"),kn(Ap,"onAnimationIteration"),kn(Sp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(W0,"onTransitionRun"),kn(J0,"onTransitionStart"),kn(eA,"onTransitionCancel"),kn(bp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function H_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(K){Bu(K)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,j=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(K){Bu(K)}h.currentTarget=null,d=R}}}}function Oe(t,i){var a=i[co];a===void 0&&(a=i[co]=new Set);var l=t+"__bubble";a.has(l)||(F_(i,t,2,!1),a.add(l))}function nd(t,i,a){var l=0;i&&(l|=4),F_(a,t,l,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function id(t){if(!t[tc]){t[tc]=!0,ho.forEach(function(a){a!=="selectionchange"&&(kA.has(a)||nd(a,!1,t),nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[tc]||(i[tc]=!0,nd("selectionchange",!1,i))}}function F_(t,i,a,l){switch(my(i)){case 2:var h=uS;break;case 8:h=cS;break;default:h=_d}a=h.bind(null,i,a,t),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function rd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ei(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}E=E.parentNode}}l=l.return}iu(function(){var j=d,K=Tn(a),Y=[];e:{var z=Rp.get(t);if(z!==void 0){var B=Ws,Ee=t;switch(t){case"keypress":if($n(a)===0)break e;case"keydown":case"keyup":B=ra;break;case"focusin":Ee="focus",B=ta;break;case"focusout":Ee="blur",B=ta;break;case"beforeblur":case"afterblur":B=ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=hu;break;case Tp:case Ap:case Sp:B=na;break;case bp:B=du;break;case"scroll":case"scrollend":B=ru;break;case"wheel":B=sa;break;case"copy":case"cut":case"paste":B=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=bo;break;case"toggle":case"beforetoggle":B=pu}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),V=ge?z!==null?z+"Capture":null:z;ge=[];for(var O=j,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=as(O,V),Q!=null&&ge.push(tl(O,Q,L))),Ze)break;O=O.return}0<ge.length&&(z=new B(z,Ee,null,a,K),Y.push({event:z,listeners:ge}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&a!==bi&&(Ee=a.relatedTarget||a.fromElement)&&(Ei(Ee)||Ee[vn]))break e;if((B||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,B?(Ee=a.relatedTarget||a.toElement,B=j,Ee=Ee?Ei(Ee):null,Ee!==null&&(Ze=c(Ee),ge=Ee.tag,Ee!==Ze||ge!==5&&ge!==27&&ge!==6)&&(Ee=null)):(B=null,Ee=j),B!==Ee)){if(ge=Sn,Q="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=bo,Q="onPointerLeave",V="onPointerEnter",O="pointer"),Ze=B==null?z:Kn(B),L=Ee==null?z:Kn(Ee),z=new ge(Q,O+"leave",B,a,K),z.target=Ze,z.relatedTarget=L,Q=null,Ei(K)===j&&(ge=new ge(V,O+"enter",Ee,a,K),ge.target=L,ge.relatedTarget=Ze,Q=ge),Ze=Q,B&&Ee)t:{for(ge=B,V=Ee,O=0,L=ge;L;L=Da(L))O++;for(L=0,Q=V;Q;Q=Da(Q))L++;for(;0<O-L;)ge=Da(ge),O--;for(;0<L-O;)V=Da(V),L--;for(;O--;){if(ge===V||V!==null&&ge===V.alternate)break t;ge=Da(ge),V=Da(V)}ge=null}else ge=null;B!==null&&G_(Y,z,B,ge,!1),Ee!==null&&Ze!==null&&G_(Y,Ze,Ee,ge,!0)}}e:{if(z=j?Kn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var oe=cp;else if(At(z))if(hp)oe=X0;else{oe=Q0;var Ne=K0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&_o(j.elementType)&&(oe=cp):oe=Y0;if(oe&&(oe=oe(t,j))){Ni(Y,oe,a,K);break e}Ne&&Ne(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&nr(z,"number",z.value)}switch(Ne=j?Kn(j):window,t){case"focusin":(At(Ne)||Ne.contentEditable==="true")&&(aa=Ne,Vh=j,Io=null);break;case"focusout":Io=Vh=aa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,vp(Y,a,K);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":vp(Y,a,K)}var fe;if(Jn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?H(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(y&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(fe=vo()):(Xn=K,ir="value"in Xn?Xn.value:Xn.textContent,Ve=!0)),Ne=nc(j,_e),0<Ne.length&&(_e=new Ao(_e,t,null,a,K),Y.push({event:_e,listeners:Ne}),fe?_e.data=fe:(fe=ne(a),fe!==null&&(_e.data=fe)))),(fe=m?Tt(t,a):Pe(t,a))&&(_e=nc(j,"onBeforeInput"),0<_e.length&&(Ne=new Ao("onBeforeInput","beforeinput",null,a,K),Y.push({event:Ne,listeners:_e}),Ne.data=fe)),MA(Y,t,j,a,K)}H_(Y,i)})}function tl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=as(t,a),h!=null&&l.unshift(tl(t,h,d)),h=as(t,i),h!=null&&l.push(tl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=as(a,d),j!=null&&v.unshift(tl(a,j,R))):h||(j=as(a,d),j!=null&&v.push(tl(a,j,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var UA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(LA,"")}function Q_(t,i){return i=K_(i),K_(t)===i}function ic(){}function $e(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":Qn(t,"class",l);break;case"tabIndex":Qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(t,a,l);break;case"style":go(t,l,d);break;case"data":if(i!=="object"){Qn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ic);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),tr(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ih.get(a)||a,tr(t,a,l))}}function sd(t,i,a,l,h,d){switch(a){case"style":go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):tr(t,a,l)}}}function Lt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var E=d=v=h=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":R=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:$e(t,i,l,K,a,null)}}is(t,d,E,R,j,v,h,!1),$s(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:$e(t,i,h,E,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Si(t,!!l,i,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$e(t,i,v,E,a,null)}rs(t,l,h,d),$s(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,R,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<el.length;l++)Oe(el[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,j,l,a,null)}return;default:if(_o(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&sd(t,i,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$e(t,i,E,l,a,null))}function jA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,R=null,j=null,K=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(B)||$e(t,i,B,null,l,Y)}}for(var z in l){var B=l[z];if(Y=a[z],l.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":K=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Y&&$e(t,i,z,B,l,Y)}}un(t,v,E,R,j,K,d,h);return;case"select":B=v=E=z=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==R&&$e(t,i,h,d,l,R)}i=E,a=v,l=B,z!=null?Si(t,!!a,z,!1):!!l!=!!a&&(i!=null?Si(t,!!a,i,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$e(t,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,l,d)}Ye(t,z,B);return;case"option":for(var Ee in a)if(z=a[Ee],a.hasOwnProperty(Ee)&&z!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:$e(t,i,Ee,null,l,z)}for(R in l)if(z=l[R],B=a[R],l.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$e(t,i,R,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)z=a[ge],a.hasOwnProperty(ge)&&z!=null&&!l.hasOwnProperty(ge)&&$e(t,i,ge,null,l,z);for(j in l)if(z=l[j],B=a[j],l.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:$e(t,i,j,z,l,B)}return;default:if(_o(i)){for(var Ze in a)z=a[Ze],a.hasOwnProperty(Ze)&&z!==void 0&&!l.hasOwnProperty(Ze)&&sd(t,i,Ze,void 0,l,z);for(K in l)z=l[K],B=a[K],!l.hasOwnProperty(K)||z===B||z===void 0&&B===void 0||sd(t,i,K,z,l,B);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!l.hasOwnProperty(V)&&$e(t,i,V,null,l,z);for(Y in l)z=l[Y],B=a[Y],!l.hasOwnProperty(Y)||z===B||z==null&&B==null||$e(t,i,Y,z,l,B)}var ad=null,od=null;function rc(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ld(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ud=null;function zA(){var t=window.event;return t&&t.type==="popstate"?t===ud?!1:(ud=t,!0):(ud=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(HA)}:$_;function HA(t){setTimeout(function(){throw t})}function vr(t){return t==="head"}function W_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&nl(v.documentElement),a&2&&nl(v.body),a&4)for(a=v.head,nl(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Jr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){t.removeChild(d),cl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);cl(i)}function cd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function FA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Jr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function GA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function KA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var fd=null;function J_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function ey(t,i,a){switch(i=rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);er(t)}var Dn=new Map,ty=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=ie.d;ie.d={f:QA,r:YA,D:XA,C:$A,L:ZA,m:WA,X:eS,S:JA,M:tS};function QA(){var t=qi.f(),i=$u();return t||i}function YA(t){var i=Gn(t);i!==null&&i.tag===5&&i.type==="form"?Tg(i):qi.r(t)}var Oa=typeof document>"u"?null:document;function ny(t,i,a){var l=Oa;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ty.has(h)||(ty.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Lt(i,"link",t),ct(i),l.head.appendChild(i)))}}function XA(t){qi.D(t),ny("dns-prefetch",t,null)}function $A(t,i){qi.C(t,i),ny("preconnect",t,i)}function ZA(t,i,a){qi.L(t,i,a);var l=Oa;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=xa(t);break;case"script":d=Ma(t)}Dn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Dn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(il(d))||i==="script"&&l.querySelector(rl(d))||(i=l.createElement("link"),Lt(i,"link",t),ct(i),l.head.appendChild(i)))}}function WA(t,i){qi.m(t,i);var a=Oa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ma(t)}if(!Dn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Dn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rl(d)))return}l=a.createElement("link"),Lt(l,"link",t),ct(l),a.head.appendChild(l)}}}function JA(t,i,a){qi.S(t,i,a);var l=Oa;if(l&&t){var h=Wt(l).hoistableStyles,d=xa(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(il(d)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Dn.get(d))&&dd(t,a);var R=v=l.createElement("link");ct(R),Lt(R,"link",t),R._p=new Promise(function(j,K){R.onload=j,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function eS(t,i){qi.X(t,i);var a=Oa;if(a&&t){var l=Wt(a).hoistableScripts,h=Ma(t),d=l.get(h);d||(d=a.querySelector(rl(h)),d||(t=T({src:t,async:!0},i),(i=Dn.get(h))&&md(t,i),d=a.createElement("script"),ct(d),Lt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tS(t,i){qi.M(t,i);var a=Oa;if(a&&t){var l=Wt(a).hoistableScripts,h=Ma(t),d=l.get(h);d||(d=a.querySelector(rl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Dn.get(h))&&md(t,i),d=a.createElement("script"),ct(d),Lt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iy(t,i,a,l){var h=(h=ue.current)?sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=xa(a.href),a=Wt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=xa(a.href);var d=Wt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(il(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),d||nS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(a),a=Wt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function xa(t){return'href="'+pt(t)+'"'}function il(t){return'link[rel="stylesheet"]['+t+"]"}function ry(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function nS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Lt(i,"link",a),ct(i),t.head.appendChild(i))}function Ma(t){return'[src="'+pt(t)+'"]'}function rl(t){return"script[async]"+t}function sy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),Lt(l,"style",h),ac(l,a.precedence,t),i.instance=l;case"stylesheet":h=xa(a.href);var d=t.querySelector(il(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=ry(a),(h=Dn.get(h))&&dd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Lt(d,"link",l),i.state.loading|=4,ac(d,a.precedence,t),i.instance=d;case"script":return d=Ma(a.src),(h=t.querySelector(rl(d)))?(i.instance=h,ct(h),h):(l=a,(h=Dn.get(d))&&(l=T({},a),md(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),Lt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ac(l,a.precedence,t));return i.instance}function ac(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function dd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var oc=null;function ay(t,i,a){if(oc===null){var l=new Map,h=oc=new Map;h.set(a,l)}else h=oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Jr]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function oy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function iS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var sl=null;function rS(){}function sS(t,i,a){if(sl===null)throw Error(s(475));var l=sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=xa(a.href),d=t.querySelector(il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=lc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,a=ry(a),(h=Dn.get(h))&&dd(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Lt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=lc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function aS(){if(sl===null)throw Error(s(475));var t=sl;return t.stylesheets&&t.count===0&&pd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&pd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uc=null;function pd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uc=new Map,i.forEach(oS,t),uc=null,lc.call(t))}function oS(t,i){if(!(i.state.loading&4)){var a=uc.get(t);if(a)var l=a.get(null);else{a=new Map,uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var al={$$typeof:ce,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function lS(t,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function uy(t,i,a,l,h,d,v,E,R,j,K,Y){return t=new lS(t,i,a,v,E,R,j,Y),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),t.current=d,d.stateNode=t,i=Xh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Jh(d),t}function cy(t){return t?(t=ca,t):ca}function hy(t,i,a,l,h,d){h=cy(h),l.context===null?l.context=h:l.pendingContext=h,l=ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=or(t,l,i),a!==null&&(gn(a,t,i),ko(a,t,i))}function fy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function gd(t,i){fy(t,i),(t=t.alternate)&&fy(t,i)}function dy(t){if(t.tag===13){var i=ua(t,67108864);i!==null&&gn(i,t,67108864),gd(t,67108864)}}var cc=!0;function uS(t,i,a,l){var h=F.T;F.T=null;var d=ie.p;try{ie.p=2,_d(t,i,a,l)}finally{ie.p=d,F.T=h}}function cS(t,i,a,l){var h=F.T;F.T=null;var d=ie.p;try{ie.p=8,_d(t,i,a,l)}finally{ie.p=d,F.T=h}}function _d(t,i,a,l){if(cc){var h=yd(l);if(h===null)rd(t,i,l,hc,a),py(t,l);else if(fS(h,t,i,a,l))l.stopPropagation();else if(py(t,l),i&4&&-1<hS.indexOf(t)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Gt(v);E.entanglements[1]|=R,v&=~R}si(d),(Ke&6)===0&&(Yu=yn()+500,Jo(0))}}break;case 13:E=ua(d,2),E!==null&&gn(E,d,2),$u(),gd(d,2)}if(d=yd(l),d===null&&rd(t,i,l,hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else rd(t,i,l,null,a)}}function yd(t){return t=Tn(t),vd(t)}var hc=null;function vd(t){if(hc=null,t=Ei(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hc=t,null}function my(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Th()){case io:return 2;case qs:return 8;case Yr:case Ah:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var Ed=!1,Er=null,Tr=null,Ar=null,ol=new Map,ll=new Map,Sr=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(t,i){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(i.pointerId)}}function ul(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&dy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function fS(t,i,a,l,h){switch(i){case"focusin":return Er=ul(Er,t,i,a,l,h),!0;case"dragenter":return Tr=ul(Tr,t,i,a,l,h),!0;case"mouseover":return Ar=ul(Ar,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ol.set(d,ul(ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ll.set(d,ul(ll.get(d)||null,t,i,a,l,h)),!0}return!1}function gy(t){var i=Ei(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,$l(t.priority,function(){if(a.tag===13){var l=pn();l=Zi(l);var h=ua(a,l);h!==null&&gn(h,a,l),gd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);bi=l,a.target.dispatchEvent(l),bi=null}else return i=Gn(a),i!==null&&dy(i),t.blockedOn=a,!1;i.shift()}return!0}function _y(t,i,a){fc(t)&&a.delete(i)}function dS(){Ed=!1,Er!==null&&fc(Er)&&(Er=null),Tr!==null&&fc(Tr)&&(Tr=null),Ar!==null&&fc(Ar)&&(Ar=null),ol.forEach(_y),ll.forEach(_y)}function dc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dS)))}var mc=null;function yy(t){mc!==t&&(mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(vd(l||a)===null)continue;break}var d=Gn(a);d!==null&&(t.splice(i,3),i-=3,vf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function cl(t){function i(R){return dc(R,t)}Er!==null&&dc(Er,t),Tr!==null&&dc(Tr,t),Ar!==null&&dc(Ar,t),ol.forEach(i),ll.forEach(i);for(var a=0;a<Sr.length;a++){var l=Sr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)gy(a),a.blockedOn===null&&Sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||yy(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)E=v.formAction;else if(vd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),yy(a)}}}function Td(t){this._internalRoot=t}pc.prototype.render=Td.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();hy(a,l,t,i,null,null)},pc.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hy(t.current,2,null,t,null,null),$u(),i[vn]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Sr.length&&i!==0&&i<Sr[a].priority;a++);Sr.splice(a,0,t),a===0&&gy(t)}};var vy=e.version;if(vy!=="19.1.0")throw Error(s(527,vy,"19.1.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var mS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{ot=gc.inject(mS),Ge=gc}catch{}}return fl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Pg,d=kg,v=Ug,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=uy(t,1,!1,null,null,a,l,h,d,v,E,null),t[vn]=i.current,id(t),new Td(i)},fl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Pg,v=kg,E=Ug,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=uy(t,1,!0,i,a??null,l,h,d,v,E,R,j),i.context=cy(null),a=i.current,l=pn(),l=Zi(l),h=ar(l),h.callback=null,or(a,h,l),a=l,i.current.lanes=a,vi(i,a),si(i),t[vn]=i.current,id(t),new pc(i)},fl.version="19.1.0",fl}var Ny;function bS(){if(Ny)return bd.exports;Ny=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bd.exports=SS(),bd.exports}var RS=bS();const wS=()=>{};var Dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},IS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,T=c>>2,C=(c&3)<<4|p>>4;let k=(p&15)<<2|_>>6,G=_&63;g||(G=64,f||(k=64)),s.push(n[T],n[C],n[k],n[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const C=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||C==null)throw new CS;const k=c<<2|p>>4;if(s.push(k),_!==64){const G=p<<4&240|_>>2;if(s.push(G),C!==64){const W=_<<6&192|C;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class CS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NS=function(r){const e=dE(r);return mE.encodeByteArray(e,!0)},Vc=function(r){return NS(r).replace(/\./g,"")},pE=function(r){try{return mE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=()=>DS().__FIREBASE_DEFAULTS__,xS=()=>{if(typeof process>"u"||typeof Dy>"u")return;const r=Dy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},MS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pE(r[1]);return e&&JSON.parse(e)},nh=()=>{try{return wS()||OS()||xS()||MS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gE=r=>{var e,n;return(n=(e=nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},_E=r=>{const e=gE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yE=()=>{var r;return(r=nh())===null||r===void 0?void 0:r.config},vE=r=>{var e;return(e=nh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function kS(){var r;const e=(r=nh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="FirebaseError";class pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FS,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?GS(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new pi(o,p,s)}}function GS(r,e){return r.replace(KS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KS=/\{\$([^}]+)}/g;function QS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ds(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(Oy(c)&&Oy(f)){if(!Ds(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Oy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function gl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function YS(r,e){const n=new XS(r,e);return n.subscribe.bind(n)}class XS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$S(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Cd),o.error===void 0&&(o.error=Cd),o.complete===void 0&&(o.complete=Cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $S(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r){return r&&r._delegate?r._delegate:r}class Pr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new VS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JS(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(r){return r===Cs?void 0:r}function JS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const tb={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},nb=xe.INFO,ib={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},rb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ib[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gm{constructor(e){this.name=e,this._logLevel=nb,this._logHandler=rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const sb=(r,e)=>e.some(n=>r instanceof n);let xy,My;function ab(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ob(){return My||(My=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,qd=new WeakMap,AE=new WeakMap,Nd=new WeakMap,_m=new WeakMap;function lb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Or(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TE.set(n,r)}).catch(()=>{}),_m.set(e,r),e}function ub(r){if(qd.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});qd.set(r,e)}let Hd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||AE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cb(r){Hd=r(Hd)}function hb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Dd(this),e,...n);return AE.set(s,e.sort?e.sort():[e]),Or(s)}:ob().includes(r)?function(...e){return r.apply(Dd(this),e),Or(TE.get(this))}:function(...e){return Or(r.apply(Dd(this),e))}}function fb(r){return typeof r=="function"?hb(r):(r instanceof IDBTransaction&&ub(r),sb(r,ab())?new Proxy(r,Hd):r)}function Or(r){if(r instanceof IDBRequest)return lb(r);if(Nd.has(r))return Nd.get(r);const e=fb(r);return e!==r&&(Nd.set(r,e),_m.set(e,r)),e}const Dd=r=>_m.get(r);function db(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),p=Or(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Or(f.result),g.oldVersion,g.newVersion,Or(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const mb=["get","getKey","getAll","getAllKeys","count"],pb=["put","add","delete","clear"],Od=new Map;function Vy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=pb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mb.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&g.done]))[0]};return Od.set(e,c),c}cb(r=>({...r,get:(e,n,s)=>Vy(e,n)||r.get(e,n,s),has:(e,n)=>!!Vy(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_b(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _b(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fd="@firebase/app",Py="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new gm("@firebase/app"),yb="@firebase/app-compat",vb="@firebase/analytics-compat",Eb="@firebase/analytics",Tb="@firebase/app-check-compat",Ab="@firebase/app-check",Sb="@firebase/auth",bb="@firebase/auth-compat",Rb="@firebase/database",wb="@firebase/data-connect",Ib="@firebase/database-compat",Cb="@firebase/functions",Nb="@firebase/functions-compat",Db="@firebase/installations",Ob="@firebase/installations-compat",xb="@firebase/messaging",Mb="@firebase/messaging-compat",Vb="@firebase/performance",Pb="@firebase/performance-compat",kb="@firebase/remote-config",Ub="@firebase/remote-config-compat",Lb="@firebase/storage",jb="@firebase/storage-compat",zb="@firebase/firestore",Bb="@firebase/vertexai",qb="@firebase/firestore-compat",Hb="firebase",Fb="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]",Gb={[Fd]:"fire-core",[yb]:"fire-core-compat",[Eb]:"fire-analytics",[vb]:"fire-analytics-compat",[Ab]:"fire-app-check",[Tb]:"fire-app-check-compat",[Sb]:"fire-auth",[bb]:"fire-auth-compat",[Rb]:"fire-rtdb",[wb]:"fire-data-connect",[Ib]:"fire-rtdb-compat",[Cb]:"fire-fn",[Nb]:"fire-fn-compat",[Db]:"fire-iid",[Ob]:"fire-iid-compat",[xb]:"fire-fcm",[Mb]:"fire-fcm-compat",[Vb]:"fire-perf",[Pb]:"fire-perf-compat",[kb]:"fire-rc",[Ub]:"fire-rc-compat",[Lb]:"fire-gcs",[jb]:"fire-gcs-compat",[zb]:"fire-fst",[qb]:"fire-fst-compat",[Bb]:"fire-vertex","fire-js":"fire-js",[Hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,Kb=new Map,Kd=new Map;function ky(r,e){try{r.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Os(r){const e=r.name;if(Kd.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,r);for(const n of Pc.values())ky(n,r);for(const n of Kb.values())ky(n,r);return!0}function ih(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function _n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Pl("app","Firebase",Qb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=Fb;function SE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Gd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(n||(n=yE()),!n)throw xr.create("no-options");const c=Pc.get(o);if(c){if(Ds(n,c.options)&&Ds(s,c.config))return c;throw xr.create("duplicate-app",{appName:o})}const f=new eb(o);for(const g of Kd.values())f.addComponent(g);const p=new Yb(n,s,f);return Pc.set(o,p),p}function ym(r=Gd){const e=Pc.get(r);if(!e&&r===Gd&&yE())return SE();if(!e)throw xr.create("no-app",{appName:r});return e}function oi(r,e,n){var s;let o=(s=Gb[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(p.join(" "));return}Os(new Pr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firebase-heartbeat-database",$b=1,wl="firebase-heartbeat-store";let xd=null;function bE(){return xd||(xd=db(Xb,$b,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),xd}async function Zb(r){try{const n=(await bE()).transaction(wl),s=await n.objectStore(wl).get(RE(r));return await n.done,s}catch(e){if(e instanceof pi)Qi.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(n.message)}}}async function Uy(r,e){try{const s=(await bE()).transaction(wl,"readwrite");await s.objectStore(wl).put(e,RE(r)),await s.done}catch(n){if(n instanceof pi)Qi.warn(n.message);else{const s=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qi.warn(s.message)}}}function RE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=1024,Jb=30;class eR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ly();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Jb){const f=iR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ly(),{heartbeatsToSend:s,unsentEntries:o}=tR(this._heartbeatsCache.heartbeats),c=Vc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Qi.warn(n),""}}}function Ly(){return new Date().toISOString().substring(0,10)}function tR(r,e=Wb){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),jy(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jy(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jy(r){return Vc(JSON.stringify({version:2,heartbeats:r})).length}function iR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r){Os(new Pr("platform-logger",e=>new gb(e),"PRIVATE")),Os(new Pr("heartbeat",e=>new eR(e),"PRIVATE")),oi(Fd,Py,r),oi(Fd,Py,"esm2017"),oi("fire-js","")}rR("");var sR="firebase",aR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(sR,aR,"app");function vm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oR=wE,IE=new Pl("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new gm("@firebase/auth");function lR(r,...e){kc.logLevel<=xe.WARN&&kc.warn(`Auth (${ks}): ${r}`,...e)}function bc(r,...e){kc.logLevel<=xe.ERROR&&kc.error(`Auth (${ks}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r,...e){throw Em(r,...e)}function li(r,...e){return Em(r,...e)}function CE(r,e,n){const s=Object.assign(Object.assign({},oR()),{[e]:n});return new Pl("auth","Firebase",s).create(e,{appName:r.name})}function Gi(r){return CE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return IE.create(r,...e)}function ye(r,e,...n){if(!r)throw Em(e,...n)}function Hi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw bc(e),new Error(e)}function Yi(r,e){r||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function uR(){return zy()==="http:"||zy()==="https:"}function zy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uR()||LS()||"connection"in navigator)?navigator.onLine:!0}function hR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=PS()||jS()}get(){return cR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(r,e){Yi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mR=new Ul(3e4,6e4);function Hr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Fr(r,e,n,s,o={}){return DE(r,o,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const p=kl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:g},c);return US()||(_.referrerPolicy="no-referrer"),NE.fetch()(await OE(r,r.config.apiHost,n,p),_)})}async function DE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},fR),e);try{const o=new gR(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw _c(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw _c(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw _c(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw CE(r,T,_);qn(r,T)}}catch(o){if(o instanceof pi)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function Ll(r,e,n,s,o={}){const c=await Fr(r,e,n,s,o);return"mfaPendingCredential"in c&&qn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function OE(r,e,n,s){const o=`${e}${n}?${s}`,c=r,f=c.config.emulator?Tm(r.config,o):`${r.config.apiScheme}://${o}`;return dR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function pR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),mR.get())})}}function _c(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=li(r,e,s);return o.customData._tokenResponse=n,o}function By(r){return r!==void 0&&r.enterprise!==void 0}class _R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yR(r,e){return Fr(r,"GET","/v2/recaptchaConfig",Hr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(r,e){return Fr(r,"POST","/v1/accounts:delete",e)}async function Uc(r,e){return Fr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ER(r,e=!1){const n=qt(r),s=await n.getIdToken(e),o=Am(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:Tl(Md(o.auth_time)),issuedAtTime:Tl(Md(o.iat)),expirationTime:Tl(Md(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Md(r){return Number(r)*1e3}function Am(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=pE(n);return o?JSON.parse(o):(bc("Failed to decode base64 JWT payload"),null)}catch(o){return bc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function qy(r){const e=Am(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pi&&TR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function TR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Il(r,Uc(n,{idToken:s}));ye(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const f=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?xE(c.providerUserInfo):[],p=bR(r.providerData,f),g=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(p!=null&&p.length),T=g?_:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Yd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,C)}async function SR(r){const e=qt(r);await Lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function xE(r){return r.map(e=>{var{providerId:n}=e,s=vm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(r,e){const n=await DE(r,{},async()=>{const s=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await OE(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",NE.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wR(r,e){return Fr(r,"POST","/v2/accounts:revokeToken",Hr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=qy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await RR(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new ja;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ye(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,c=vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Yd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ER(this,e)}reload(){return SR(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Il(this,vR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,c,f,p,g,_,T;const C=(s=n.displayName)!==null&&s!==void 0?s:void 0,k=(o=n.email)!==null&&o!==void 0?o:void 0,G=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,W=(f=n.photoURL)!==null&&f!==void 0?f:void 0,ee=(p=n.tenantId)!==null&&p!==void 0?p:void 0,J=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,Ae=(_=n.createdAt)!==null&&_!==void 0?_:void 0,Se=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ce,emailVerified:ve,isAnonymous:pe,providerData:de,stsTokenManager:x}=n;ye(ce&&x,e,"internal-error");const b=ja.fromJSON(this.name,x);ye(typeof ce=="string",e,"internal-error"),Rr(C,e.name),Rr(k,e.name),ye(typeof ve=="boolean",e,"internal-error"),ye(typeof pe=="boolean",e,"internal-error"),Rr(G,e.name),Rr(W,e.name),Rr(ee,e.name),Rr(J,e.name),Rr(Ae,e.name),Rr(Se,e.name);const w=new jn({uid:ce,auth:e,email:k,emailVerified:ve,displayName:C,isAnonymous:pe,photoURL:W,phoneNumber:G,tenantId:ee,stsTokenManager:b,createdAt:Ae,lastLoginAt:Se});return de&&Array.isArray(de)&&(w.providerData=de.map(D=>Object.assign({},D))),J&&(w._redirectEventId=J),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new ja;o.updateFromServerResponse(n);const c=new jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lc(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?xE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new ja;p.updateFromIdToken(s);const g=new jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Yd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;function Fi(r){Yi(r instanceof Function,"Expected a class definition");let e=Hy.get(r);return e?(Yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Hy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ME.type="NONE";const Fy=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r,e,n){return`firebase:${r}:${e}:${n}`}class za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Rc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uc(this.auth,{idToken:e}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new za(Fi(Fy),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Fi(Fy);const f=Rc(s,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const T=await _._get(f);if(T){let C;if(typeof T=="string"){const k=await Uc(e,{idToken:T}).catch(()=>{});if(!k)break;C=await jn._fromGetAccountInfoResponse(e,k,T)}else C=jn._fromJSON(e,T);_!==c&&(p=C),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new za(c,e,s):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new za(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jE(e))return"Blackberry";if(zE(e))return"Webos";if(PE(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(LE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function VE(r=Zt()){return/firefox\//i.test(r)}function PE(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(r=Zt()){return/crios\//i.test(r)}function UE(r=Zt()){return/iemobile/i.test(r)}function LE(r=Zt()){return/android/i.test(r)}function jE(r=Zt()){return/blackberry/i.test(r)}function zE(r=Zt()){return/webos/i.test(r)}function Sm(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function IR(r=Zt()){var e;return Sm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CR(){return zS()&&document.documentMode===10}function BE(r=Zt()){return Sm(r)||LE(r)||zE(r)||jE(r)||/windows phone/i.test(r)||UE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r,e=[]){let n;switch(r){case"Browser":n=Gy(Zt());break;case"Worker":n=`${Gy(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ks}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((f,p)=>{try{const g=e(c);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(r,e={}){return Fr(r,"GET","/v2/passwordPolicy",Hr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=6;class xR{constructor(e){var n,s,o,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:OR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,c,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ky(this),this.idTokenSubscription=new Ky(this),this.beforeStateQueue=new NR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uc(this,{idToken:e}),s=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_n(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Gi(this));const n=e?qt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DR(this),n=new xR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Us(r){return qt(r)}class Ky{constructor(e){this.auth=e,this.observer=null,this.addObserver=YS(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VR(r){rh=r}function HE(r){return rh.loadJS(r)}function PR(){return rh.recaptchaEnterpriseScript}function kR(){return rh.gapiScript}function UR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class LR{constructor(){this.enterprise=new jR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zR="recaptcha-enterprise",FE="NO_RECAPTCHA";class BR{constructor(e){this.type=zR,this.auth=Us(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,p)=>{yR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new _R(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(g=>{p(g)})})}function o(c,f,p){const g=window.grecaptcha;By(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{f(_)}).catch(()=>{f(FE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LR().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(p=>{if(!n&&By(window.grecaptcha))o(p,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=PR();g.length!==0&&(g+=p),HE(g).then(()=>{o(p,c,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function Qy(r,e,n,s=!1,o=!1){const c=new BR(r);let f;if(o)f=FE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Xd(r,e,n,s,o){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Qy(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Qy(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r,e){const n=ih(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ds(c,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function HR(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function FR(r,e,n){const s=Us(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=GE(e),{host:f,port:p}=GR(e),g=p===null?"":`:${p}`,_={url:`${c}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(Ds(_,s.config.emulator)&&Ds(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,KR()}function GE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GR(r){const e=GE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Yy(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:Yy(f)}}}function Yy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function QR(r,e){return Fr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(r,e){return Ll(r,"POST","/v1/accounts:signInWithPassword",Hr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(r,e){return Ll(r,"POST","/v1/accounts:signInWithEmailLink",Hr(r,e))}async function $R(r,e){return Ll(r,"POST","/v1/accounts:signInWithEmailLink",Hr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends bm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Cl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Cl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,n,"signInWithPassword",YR);case"emailLink":return XR(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,s,"signUpPassword",QR);case"emailLink":return $R(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,e){return Ll(r,"POST","/v1/accounts:signInWithIdp",Hr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="http://localhost";class xs extends bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,c=vm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new xs(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ba(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:ZR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JR(r){const e=pl(gl(r)).link,n=e?pl(gl(e)).deep_link_id:null,s=pl(gl(r)).deep_link_id;return(s?pl(gl(s)).link:null)||s||n||e||r}class Rm{constructor(e){var n,s,o,c,f,p;const g=pl(gl(e)),_=(n=g.apiKey)!==null&&n!==void 0?n:null,T=(s=g.oobCode)!==null&&s!==void 0?s:null,C=WR((o=g.mode)!==null&&o!==void 0?o:null);ye(_&&T&&C,"argument-error"),this.apiKey=_,this.operation=C,this.code=T,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=JR(e);try{return new Rm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.providerId=$a.PROVIDER_ID}static credential(e,n){return Cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Rm.parseLink(n);return ye(s,"argument-error"),Cl._fromEmailAndCode(e,s.code,s.tenantId)}}$a.PROVIDER_ID="password";$a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends jl{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends jl{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends jl{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(r,e){return Ll(r,"POST","/v1/accounts:signUp",Hr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await jn._fromIdTokenResponse(e,s,o),f=Xy(s);return new Ms({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Xy(s);return new Ms({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Xy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends pi{constructor(e,n,s,o){var c;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new jc(e,n,s,o)}}function QE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(r,c,e,s):c})}async function tw(r,e,n=!1){const s=await Il(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ms._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(r,e,n=!1){const{auth:s}=r;if(_n(s.app))return Promise.reject(Gi(s));const o="reauthenticate";try{const c=await Il(r,QE(s,o,e,r),n);ye(c.idToken,s,"internal-error");const f=Am(c.idToken);ye(f,s,"internal-error");const{sub:p}=f;return ye(r.uid===p,s,"user-mismatch"),Ms._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&qn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(r,e,n=!1){if(_n(r.app))return Promise.reject(Gi(r));const s="signIn",o=await QE(r,s,e),c=await Ms._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function iw(r,e){return YE(Us(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(r){const e=Us(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rw(r,e,n){if(_n(r.app))return Promise.reject(Gi(r));const s=Us(r),f=await Xd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ew).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&XE(r),g}),p=await Ms._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function sw(r,e,n){return _n(r.app)?Promise.reject(Gi(r)):iw(qt(r),$a.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XE(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(r,e){return qt(r).setPersistence(e)}function ow(r,e,n,s){return qt(r).onIdTokenChanged(e,n,s)}function lw(r,e,n){return qt(r).beforeAuthStateChanged(e,n)}function uw(r,e,n,s){return qt(r).onAuthStateChanged(e,n,s)}function cw(r){return qt(r).signOut()}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=1e3,fw=10;class ZE extends $E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);CR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fw):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const WE=ZE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends $E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JE.type="SESSION";const wm=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,c)),g=await dw(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const _=Im("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(C){const k=C;if(k.data.eventId===_)switch(k.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(k.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function pw(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function gw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _w(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function yw(){return eT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebaseLocalStorageDb",vw=1,Bc="firebaseLocalStorage",nT="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(r,e){return r.transaction([Bc],e?"readwrite":"readonly").objectStore(Bc)}function Ew(){const r=indexedDB.deleteDatabase(tT);return new zl(r).toPromise()}function $d(){const r=indexedDB.open(tT,vw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Bc,{keyPath:nT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Bc)?e(s):(s.close(),await Ew(),e(await $d()))})})}async function $y(r,e,n){const s=ah(r,!0).put({[nT]:e,value:n});return new zl(s).toPromise()}async function Tw(r,e){const n=ah(r,!1).get(e),s=await new zl(n).toPromise();return s===void 0?null:s.value}function Zy(r,e){const n=ah(r,!0).delete(e);return new zl(n).toPromise()}const Aw=800,Sw=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Sw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(yw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gw(),!this.activeServiceWorker)return;this.sender=new mw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_w()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $d();return await $y(e,zc,"1"),await Zy(e,zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$y(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Tw(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ah(o,!1).getAll();return new zl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const bw=iT;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r,e){return e?Fi(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ww(r){return YE(r.auth,new Cm(r),r.bypassAuthState)}function Iw(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),nw(n,new Cm(r),r.bypassAuthState)}async function Cw(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),tw(n,new Cm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ww;case"linkViaPopup":case"linkViaRedirect":return Cw;case"reauthViaPopup":case"reauthViaRedirect":return Iw;default:qn(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Ul(2e3,1e4);class La extends rT{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nw.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="pendingRedirect",wc=new Map;class Ow extends rT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wc.get(this.auth._key());if(!e){try{const s=await xw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wc.set(this.auth._key(),e)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xw(r,e){const n=Pw(e),s=Vw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Mw(r,e){wc.set(r._key(),e)}function Vw(r){return Fi(r._redirectPersistence)}function Pw(r){return Rc(Dw,r.config.apiKey,r.name)}async function kw(r,e,n=!1){if(_n(r.app))return Promise.reject(Gi(r));const s=Us(r),o=Rw(s,e),f=await new Ow(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=10*60*1e3;class Lw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!sT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(li(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Uw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wy(e))}saveEventToCache(e){this.cachedEventUids.add(Wy(e)),this.lastProcessedEventTime=Date.now()}}function Wy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(r,e={}){return Fr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qw=/^https?/;async function Hw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await zw(r);for(const n of e)try{if(Fw(n))return}catch{}qn(r,"unauthorized-domain")}function Fw(r){const e=Qd(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!qw.test(n))return!1;if(Bw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Ul(3e4,6e4);function Jy(){const r=ui().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Kw(r){return new Promise((e,n)=>{var s,o,c;function f(){Jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jy(),n(li(r,"network-request-failed"))},timeout:Gw.get()})}if(!((o=(s=ui().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=ui().gapi)===null||c===void 0)&&c.load)f();else{const p=UR("iframefcb");return ui()[p]=()=>{gapi.load?f():n(li(r,"network-request-failed"))},HE(`${kR()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Ic=null,e})}let Ic=null;function Qw(r){return Ic=Ic||Kw(r),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Ul(5e3,15e3),Xw="__/auth/iframe",$w="emulator/auth/iframe",Zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jw(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Tm(e,$w):`https://${r.config.authDomain}/${Xw}`,s={apiKey:e.apiKey,appName:r.name,v:ks},o=Ww.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${kl(s).slice(1)}`}async function eI(r){const e=await Qw(r),n=ui().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:Jw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zw,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=li(r,"network-request-failed"),p=ui().setTimeout(()=>{c(f)},Yw.get());function g(){ui().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nI=500,iI=600,rI="_blank",sI="http://localhost";class ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aI(r,e,n,s=nI,o=iI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},tI),{width:s.toString(),height:o.toString(),top:c,left:f}),_=Zt().toLowerCase();n&&(p=kE(_)?rI:n),VE(_)&&(e=e||sI,g.scrollbars="yes");const T=Object.entries(g).reduce((k,[G,W])=>`${k}${G}=${W},`,"");if(IR(_)&&p!=="_self")return oI(e||"",p),new ev(null);const C=window.open(e||"",p,T);ye(C,r,"popup-blocked");try{C.focus()}catch{}return new ev(C)}function oI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="__/auth/handler",uI="emulator/auth/handler",cI=encodeURIComponent("fac");async function tv(r,e,n,s,o,c){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ks,eventId:o};if(e instanceof KE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",QS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,C]of Object.entries({}))f[T]=C}if(e instanceof jl){const T=e.getScopes().filter(C=>C!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),_=g?`#${cI}=${encodeURIComponent(g)}`:"";return`${hI(r)}?${kl(p).slice(1)}${_}`}function hI({config:r}){return r.emulator?Tm(r,uI):`https://${r.authDomain}/${lI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class fI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wm,this._completeRedirectFn=kw,this._overrideRedirectResult=Mw}async _openPopup(e,n,s,o){var c;Yi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await tv(e,n,s,Qd(),o);return aI(e,f,Im())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await tv(e,n,s,Qd(),o);return pw(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Yi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await eI(e),s=new Lw(e);return n.register("authEvent",o=>(ye(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vd,{type:Vd},o=>{var c;const f=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Vd];f!==void 0&&n(!!f),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BE()||PE()||Sm()}}const dI=fI;var nv="@firebase/auth",iv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gI(r){Os(new Pr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(r)},_=new MR(s,o,c,g);return HR(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Os(new Pr("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(s=>new mI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(nv,iv,pI(r)),oi(nv,iv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=5*60,yI=vE("authIdTokenMaxAge")||_I;let rv=null;const vI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yI)return;const o=n==null?void 0:n.token;rv!==o&&(rv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EI(r=ym()){const e=ih(r,"auth");if(e.isInitialized())return e.getImmediate();const n=qR(r,{popupRedirectResolver:dI,persistence:[bw,WE,wm]}),s=vE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=vI(c.toString());lw(n,f,()=>f(n.currentUser)),ow(n,p=>f(p))}}const o=gE("auth");return o&&FR(n,`http://${o}`),n}function TI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}VR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=li("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",TI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gI("Browser");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,aT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function w(){}w.prototype=b.prototype,x.D=b.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(D,M,P){for(var I=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)I[Je-2]=arguments[Je];return b.prototype[M].apply(D,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,w){w||(w=0);var D=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)D[M]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(M=0;16>M;++M)D[M]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=x.g[0],w=x.g[1],M=x.g[2];var P=x.g[3],I=b+(P^w&(M^P))+D[0]+3614090360&4294967295;b=w+(I<<7&4294967295|I>>>25),I=P+(M^b&(w^M))+D[1]+3905402710&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(w^P&(b^w))+D[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(b^M&(P^b))+D[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(P^w&(M^P))+D[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(M^b&(w^M))+D[5]+1200080426&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(w^P&(b^w))+D[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(b^M&(P^b))+D[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(P^w&(M^P))+D[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(M^b&(w^M))+D[9]+2336552879&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(w^P&(b^w))+D[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(b^M&(P^b))+D[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(P^w&(M^P))+D[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(M^b&(w^M))+D[13]+4254626195&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(w^P&(b^w))+D[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(b^M&(P^b))+D[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(M^P&(w^M))+D[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(b^w))+D[6]+3225465664&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(P^b))+D[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(M^P))+D[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(w^M))+D[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(b^w))+D[10]+38016083&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(P^b))+D[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(M^P))+D[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(w^M))+D[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(b^w))+D[14]+3275163606&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(P^b))+D[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(M^P))+D[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(w^M))+D[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(b^w))+D[2]+4243563512&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(P^b))+D[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(M^P))+D[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(w^M^P)+D[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^M)+D[8]+2272392833&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^w)+D[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^b)+D[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^P)+D[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^M)+D[4]+1272893353&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^w)+D[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^b)+D[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^P)+D[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^M)+D[0]+3936430074&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^w)+D[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^b)+D[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^P)+D[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^M)+D[12]+3873151461&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^w)+D[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^b)+D[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(M^(w|~P))+D[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~M))+D[7]+1126891415&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~w))+D[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~b))+D[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~P))+D[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~M))+D[3]+2399980690&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~w))+D[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~b))+D[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~P))+D[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~M))+D[15]+4264355552&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~w))+D[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~b))+D[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~P))+D[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~M))+D[11]+3174756917&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~w))+D[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~b))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var w=b-this.blockSize,D=this.B,M=this.h,P=0;P<b;){if(M==0)for(;P<=w;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<b;)if(D[M++]=x.charCodeAt(P++),M==this.blockSize){o(this,D),M=0;break}}else for(;P<b;)if(D[M++]=x[P++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var w=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=w&255,w/=256;for(this.u(x),x=Array(16),b=w=0;4>b;++b)for(var D=0;32>D;D+=8)x[w++]=this.g[b]>>>D&255;return x};function c(x,b){var w=p;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=b(x)}function f(x,b){this.h=b;for(var w=[],D=!0,M=x.length-1;0<=M;M--){var P=x[M]|0;D&&P==b||(w[M]=P,D=!1)}this.g=w}var p={};function g(x){return-128<=x&&128>x?c(x,function(b){return new f([b|0],0>b?-1:0)}):new f([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return C;if(0>x)return J(_(-x));for(var b=[],w=1,D=0;x>=w;D++)b[D]=x/w|0,w*=4294967296;return new f(b,0)}function T(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return J(T(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(b,8)),D=C,M=0;M<x.length;M+=8){var P=Math.min(8,x.length-M),I=parseInt(x.substring(M,M+P),b);8>P?(P=_(Math.pow(b,P)),D=D.j(P).add(_(I))):(D=D.j(w),D=D.add(_(I)))}return D}var C=g(0),k=g(1),G=g(16777216);r=f.prototype,r.m=function(){if(ee(this))return-J(this).m();for(var x=0,b=1,w=0;w<this.g.length;w++){var D=this.i(w);x+=(0<=D?D:4294967296+D)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(W(this))return"0";if(ee(this))return"-"+J(this).toString(x);for(var b=_(Math.pow(x,6)),w=this,D="";;){var M=ve(w,b).g;w=Ae(w,M.j(b));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=M,W(w))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function W(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function ee(x){return x.h==-1}r.l=function(x){return x=Ae(this,x),ee(x)?-1:W(x)?0:1};function J(x){for(var b=x.g.length,w=[],D=0;D<b;D++)w[D]=~x.g[D];return new f(w,~x.h).add(k)}r.abs=function(){return ee(this)?J(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],D=0,M=0;M<=b;M++){var P=D+(this.i(M)&65535)+(x.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);D=I>>>16,P&=65535,I&=65535,w[M]=I<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function Ae(x,b){return x.add(J(b))}r.j=function(x){if(W(this)||W(x))return C;if(ee(this))return ee(x)?J(this).j(J(x)):J(J(this).j(x));if(ee(x))return J(this.j(J(x)));if(0>this.l(G)&&0>x.l(G))return _(this.m()*x.m());for(var b=this.g.length+x.g.length,w=[],D=0;D<2*b;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<x.g.length;M++){var P=this.i(D)>>>16,I=this.i(D)&65535,Je=x.i(M)>>>16,tt=x.i(M)&65535;w[2*D+2*M]+=I*tt,Se(w,2*D+2*M),w[2*D+2*M+1]+=P*tt,Se(w,2*D+2*M+1),w[2*D+2*M+1]+=I*Je,Se(w,2*D+2*M+1),w[2*D+2*M+2]+=P*Je,Se(w,2*D+2*M+2)}for(D=0;D<b;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=b;D<2*b;D++)w[D]=0;return new f(w,0)};function Se(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function ce(x,b){this.g=x,this.h=b}function ve(x,b){if(W(b))throw Error("division by zero");if(W(x))return new ce(C,C);if(ee(x))return b=ve(J(x),b),new ce(J(b.g),J(b.h));if(ee(b))return b=ve(x,J(b)),new ce(J(b.g),b.h);if(30<x.g.length){if(ee(x)||ee(b))throw Error("slowDivide_ only works with positive integers.");for(var w=k,D=b;0>=D.l(x);)w=pe(w),D=pe(D);var M=de(w,1),P=de(D,1);for(D=de(D,2),w=de(w,2);!W(D);){var I=P.add(D);0>=I.l(x)&&(M=M.add(w),P=I),D=de(D,1),w=de(w,1)}return b=Ae(x,M.j(b)),new ce(M,b)}for(M=C;0<=x.l(b);){for(w=Math.max(1,Math.floor(x.m()/b.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=_(w),I=P.j(b);ee(I)||0<I.l(x);)w-=D,P=_(w),I=P.j(b);W(P)&&(P=k),M=M.add(P),x=Ae(x,I)}return new ce(M,x)}r.A=function(x){return ve(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],D=0;D<b;D++)w[D]=this.i(D)&x.i(D);return new f(w,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],D=0;D<b;D++)w[D]=this.i(D)|x.i(D);return new f(w,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],D=0;D<b;D++)w[D]=this.i(D)^x.i(D);return new f(w,this.h^x.h)};function pe(x){for(var b=x.g.length+1,w=[],D=0;D<b;D++)w[D]=x.i(D)<<1|x.i(D-1)>>>31;return new f(w,x.h)}function de(x,b){var w=b>>5;b%=32;for(var D=x.g.length-w,M=[],P=0;P<D;P++)M[P]=0<b?x.i(P+w)>>>b|x.i(P+w+1)<<32-b:x.i(P+w);return new f(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,aT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,Mr=f}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,_l,lT,Cc,Zd,uT,cT,hT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(u,m){if(m)e:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in y))break e;y=y[U]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,U={next:function(){if(!A&&y<u.length){var H=y++;return{value:m(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function C(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function k(u,m,y){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:C,k.apply(null,arguments)}function G(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function W(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,U,H){for(var ne=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ne[Ve-2]=arguments[Ve];return m.prototype[U].apply(A,ne)}}function ee(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function J(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(g(A)){const U=u.length||0,H=A.length||0;u.length=U+H;for(let ne=0;ne<H;ne++)u[U+ne]=A[ne]}else u.push(A)}}class Ae{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Se(u){return/^[\s\xa0]*$/.test(u)}function ce(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ve(u){return ve[" "](u),u}ve[" "]=function(){};var pe=ce().indexOf("Gecko")!=-1&&!(ce().toLowerCase().indexOf("webkit")!=-1&&ce().indexOf("Edge")==-1)&&!(ce().indexOf("Trident")!=-1||ce().indexOf("MSIE")!=-1)&&ce().indexOf("Edge")==-1;function de(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function x(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let y,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(y in A)u[y]=A[y];for(let H=0;H<w.length;H++)y=w[H],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){p.setTimeout(()=>{throw u},0)}function I(){var u=Le;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Je{constructor(){this.h=this.g=null}add(m,y){const A=tt.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var tt=new Ae(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,he=!1,Le=new Je,N=()=>{const u=p.Promise.resolve(void 0);ie=()=>{u.then(Z)}};var Z=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(y){P(y)}var m=tt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}he=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};p.addEventListener("test",y,m),p.removeEventListener("test",y,m)}catch{}return u}();function le(u,m){if(te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pe){e:{try{ve(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ue[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&le.aa.h.call(this)}}W(le,te);var ue={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ft(u,m,y,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=U,this.key=++je,this.da=this.fa=!1}function xn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _i(u){this.src=u,this.g={},this.h=0}_i.prototype.add=function(u,m,y,A,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ne=Kr(u,m,A,U);return-1<ne?(m=u[ne],y||(m.fa=!1)):(m=new Ft(m,this.src,H,!!A,U),m.fa=y,u.push(m)),m};function Gr(u,m){var y=m.type;if(y in u.g){var A=u.g[y],U=Array.prototype.indexOf.call(A,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(A,U,1),H&&(xn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Kr(u,m,y,A){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==A)return U}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),no={};function Ql(u,m,y,A,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Ql(u,m[H],y,A,U);return null}return y=Yl(y),u&&u[Be]?u.K(m,y,_(A)?!!A.capture:!1,U):yn(u,m,y,!1,A,U)}function yn(u,m,y,A,U,H){if(!m)throw Error("Invalid event type");var ne=_(U)?!!U.capture:!!U,Ve=Hs(u);if(Ve||(u[Qr]=Ve=new _i(u)),y=Ve.add(m,y,A,ne,H),y.proxy)return y;if(A=Th(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)q||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Yr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Th(){function u(y){return m.call(u.src,u.listener,y)}const m=Ah;return u}function io(u,m,y,A,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)io(u,m[H],y,A,U);else A=_(A)?!!A.capture:!!A,y=Yl(y),u&&u[Be]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],y=Kr(H,y,A,U),-1<y&&(xn(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Kr(m,y,A,U)),(y=-1<u?m[u]:null)&&qs(y))}function qs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Be])Gr(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Yr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=Hs(m))?(Gr(y,u),y.h==0&&(y.src=null,m[Qr]=null)):xn(u)}}}function Yr(u){return u in no?no[u]:no[u]="on"+u}function Ah(u,m){if(u.da)u=!0;else{m=new le(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&qs(u),u=y.call(A,m)}return u}function Hs(u){return u=u[Qr],u instanceof _i?u:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yl(u){return typeof u=="function"?u:(u[ro]||(u[ro]=function(m){return u.handleEvent(m)}),u[ro])}function ot(){re.call(this),this.i=new _i(this),this.M=this,this.F=null}W(ot,re),ot.prototype[Be]=!0,ot.prototype.removeEventListener=function(u,m,y,A){io(this,u,m,y,A)};function Ge(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new te(m,u);else if(m instanceof te)m.target=m.target||u;else{var U=m;m=new te(A,u),D(m,U)}if(U=!0,y)for(var H=y.length-1;0<=H;H--){var ne=m.g=y[H];U=ln(ne,A,!0,m)&&U}if(ne=m.g=u,U=ln(ne,A,!0,m)&&U,U=ln(ne,A,!1,m)&&U,y)for(H=0;H<y.length;H++)ne=m.g=y[H],U=ln(ne,A,!1,m)&&U}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)xn(y[A]);delete u.g[m],u.h--}}this.F=null},ot.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},ot.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function ln(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var ne=m[H];if(ne&&!ne.da&&ne.capture==y){var Ve=ne.listener,Tt=ne.ha||ne.src;ne.fa&&Gr(u.i,ne),U=Ve.call(Tt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Gt(u,m,y){if(typeof u=="function")y&&(u=k(u,y));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Xl(u){u.g=Gt(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Sh extends re{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){re.call(this),this.h=u,this.g={}}W(Xr,re);var $r=[];function Zr(u){de(u.g,function(m,y){this.g.hasOwnProperty(y)&&qs(m)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=p.JSON.stringify,Fs=p.JSON.parse,Wr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function oo(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){te.call(this,"d")}W(vi,te);function lo(){te.call(this,"c")}W(lo,te);var Fn={},uo=null;function Zi(){return uo=uo||new ot}Fn.La="serverreachability";function Gs(u){te.call(this,Fn.La,u)}W(Gs,te);function Wi(u){const m=Zi();Ge(m,new Gs(m))}Fn.STAT_EVENT="statevent";function $l(u,m){te.call(this,Fn.STAT_EVENT,u),this.stat=m}W($l,te);function it(u){const m=Zi();Ge(m,new $l(m,u))}Fn.Ma="timingevent";function Et(u,m){te.call(this,Fn.Ma,u),this.size=m}W(Et,te);function mt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function co(u,m,y,A,U,H){u.info(function(){if(u.g)if(H)for(var ne="",Ve=H.split("&"),Tt=0;Tt<Ve.length;Tt++){var Pe=Ve[Tt].split("=");if(1<Pe.length){var Ct=Pe[0];Pe=Pe[1];var At=Ct.split("_");ne=2<=At.length&&At[1]=="type"?ne+(Ct+"="+Pe+"&"):ne+(Ct+"=redacted&")}}else ne=null;else ne=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+y+`
`+ne})}function bh(u,m,y,A,U,H,ne){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+y+`
`+H+" "+ne})}function Ji(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jr(u,y)+(A?" "+A:"")})}function Zl(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function Jr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return Mn(y)}catch{return m}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Kn(){}W(Kn,so),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Gn=new Kn;function Wt(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var ho={},Ks={};function Vn(u,m,y){u.L=1,u.v=rs(un(m)),u.m=y,u.P=!0,Ti(u,null)}function Ti(u,m){u.F=Date.now(),es(u),u.A=un(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),yo(y.i,"t",A),u.C=0,y=u.j.J,u.h=new ct,u.g=du(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Sh(k(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&($r[0]=U.toString()),U=$r);for(var H=0;H<U.length;H++){var ne=Ql(y,U[H],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wi(),co(u.i,u.u,u.A,u.l,u.R,u.m)}Wt.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Wt.prototype.Y=function(u){try{if(u==this.g)e:{const At=Sn(this.g);var m=this.g.Ba();const Ni=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||At!=4||m==7||(m==8||0>=Ni?Wi(3):Wi(2)),tr(this);var y=this.g.Z();this.X=y;t:if(Wl(this)){var A=su(this.g);u="";var U=A.length,H=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),Qn(this);var ne="";break t}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(H&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=y==200,bh(this.i,this.u,this.A,this.l,this.R,At,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Tt=this.g;if((Ve=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Se(Ve)){var Pe=Ve;break t}}Pe=null}if(y=Pe)Ji(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,y);else{this.o=!1,this.s=3,it(12),Vt(this),Qn(this);break e}}if(this.P){y=!0;let Pt;for(;!this.J&&this.C<ne.length;)if(Pt=Jl(this,ne),Pt==Ks){At==4&&(this.s=4,it(14),y=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==ho){this.s=4,it(15),Ji(this.i,this.l,ne,"[Invalid Chunk]"),y=!1;break}else Ji(this.i,this.l,Pt,null),ts(this,Pt);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ne.length!=0||this.h.h||(this.s=1,it(16),y=!1),this.o=this.o&&y,!y)Ji(this.i,this.l,ne,"[Invalid Chunked Response]"),Vt(this),Qn(this);else if(0<ne.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),fs(Ct),Ct.M=!0,it(11))}}else Ji(this.i,this.l,ne,null),ts(this,ne);At==4&&Vt(this),this.o&&!this.J&&(At==4?cu(this.j,this):(this.o=!1,es(this)))}else Nh(this.g),y==400&&0<ne.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Vt(this),Qn(this)}}}catch{}finally{}};function Wl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jl(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Ks:(y=Number(m.substring(y,A)),isNaN(y)?ho:(A+=1,A+y>m.length?Ks:(m=m.slice(A,A+y),u.C=A+y,m)))}Wt.prototype.cancel=function(){this.J=!0,Vt(this)};function es(u){u.S=Date.now()+u.I,eu(u,u.I)}function eu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=mt(k(u.ba,u),m)}function tr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Wt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Zl(this.i,this.A),this.L!=2&&(Wi(),it(17)),Vt(this),this.s=2,Qn(this)):eu(this,this.S-u)};function Qn(u){u.j.G==0||u.J||cu(u.j,u)}function Vt(u){tr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Zr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ts(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||fo(y.h,u))){if(!u.K&&fo(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ra(y),na(y);else break e;So(y),it(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=mt(k(y.Za,y),6e3));if(1>=Ys(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ci(y,11)}else if((u.K||y.g==u)&&ra(y),!Se(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Pe=U[m];if(y.T=Pe[0],Pe=Pe[1],y.G==2)if(Pe[0]=="c"){y.K=Pe[1],y.ia=Pe[2];const Ct=Pe[3];Ct!=null&&(y.la=Ct,y.j.info("VER="+y.la));const At=Pe[4];At!=null&&(y.Aa=At,y.j.info("SVER="+y.Aa));const Ni=Pe[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(A=1.5*Ni,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Pt=u.g;if(Pt){const ei=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var H=A.h;H.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Xs(H,H.h),H.h=null))}if(A.D){const Ro=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(A.ya=Ro,Ye(A.I,A.D,Ro))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var ne=u;if(A.qa=fu(A,A.J?A.ia:null,A.W),ne.K){Jt(A.h,ne);var Ve=ne,Tt=A.L;Tt&&(Ve.I=Tt),Ve.B&&(tr(Ve),es(Ve)),A.g=ne}else lu(A);0<y.i.length&&ia(y)}else Pe[0]!="stop"&&Pe[0]!="close"||Ci(y,7);else y.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ci(y,7):To(y):Pe[0]!="noop"&&y.l&&y.l.ta(Pe),y.v=0)}}Wi(4)}catch{}}var tu=class{constructor(u,m){this.g=u,this.map=m}};function Ai(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ys(u){return u.h?1:u.g?u.g.size:0}function fo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xs(u,m){u.g?u.g.add(m):u.h=m}function Jt(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ai.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function mo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return ee(u.i)}function Rh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function $s(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function po(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=$s(u),A=Rh(u),U=A.length,H=0;H<U;H++)m.call(void 0,A[H],y&&y[H],u)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),U=null;if(0<=A){var H=u[y].substring(0,A);U=u[y].substring(A+1)}else H=u[y];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pt){this.h=u.h,is(this,u.j),this.o=u.o,this.g=u.g,nr(this,u.s),this.l=u.l;var m=u.i,y=new bi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Si(this,y),this.m=u.m}else u&&(m=String(u).match(ns))?(this.h=!1,is(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),nr(this,m[4]),this.l=En(m[5]||"",!0),Si(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}pt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ss(m,go,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,go,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ss(y,y.charAt(0)=="/"?Ih:_o,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ss(y,Zs)),u.join("")};function un(u){return new pt(u)}function is(u,m,y){u.j=y?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function nr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Si(u,m,y){m instanceof bi?(u.i=m,iu(u.i,u.h)):(y||(m=ss(m,Ch)),u.i=new bi(m,u.h))}function Ye(u,m,y){u.i.set(m,y)}function rs(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,nu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var go=/[#\/\?@]/g,_o=/[#\?:]/g,Ih=/[#\?]/g,Ch=/[#\?@]/g,Zs=/#/g;function bi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&wh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=bi.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Yn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ri(u,m){Tn(u),m=Yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wi(u,m){return Tn(u),m=Yn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(y,A){y.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const U=u[A];for(let H=0;H<U.length;H++)y.push(m[A])}return y},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")wi(this,u)&&(m=m.concat(this.g.get(Yn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Yn(this,u),wi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yo(u,m,y){Ri(u,m),0<y.length&&(u.i=null,u.g.set(Yn(u,m),ee(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const H=encodeURIComponent(String(A)),ne=this.V(A);for(A=0;A<ne.length;A++){var U=H;ne[A]!==""&&(U+="="+encodeURIComponent(String(ne[A]))),u.push(U)}}return this.i=u.join("&")};function Yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function iu(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,A){var U=A.toLowerCase();A!=U&&(Ri(this,A),yo(this,U,y))},u)),u.j=m}function as(u,m){const y=new vn;if(p.Image){const A=new Image;A.onload=G(An,y,"TestLoadImage: loaded",!0,m,A),A.onerror=G(An,y,"TestLoadImage: error",!1,m,A),A.onabort=G(An,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=G(An,y,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Pn(u,m){const y=new vn,A=new AbortController,U=setTimeout(()=>{A.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(y)}catch{}}function os(){this.g=new Wr}function Xn(u,m,y){const A=y||"";try{po(u,function(U,H){let ne=U;_(U)&&(ne=Mn(U)),m.push(A+H+"="+encodeURIComponent(ne))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function ir(u){this.l=u.Ub||null,this.j=u.eb||!1}W(ir,so),ir.prototype.g=function(){return new Ii(this.l,this.j)},ir.prototype.i=function(u){return function(){return u}}({});function Ii(u,m){ot.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(Ii,ot),r=Ii.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Zn(this),this.readyState==3&&vo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Eo(u){let m="";return de(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function It(u,m,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Eo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ye(u,m,y))}function He(u){ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(He,ot);var Ws=/^https?$/i,ls=["POST","PUT"];r=He.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?ao(this.o):ao(Gn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){ru(this,H);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)y.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())y.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),U=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ls,m,void 0))||A||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of y)this.g.setRequestHeader(H,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){ru(this,H)}};function ru(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Js(u),Wn(u)}function Js(u){u.A||(u.A=!0,Ge(u,"complete"),Ge(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ge(this,"complete"),Ge(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},r.bb=function(){ea(this)};function ea(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)Gt(u.Ea,0,u);else if(Ge(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var A;if(A=ne===0){var U=String(u.D).match(ns)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),A=!Ws.test(U?U.toLowerCase():"")}y=A}if(y)Ge(u,"complete"),Ge(u,"success");else{u.m=6;try{var H=2<Sn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Js(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){us(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ge(u,"ready");try{y.onreadystatechange=A}catch{}}}function us(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fs(m)}};function su(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Nh(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Se(u[A]))continue;var y=M(u[A]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[U]||[];m[U]=H,H.push(y)}x(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ta(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,u),this.cb=cs("retryDelaySeedMs",1e4,u),this.Wa=cs("forwardChannelMaxRetries",2,u),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(u&&u.concurrentRequestLimit),this.Da=new os,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ta.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){it(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=fu(this,null,this.W),ia(this)};function To(u){if(au(u),u.G==3){var m=u.U++,y=un(u.I);if(Ye(y,"SID",u.K),Ye(y,"RID",m),Ye(y,"TYPE","terminate"),hs(u,y),m=new Wt(u,u.j,m),m.L=2,m.v=rs(un(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=m.v,y=!0),y||(m.g=du(m.j,null),m.g.ea(m.v)),m.F=Date.now(),es(m)}hu(u)}function na(u){u.g&&(fs(u),u.g.cancel(),u.g=null)}function au(u){na(u),u.u&&(p.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ia(u){if(!Qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;ie||N(),he||(ie(),he=!0),Le.add(m,u),u.B=0}}function Dh(u,m){return Ys(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=mt(k(u.Ga,u,m),bo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Wt(this,this.j,u);let H=this.o;if(this.S&&(H?(H=b(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=ou(this,U,m),y=un(this.I),Ye(y,"RID",u),Ye(y,"CVER",22),this.D&&Ye(y,"X-HTTP-Session-Id",this.D),hs(this,y),H&&(this.O?m="headers="+encodeURIComponent(String(Eo(H)))+"&"+m:this.m&&It(y,this.m,H)),Xs(this.h,U),this.Ua&&Ye(y,"TYPE","init"),this.P?(Ye(y,"$req",m),Ye(y,"SID","null"),U.T=!0,Vn(U,y,null)):Vn(U,y,m),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||Qs(this.h)||Ao(this))};function Ao(u,m){var y;m?y=m.l:y=u.U++;const A=un(u.I);Ye(A,"SID",u.K),Ye(A,"RID",y),Ye(A,"AID",u.T),hs(u,A),u.m&&u.o&&It(A,u.m,u.o),y=new Wt(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ou(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xs(u.h,y),Vn(y,A,m)}function hs(u,m){u.H&&de(u.H,function(y,A){Ye(m,A,y)}),u.l&&po({},function(y,A){Ye(m,A,y)})}function ou(u,m,y){y=Math.min(u.i.length,y);var A=u.l?k(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const ne=["count="+y];H==-1?0<y?(H=U[0].g,ne.push("ofs="+H)):H=0:ne.push("ofs="+H);let Ve=!0;for(let Tt=0;Tt<y;Tt++){let Pe=U[Tt].g;const Ct=U[Tt].map;if(Pe-=H,0>Pe)H=Math.max(0,U[Tt].g-100),Ve=!1;else try{Xn(Ct,ne,"req"+Pe+"_")}catch{A&&A(Ct)}}if(Ve){A=ne.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,A}function lu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ie||N(),he||(ie(),he=!0),Le.add(m,u),u.v=0}}function So(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=mt(k(u.Fa,u),bo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=mt(k(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),na(this),uu(this))};function fs(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function uu(u){u.g=new Wt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),hs(u,m),u.m&&u.o&&It(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=rs(un(m)),y.m=null,y.P=!0,Ti(y,u)}r.Za=function(){this.C!=null&&(this.C=null,na(this),So(this),it(19))};function ra(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function cu(u,m){var y=null;if(u.g==m){ra(u),fs(u),u.g=null;var A=2}else if(fo(u.h,m))y=m.D,Jt(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=Zi(),Ge(A,new Et(A,y)),ia(u)}else lu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Dh(u,m)||A==2&&So(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function bo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var y=k(u.fb,u),A=u.Xa;const U=!A;A=new pt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||is(A,"https"),rs(A),U?as(A.toString(),y):Pn(A.toString(),y)}else it(2);u.G=0,u.l&&u.l.sa(m),hu(u),au(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function hu(u){if(u.G=0,u.ka=[],u.l){const m=mo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,ee(u.i),u.i.length=0),u.l.ra()}}function fu(u,m,y){var A=y instanceof pt?un(y):new pt(y);if(A.g!="")m&&(A.g=m+"."+A.g),nr(A,A.s);else{var U=p.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new pt(null);A&&is(H,A),m&&(H.g=m),U&&nr(H,U),y&&(H.l=y),A=H}return y=u.D,m=u.ya,y&&m&&Ye(A,y,m),Ye(A,"VER",u.la),hs(u,A),A}function du(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new He(new ir({eb:y})):new He(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function sa(){}sa.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ot.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Se(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Se(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}W(en,ot),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){To(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Mn(u),u=y);m.i.push(new tu(m.Ya++,u)),m.G==3&&ia(m)},en.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,en.aa.N.call(this)};function pu(u){vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}W(pu,vi);function gu(){lo.call(this),this.status=1}W(gu,lo);function Jn(u){this.g=u}W(Jn,mu),Jn.prototype.ua=function(){Ge(this.g,"a")},Jn.prototype.ta=function(u){Ge(this.g,new pu(u))},Jn.prototype.sa=function(u){Ge(this.g,new gu)},Jn.prototype.ra=function(){Ge(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,hT=function(){return new sa},cT=function(){return Zi()},uT=Fn,Zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,Cc=er,Ei.COMPLETE="complete",lT=Ei,oo.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,_l=oo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,oT=He}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",ov="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new gm("@firebase/firestore");function Va(){return Vs.logLevel}function se(r,...e){if(Vs.logLevel<=xe.DEBUG){const n=e.map(Nm);Vs.debug(`Firestore (${Za}): ${r}`,...n)}}function Xi(r,...e){if(Vs.logLevel<=xe.ERROR){const n=e.map(Nm);Vs.error(`Firestore (${Za}): ${r}`,...n)}}function Ha(r,...e){if(Vs.logLevel<=xe.WARN){const n=e.map(Nm);Vs.warn(`Firestore (${Za}): ${r}`,...n)}}function Nm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+r;throw Xi(e),new Error(e)}function Fe(r,e){r||Te()}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bI{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ki,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ki)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new fT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Xt(e)}}class RI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new RI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class II{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_n(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new lv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function Wd(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const c=dT(),f=NI(c.encode(uv(r,n)),c.encode(uv(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function uv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function NI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function Fa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,hv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hv);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cv)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Rt(0,0))}static max(){return new be(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=ai.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ce(e.length,n.length)}static compareSegments(e,n){const s=ai.isNumericId(e),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(n)):Wd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class nt extends ai{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const DI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ai{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return DI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Bt([fv])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function OI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new kr(o,me.empty(),e)}function xI(r){return new kr(r.readTime,r.key,Nl)}class kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new kr(be.min(),me.empty(),Nl)}static max(){return new kr(be.max(),me.empty(),Nl)}}function MI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==VI)throw r;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,s)=>{n(e)})}static reject(e){return new X((n,s)=>{s(e)})}static waitFor(e){return new X((n,s)=>{let o=0,c=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++c,f&&c===o&&n()},g=>s(g))}),f=!0,c===o&&n()})}static or(e){let n=X.resolve(!1);for(const s of e)n=n.next(o=>o?X.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(e,n){return new X((s,o)=>{const c=e.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(T=>{f[_]=T,++p,p===c&&s(f)},T=>o(T))}})}static doWhile(e,n){return new X((s,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):s()};c()})}}function kI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ja(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}oh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-1;function lh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function UI(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="";function LI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=dv(e)),e=jI(r.get(n),e);return dv(e)}function jI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case pT:n+="";break;default:n+=c}}return n}function dv(r){return r+pT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function gT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=c??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,c){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(e){return new pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new wt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _T("Invalid base64 string: "+c):c}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const zI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(r){if(Fe(!!r),typeof r=="string"){let e=0;const n=zI.exec(r);if(Fe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Lr(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="server_timestamp",vT="__type__",ET="__previous_value__",TT="__local_write_time__";function Om(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[vT])===null||n===void 0?void 0:n.stringValue)===yT}function uh(r){const e=r.mapValue.fields[ET];return Om(e)?uh(e):e}function Dl(r){const e=Ur(r.mapValue.fields[TT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,s,o,c,f,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_}}const Hc="(default)";class Ol{constructor(e,n){this.projectId=e,this.database=n||Hc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="__type__",qI="__max__",Ec={mapValue:{}},ST="__vector__",Fc="value";function jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Om(r)?4:FI(r)?9007199254740991:HI(r)?10:11:Te()}function di(r,e){if(r===e)return!0;const n=jr(r);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Dl(r).isEqual(Dl(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Ur(o.timestampValue),p=Ur(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Lr(o.bytesValue).isEqual(Lr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return dt(o.geoPointValue.latitude)===dt(c.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return dt(o.integerValue)===dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=dt(o.doubleValue),p=dt(c.doubleValue);return f===p?qc(f)===qc(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return Fa(r.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(mv(f)!==mv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!di(f[g],p[g])))return!1;return!0}(r,e);default:return Te()}}function xl(r,e){return(r.values||[]).find(n=>di(n,e))!==void 0}function Ga(r,e){if(r===e)return 0;const n=jr(r),s=jr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(c,f){const p=dt(c.integerValue||c.doubleValue),g=dt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,e);case 3:return gv(r.timestampValue,e.timestampValue);case 4:return gv(Dl(r),Dl(e));case 5:return Wd(r.stringValue,e.stringValue);case 6:return function(c,f){const p=Lr(c),g=Lr(f);return p.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const p=c.split("/"),g=f.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=Ce(p[_],g[_]);if(T!==0)return T}return Ce(p.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const p=Ce(dt(c.latitude),dt(f.latitude));return p!==0?p:Ce(dt(c.longitude),dt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return _v(r.arrayValue,e.arrayValue);case 10:return function(c,f){var p,g,_,T;const C=c.fields||{},k=f.fields||{},G=(p=C[Fc])===null||p===void 0?void 0:p.arrayValue,W=(g=k[Fc])===null||g===void 0?void 0:g.arrayValue,ee=Ce(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((T=W==null?void 0:W.values)===null||T===void 0?void 0:T.length)||0);return ee!==0?ee:_v(G,W)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===Ec.mapValue&&f===Ec.mapValue)return 0;if(c===Ec.mapValue)return 1;if(f===Ec.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=f.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let C=0;C<g.length&&C<T.length;++C){const k=Wd(g[C],T[C]);if(k!==0)return k;const G=Ga(p[g[C]],_[T[C]]);if(G!==0)return G}return Ce(g.length,T.length)}(r.mapValue,e.mapValue);default:throw Te()}}function gv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=Ur(r),s=Ur(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function _v(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Ga(n[o],s[o]);if(c)return c}return Ce(n.length,s.length)}function Ka(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Lr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Jd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Jd(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function Nc(r){switch(jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(r);return e?16+Nc(e):16;case 5:return 2*r.stringValue.length;case 6:return Lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Nc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ls(s.fields,(c,f)=>{o+=c.length+Nc(f)}),o}(r.mapValue);default:throw Te()}}function yv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function em(r){return!!r&&"integerValue"in r}function xm(r){return!!r&&"arrayValue"in r}function vv(r){return!!r&&"nullValue"in r}function Ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dc(r){return!!r&&"mapValue"in r}function HI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[AT])===null||n===void 0?void 0:n.stringValue)===ST}function Al(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ls(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Al(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(r.arrayValue.values[n]);return e}return Object.assign({},r)}function FI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Al(f):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ls(n,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new On(Al(this.value))}}function bT(r){const e=[];return Ls(r.fields,(n,s)=>{const o=new Bt([n]);if(Dc(s)){const c=bT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,o,c,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new $t(e,0,be.min(),be.min(),be.min(),On.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,be.min(),be.min(),On.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,be.min(),be.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.position=e,this.inclusive=n}}function Tv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Ga(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Av(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function GI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class vt extends RT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new QI(e,n,s):n==="array-contains"?new $I(e,s):n==="in"?new ZI(e,s):n==="not-in"?new WI(e,s):n==="array-contains-any"?new JI(e,s):new vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new YI(e,s):new XI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Hn(e,n)}matches(e){return wT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wT(r){return r.op==="and"}function IT(r){return KI(r)&&wT(r)}function KI(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function tm(r){if(r instanceof vt)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(IT(r))return r.filters.map(e=>tm(e)).join(",");{const e=r.filters.map(n=>tm(n)).join(",");return`${r.op}(${e})`}}function CT(r,e){return r instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,e):r instanceof Hn?function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,p)=>c&&CT(f,o.filters[p]),!0):!1}(r,e):void Te()}function NT(r){return r instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(r):r instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(NT).join(" ,")+"}"}(r):"Filter"}class QI extends vt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class YI extends vt{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XI extends vt{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class $I extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xm(n)&&xl(n.arrayValue,this.value)}}class ZI extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class WI extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xl(this.value.arrayValue,n)}}class JI extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n=null,s=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.le=null}}function Sv(r,e=null,n=[],s=[],o=null,c=null,f=null){return new e1(r,e,n,s,o,c,f)}function Mm(r){const e=Re(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>tm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ka(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ka(s)).join(",")),e.le=n}return e.le}function Vm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!GI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!CT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Av(r.startAt,e.startAt)&&Av(r.endAt,e.endAt)}function nm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n=null,s=[],o=[],c=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function t1(r,e,n,s,o,c,f,p){return new Bl(r,e,n,s,o,c,f,p)}function Pm(r){return new Bl(r)}function bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OT(r){return r.collectionGroup!==null}function Sl(r){const e=Re(r);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new wt(Bt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new Kc(c,s))}),n.has(Bt.keyField().canonicalString())||e.he.push(new Kc(Bt.keyField(),s))}return e.he}function ci(r){const e=Re(r);return e.Pe||(e.Pe=n1(e,Sl(r))),e.Pe}function n1(r,e){if(r.limitType==="F")return Sv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Kc(o.field,c)});const n=r.endAt?new Gc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Gc(r.startAt.position,r.startAt.inclusive):null;return Sv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function im(r,e){const n=r.filters.concat([e]);return new Bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rm(r,e,n){return new Bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ch(r,e){return Vm(ci(r),ci(e))&&r.limitType===e.limitType}function xT(r){return`${Mm(ci(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>NT(o)).join(", ")}]`),lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ka(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ka(o)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function hh(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):me.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of Sl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,g){const _=Tv(f,p,g);return f.inclusive?_<=0:_<0}(s.startAt,Sl(s),o)||s.endAt&&!function(f,p,g){const _=Tv(f,p,g);return f.inclusive?_>=0:_>0}(s.endAt,Sl(s),o))}(r,e)}function i1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function MT(r){return(e,n)=>{let s=!1;for(const o of Sl(r)){const c=r1(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function r1(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):function(c,f,p){const g=f.data.field(c),_=p.data.field(c);return g!==null&&_!==null?Ga(g,_):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new at(me.comparator);function $i(){return s1}const VT=new at(me.comparator);function yl(...r){let e=VT;for(const n of r)e=e.insert(n.key,n);return e}function PT(r){let e=VT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ns(){return bl()}function kT(){return bl()}function bl(){return new js(r=>r.toString(),(r,e)=>r.isEqual(e))}const a1=new at(me.comparator),o1=new wt(me.comparator);function Me(...r){let e=o1;for(const n of r)e=e.add(n);return e}const l1=new wt(Ce);function u1(){return l1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function UT(r){return{integerValue:""+r}}function c1(r,e){return UI(e)?UT(e):km(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function h1(r,e,n){return r instanceof Qc?function(o,c){const f={fields:{[vT]:{stringValue:yT},[TT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Om(c)&&(c=uh(c)),c&&(f.fields[ET]=c),{mapValue:f}}(n,e):r instanceof Ml?jT(r,e):r instanceof Vl?zT(r,e):function(o,c){const f=LT(o,c),p=Rv(f)+Rv(o.Ie);return em(f)&&em(o.Ie)?UT(p):km(o.serializer,p)}(r,e)}function f1(r,e,n){return r instanceof Ml?jT(r,e):r instanceof Vl?zT(r,e):n}function LT(r,e){return r instanceof Yc?function(s){return em(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Qc extends fh{}class Ml extends fh{constructor(e){super(),this.elements=e}}function jT(r,e){const n=BT(e);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class Vl extends fh{constructor(e){super(),this.elements=e}}function zT(r,e){let n=BT(e);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class Yc extends fh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Rv(r){return dt(r.integerValue||r.doubleValue)}function BT(r){return xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function d1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ml&&o instanceof Ml||s instanceof Vl&&o instanceof Vl?Fa(s.elements,o.elements,di):s instanceof Yc&&o instanceof Yc?di(s.Ie,o.Ie):s instanceof Qc&&o instanceof Qc}(r.transform,e.transform)}class m1{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class dh{}function qT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new FT(r.key,hi.none()):new ql(r.key,r.data,hi.none());{const n=r.data,s=On.empty();let o=new wt(Bt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new zs(r.key,s,new zn(o.toArray()),hi.none())}}function p1(r,e,n){r instanceof ql?function(o,c,f){const p=o.value.clone(),g=Iv(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof zs?function(o,c,f){if(!Oc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=Iv(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(HT(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Rl(r,e,n,s){return r instanceof ql?function(c,f,p,g){if(!Oc(c.precondition,f))return p;const _=c.value.clone(),T=Cv(c.fieldTransforms,g,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof zs?function(c,f,p,g){if(!Oc(c.precondition,f))return p;const _=Cv(c.fieldTransforms,g,f),T=f.data;return T.setAll(HT(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,e,n,s):function(c,f,p){return Oc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function g1(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=LT(s.transform,o||null);c!=null&&(n===null&&(n=On.empty()),n.set(s.field,c))}return n||null}function wv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fa(s,o,(c,f)=>d1(c,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ql extends dh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends dh{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function HT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Iv(r,e,n){const s=new Map;Fe(r.length===n.length);for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,p=e.data.field(c.field);s.set(c.field,f1(f,p,n[o]))}return s}function Cv(r,e,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,h1(c,f,e))}return s}class FT extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _1 extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&p1(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Rl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Rl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=kT();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(o.key)?null:p;const g=qT(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,s)=>wv(n,s))&&Fa(this.baseMutations,e.baseMutations,(n,s)=>wv(n,s))}}class Um{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length);let o=function(){return a1}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Um(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function T1(r){switch(r){case $.OK:return Te();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Te()}}function GT(r){if(r===void 0)return Xi("GRPC error has no .code"),$.UNKNOWN;switch(r){case yt.OK:return $.OK;case yt.CANCELLED:return $.CANCELLED;case yt.UNKNOWN:return $.UNKNOWN;case yt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case yt.INTERNAL:return $.INTERNAL;case yt.UNAVAILABLE:return $.UNAVAILABLE;case yt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case yt.NOT_FOUND:return $.NOT_FOUND;case yt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case yt.ABORTED:return $.ABORTED;case yt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case yt.DATA_LOSS:return $.DATA_LOSS;default:return Te()}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Mr([4294967295,4294967295],0);function Nv(r){const e=dT().encode(r),n=new aT;return n.update(e),new Uint8Array(n.digest())}function Dv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Mr([n,s],0),new Mr([o,c],0)]}class Lm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(s<0)throw new vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Mr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Mr.fromNumber(s)));return o.compare(A1)===1&&(o=new Mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Nv(e),[s,o]=Dv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Lm(c,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const n=Nv(e),[s,o]=Dv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mh(be.min(),o,new at(Ce),$i(),Me())}}class Hl{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Hl(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class KT{constructor(e,n){this.targetId=e,this.ge=n}}class QT{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Ov{constructor(){this.pe=0,this.ye=xv(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),n=Me(),s=Me();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Hl(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=xv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class S1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$i(),this.$e=Tc(),this.Ue=Tc(),this.Ke=new at(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const c=o.target;if(nm(c))if(s===0){const f=new me(c.path);this.ze(n,f,$t.newNoDocument(f,be.min()))}else Fe(s===1);else{const f=this.et(n);if(f!==s){const p=this.tt(e),g=p?this.nt(p,e,f):1;if(g!==0){this.Ye(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,p;try{f=Lr(s).toUint8Array()}catch(g){if(g instanceof _T)return Ha("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Lm(f,o,c)}catch(g){return Ha(g instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Ee===0?null:p}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,c,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((c,f)=>{const p=this.Xe(f);if(p){if(c.current&&nm(p.target)){const g=new me(p.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,$t.newNoDocument(g,e))}c.ve&&(n.set(f,c.Fe()),c.Me())}});let s=Me();this.Ue.forEach((c,f)=>{let p=!0;f.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(e));const o=new mh(e,n,this.Ke,this.Qe,s);return this.Qe=$i(),this.$e=Tc(),this.Ue=Tc(),this.Ke=new at(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Ov,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new wt(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new wt(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ov),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Tc(){return new at(me.comparator)}function xv(){return new at(me.comparator)}const b1={asc:"ASCENDING",desc:"DESCENDING"},R1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w1={and:"AND",or:"OR"};class I1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(r,e){return r.useProto3Json||lh(e)?e:{value:e}}function Xc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function C1(r,e){return Xc(r,e.toTimestamp())}function fi(r){return Fe(!!r),be.fromTimestamp(function(n){const s=Ur(n);return new Rt(s.seconds,s.nanos)}(r))}function jm(r,e){return am(r,e).canonicalString()}function am(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function XT(r){const e=nt.fromString(r);return Fe(e0(e)),e}function om(r,e){return jm(r.databaseId,e.path)}function Pd(r,e){const n=XT(e);if(n.get(1)!==r.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(ZT(n))}function $T(r,e){return jm(r.databaseId,e)}function N1(r){const e=XT(r);return e.length===4?nt.emptyPath():ZT(e)}function lm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZT(r){return Fe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Mv(r,e,n){return{name:om(r,e),fields:n.value.mapValue.fields}}function D1(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Fe(T===void 0||typeof T=="string"),Ht.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Ht.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(_){const T=_.code===void 0?$.UNKNOWN:GT(_.code);return new ae(T,_.message||"")}(f);n=new QT(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pd(r,s.document.name),c=fi(s.document.updateTime),f=s.document.createTime?fi(s.document.createTime):be.min(),p=new On({mapValue:{fields:s.document.fields}}),g=$t.newFoundDocument(o,c,f,p),_=s.targetIds||[],T=s.removedTargetIds||[];n=new xc(_,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pd(r,s.document),c=s.readTime?fi(s.readTime):be.min(),f=$t.newNoDocument(o,c),p=s.removedTargetIds||[];n=new xc([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pd(r,s.document),c=s.removedTargetIds||[];n=new xc([],c,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new E1(o,c),p=s.targetId;n=new KT(p,f)}}return n}function O1(r,e){let n;if(e instanceof ql)n={update:Mv(r,e.key,e.value)};else if(e instanceof FT)n={delete:om(r,e.key)};else if(e instanceof zs)n={update:Mv(r,e.key,e.data),updateMask:z1(e.fieldMask)};else{if(!(e instanceof _1))return Te();n={verify:om(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const p=f.transform;if(p instanceof Qc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:C1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te()}(r,e.precondition)),n}function x1(r,e){return r&&r.length>0?(Fe(e!==void 0),r.map(n=>function(o,c){let f=o.updateTime?fi(o.updateTime):fi(c);return f.isEqual(be.min())&&(f=fi(c)),new m1(f,o.transformResults||[])}(n,e))):[]}function M1(r,e){return{documents:[$T(r,e.path)]}}function V1(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$T(r,o);const c=function(_){if(_.length!==0)return JT(Hn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(T=>function(k){return{field:ka(k.field),direction:U1(k.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=sm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function P1(r){let e=N1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(C){const k=WT(C);return k instanceof Hn&&IT(k)?k.getFilters():[k]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(k=>function(W){return new Kc(Ua(W.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(k))}(n.orderBy));let p=null;n.limit&&(p=function(C){let k;return k=typeof C=="object"?C.value:C,lh(k)?null:k}(n.limit));let g=null;n.startAt&&(g=function(C){const k=!!C.before,G=C.values||[];return new Gc(G,k)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const k=!C.before,G=C.values||[];return new Gc(G,k)}(n.endAt)),t1(e,o,f,c,p,"F",g,_)}function k1(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(n.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(n.unaryFilter.field);return vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return vt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return vt.create(Ua(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(s=>WT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function U1(r){return b1[r]}function L1(r){return R1[r]}function j1(r){return w1[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Ua(r){return Bt.fromServerFormat(r.fieldPath)}function JT(r){return r instanceof vt?function(n){if(n.op==="=="){if(Ev(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(vv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ev(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(vv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:L1(n.op),value:n.value}}}(r):r instanceof Hn?function(n){const s=n.getFilters().map(o=>JT(o));return s.length===1?s[0]:{compositeFilter:{op:j1(n.op),filters:s}}}(r):Te()}function z1(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,s,o,c=be.min(),f=be.min(),p=Ht.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.Tt=e}}function q1(r){const e=P1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.Tn=new F1}addToCollectionParentIndex(e,n){return this.Tn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(kr.min())}updateCollectionGroup(e,n,s){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class F1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new wt(nt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new wt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t0=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(t0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Qa(0)}static Kn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LruGarbageCollector",G1=1048576;function kv([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class K1{constructor(e){this.Hn=e,this.buffer=new wt(kv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){se(Pv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ja(n)?se(Pv,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.er(3e5)})}}class Y1{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return X.resolve(oh.ae);const s=new K1(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Vv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,c,f,p,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,p=Date.now(),this.removeTargets(e,s,n))).next(C=>(c=C,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(_=Date.now(),Va()<=xe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${C} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:C})))}}function X1(r,e){return new Y1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.changes=new js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Rl(s.mutation,o,zn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=Ns();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(c=>{let f=yl();return c.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ns();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let c=$i();const f=bl(),p=function(){return bl()}();return n.forEach((g,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof zs)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Rl(T.mutation,_,T.mutation.getFieldMask(),Rt.now())):f.set(_.key,zn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var C;return p.set(_,new Z1(T,(C=f.get(_))!==null&&C!==void 0?C:null))}),p))}recalculateAndSaveOverlays(e,n){const s=bl();let o=new at((f,p)=>f-p),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let T=s.get(g)||zn.empty();T=p.applyToLocalView(_,T),s.set(g,T);const C=(o.get(p.batchId)||Me()).add(g);o=o.insert(p.batchId,C)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,C=kT();T.forEach(k=>{if(!c.has(k)){const G=qT(n.get(k),s.get(k));G!==null&&C.set(k,G),c=c.add(k)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,C))}return X.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):X.resolve(Ns());let p=Nl,g=c;return f.next(_=>X.forEach(_,(T,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next(k=>{g=g.insert(T,k)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,Me())).next(T=>({batchId:p,changes:PT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let o=yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let f=yl();return this.indexManager.getCollectionParents(e,c).next(p=>X.forEach(p,g=>{const _=function(C,k){return new Bl(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((C,k)=>{f=f.insert(C,k)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o))).next(f=>{c.forEach((g,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,$t.newInvalidDocument(T)))});let p=yl();return f.forEach((g,_)=>{const T=c.get(g);T!==void 0&&Rl(T.mutation,_,zn.empty(),Rt.now()),hh(n,_)&&(p=p.insert(g,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return X.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:fi(o.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:q1(o.bundledQuery),readTime:fi(o.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.overlays=new at(me.comparator),this.Rr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ns();return X.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,c)=>{this.Et(e,n,c)}),X.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(e,n,s){const o=Ns(),c=n.length+1,f=new me(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return X.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new at((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Ns(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Ns(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,T)=>p.set(_,T)),!(p.size()>=o)););return X.resolve(p)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new v1(n,s));let c=this.Rr.get(n);c===void 0&&(c=Me(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.Vr=new wt(Mt.mr),this.gr=new wt(Mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Mt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new me(new nt([])),s=new Mt(n,e),o=new Mt(n,e+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new me(new nt([])),s=new Mt(n,e),o=new Mt(n,e+1);let c=Me();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Mt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return me.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Mt.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new y1(c,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new Mt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,n){return X.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Dm:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);c.push(p)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new wt(Ce);return n.forEach(o=>{const c=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],p=>{s=s.add(p.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;me.isDocumentKey(c)||(c=c.child(""));const f=new Mt(new me(c),0);let p=new wt(Ce);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Cr)),!0)},f),X.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(n.mutations,o=>{const c=new Mt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Mr.firstAfterOrEqual(s);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.kr=e,this.docs=function(){return new at(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=$i();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$t.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=$i();const f=n.path,p=new me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||MI(xI(T),s)<=0||(o.has(T.key)||hh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new rC(this)}getSize(e){return X.resolve(this.size)}}class rC extends $1{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),X.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.persistence=e,this.Qr=new js(n=>Mm(n),Vm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new zm,this.targetCount=0,this.Kr=Qa.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),X.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.zn(n),X.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),X.waitFor(c).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return X.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),X.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),X.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),X.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return X.resolve(s)}containsKey(e,n){return X.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new oh(0),this.zr=!1,this.zr=!0,this.jr=new tC,this.referenceDelegate=e(this),this.Hr=new sC(this),this.indexManager=new H1,this.remoteDocumentCache=function(o){return new iC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new B1(n),this.Yr=new J1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new nC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const o=new aC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,n){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class aC extends PI{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.ti=new zm,this.ni=null}static ri(e){return new Bm(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),X.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),X.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const o=me.fromPath(s);return this.si(e,o).next(c=>{c||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return X.or([()=>X.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class $c{constructor(e,n){this.persistence=e,this.oi=new js(s=>LI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=X1(this,n)}static ri(e,n){return new $c(e,n)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return X.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?X.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(p=>{p||(s++,c.removeEntry(f,be.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),X.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nc(e.data.value)),n}ar(e,n,s){return X.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Me(),o=Me();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return BS()?8:kI(Zt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.rs(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(e,n,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new oC;return this._s(e,n,f).next(p=>{if(c.result=p,this.Xi)return this.us(e,n,f,p.size)})}).next(()=>c.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Va()<=xe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Va()<=xe.DEBUG&&se("QueryEngine","Query:",Pa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Va()<=xe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):X.resolve())}rs(e,n){if(bv(n))return X.resolve(null);let s=ci(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=rm(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Me(...c);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.cs(n,p);return this.ls(n,_,f,g.readTime)?this.rs(e,rm(n,null,"F")):this.hs(e,_,n,g)}))})))}ss(e,n,s,o){return bv(n)||o.isEqual(be.min())?X.resolve(null):this.ns.getDocuments(e,s).next(c=>{const f=this.cs(n,c);return this.ls(n,f,s,o)?X.resolve(null):(Va()<=xe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(n)),this.hs(e,f,n,OI(o,Nl)).next(p=>p))})}cs(e,n){let s=new wt(MT(e));return n.forEach((o,c)=>{hh(e,c)&&(s=s.add(c))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,n,s){return Va()<=xe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.ns.getDocumentsMatchingQuery(e,n,kr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="LocalStore",uC=3e8;class cC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Ce),this.Is=new js(c=>Mm(c),Vm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function hC(r,e,n,s){return new cC(r,e,n,s)}async function i0(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],p=[];let g=Me();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of c){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:p}))})})}function fC(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,g,_,T){const C=_.batch,k=C.keys();let G=X.resolve();return k.forEach(W=>{G=G.next(()=>T.getEntry(g,W)).next(ee=>{const J=_.docVersions.get(W);Fe(J!==null),ee.version.compareTo(J)<0&&(C.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),T.addEntry(ee)))})}),G.next(()=>p.mutationQueue.removeMutationBatch(g,C))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Me();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function r0(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function dC(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];e.targetChanges.forEach((T,C)=>{const k=o.get(C);if(!k)return;p.push(n.Hr.removeMatchingKeys(c,T.removedDocuments,C).next(()=>n.Hr.addMatchingKeys(c,T.addedDocuments,C)));let G=k.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?G=G.withResumeToken(Ht.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,s)),o=o.insert(C,G),function(ee,J,Ae){return ee.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=uC?!0:Ae.addedDocuments.size+Ae.modifiedDocuments.size+Ae.removedDocuments.size>0}(k,G,T)&&p.push(n.Hr.updateTargetData(c,G))});let g=$i(),_=Me();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),p.push(mC(c,f,e.documentUpdates).next(T=>{g=T.Vs,_=T.fs})),!s.isEqual(be.min())){const T=n.Hr.getLastRemoteSnapshotVersion(c).next(C=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(T)}return X.waitFor(p).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.Ts=o,c))}function mC(r,e,n){let s=Me(),o=Me();return n.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=$i();return n.forEach((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):se(Hm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function pC(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Dm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gC(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(c=>c?(o=c,X.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Dr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function um(r,e,n){const s=Re(r),o=s.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ja(f))throw f;se(Hm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Uv(r,e,n){const s=Re(r);let o=be.min(),c=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,T){const C=Re(g),k=C.Is.get(T);return k!==void 0?X.resolve(C.Ts.get(k)):C.Hr.getTargetData(_,T)}(s,f,ci(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(g=>{c=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?c:Me())).next(p=>(_C(s,i1(e),p),{documents:p,gs:c})))}function _C(r,e,n){let s=r.Es.get(e)||be.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class Lv{constructor(){this.activeTargetIds=u1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yC{constructor(){this.ho=new Lv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="ConnectivityMonitor";class zv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){se(jv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){se(jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function cm(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,c){const f=cm(),p=this.bo(e,n.toUriEncodedString());se(kd,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,c),this.vo(e,p,g,s).then(_=>(se(kd,`Received RPC '${e}' ${f}: `,_),_),_=>{throw Ha(kd,`RPC '${e}' ${f} failed with error: `,_,"url: ",p,"request:",s),_})}Co(e,n,s,o,c,f){return this.So(e,n,s,o,c)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,n){const s=EC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class SC extends TC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const c=cm();return new Promise((f,p)=>{const g=new oT;g.setWithCredentials(!0),g.listenOnce(lT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Cc.NO_ERROR:const T=g.getResponseJson();se(Yt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case Cc.TIMEOUT:se(Yt,`RPC '${e}' ${c} timed out`),p(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const C=g.getStatus();if(se(Yt,`RPC '${e}' ${c} failed with status:`,C,"response text:",g.getResponseText()),C>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k==null?void 0:k.error;if(G&&G.status&&G.message){const W=function(J){const Ae=J.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ae)>=0?Ae:$.UNKNOWN}(G.status);p(new ae(W,G.message))}else p(new ae($.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ae($.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{se(Yt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);se(Yt,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=cm(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=hT(),p=cT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=c.join("");se(Yt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const C=f.createWebChannel(T,g);let k=!1,G=!1;const W=new AC({Fo:J=>{G?se(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(k||(se(Yt,`Opening RPC '${e}' stream ${o} transport.`),C.open(),k=!0),se(Yt,`RPC '${e}' stream ${o} sending:`,J),C.send(J))},Mo:()=>C.close()}),ee=(J,Ae,Se)=>{J.listen(Ae,ce=>{try{Se(ce)}catch(ve){setTimeout(()=>{throw ve},0)}})};return ee(C,_l.EventType.OPEN,()=>{G||(se(Yt,`RPC '${e}' stream ${o} transport opened.`),W.Qo())}),ee(C,_l.EventType.CLOSE,()=>{G||(G=!0,se(Yt,`RPC '${e}' stream ${o} transport closed`),W.Uo())}),ee(C,_l.EventType.ERROR,J=>{G||(G=!0,Ha(Yt,`RPC '${e}' stream ${o} transport errored:`,J),W.Uo(new ae($.UNAVAILABLE,"The operation could not be completed")))}),ee(C,_l.EventType.MESSAGE,J=>{var Ae;if(!G){const Se=J.data[0];Fe(!!Se);const ce=Se,ve=(ce==null?void 0:ce.error)||((Ae=ce[0])===null||Ae===void 0?void 0:Ae.error);if(ve){se(Yt,`RPC '${e}' stream ${o} received error:`,ve);const pe=ve.status;let de=function(w){const D=yt[w];if(D!==void 0)return GT(D)}(pe),x=ve.message;de===void 0&&(de=$.INTERNAL,x="Unknown error status: "+pe+" with message "+ve.message),G=!0,W.Uo(new ae(de,x)),C.close()}else se(Yt,`RPC '${e}' stream ${o} received:`,Se),W.Ko(Se)}}),ee(p,uT.STAT_EVENT,J=>{J.stat===Zd.PROXY?se(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Zd.NOPROXY&&se(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{W.$o()},0),W}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r){return new I1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="PersistentStream";class a0{constructor(e,n,s,o,c,f,p,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new s0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ae($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return se(Bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(se(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bC extends a0{constructor(e,n,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=D1(this.serializer,e),s=function(c){if(!("targetChange"in c))return be.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?fi(f.readTime):be.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(c,f){let p;const g=f.target;if(p=nm(g)?{documents:M1(c,g)}:{query:V1(c,g).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=YT(c,f.resumeToken);const _=sm(c,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(be.min())>0){p.readTime=Xc(c,f.snapshotVersion.toTimestamp());const _=sm(c,f.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const s=k1(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.I_(n)}}class RC extends a0{constructor(e,n,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=x1(e.writeResults,e.commitTime),s=fi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=lm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>O1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{}class IC extends wC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(e,am(n,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae($.UNKNOWN,c.toString())})}Co(e,n,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,am(n,s),o,f,p,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae($.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xi(n),this.N_=!1):se("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class NC{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{Bs(this)&&(se(Ps,"Restarting streams for network reachability change."),await async function(g){const _=Re(g);_.W_.add(4),await Fl(_),_.j_.set("Unknown"),_.W_.delete(4),await gh(_)}(this))})}),this.j_=new CC(s,o)}}async function gh(r){if(Bs(r))for(const e of r.G_)await e(!0)}async function Fl(r){for(const e of r.G_)await e(!1)}function o0(r,e){const n=Re(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Qm(n)?Km(n):eo(n).c_()&&Gm(n,e))}function Fm(r,e){const n=Re(r),s=eo(n);n.K_.delete(e),s.c_()&&l0(n,e),n.K_.size===0&&(s.c_()?s.P_():Bs(n)&&n.j_.set("Unknown"))}function Gm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eo(r).y_(e)}function l0(r,e){r.H_.Ne(e),eo(r).w_(e)}function Km(r){r.H_=new S1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),eo(r).start(),r.j_.B_()}function Qm(r){return Bs(r)&&!eo(r).u_()&&r.K_.size>0}function Bs(r){return Re(r).W_.size===0}function u0(r){r.H_=void 0}async function DC(r){r.j_.set("Online")}async function OC(r){r.K_.forEach((e,n)=>{Gm(r,e)})}async function xC(r,e){u0(r),Qm(r)?(r.j_.q_(e),Km(r)):r.j_.set("Unknown")}async function MC(r,e,n){if(r.j_.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const p of c.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.K_.delete(p),o.H_.removeTarget(p))}(r,e)}catch(s){se(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zc(r,s)}else if(e instanceof xc?r.H_.We(e):e instanceof KT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(be.min()))try{const s=await r0(r.localStore);n.compareTo(s)>=0&&await function(c,f){const p=c.H_.ot(f);return p.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.K_.get(_);T&&c.K_.set(_,T.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,_)=>{const T=c.K_.get(g);if(!T)return;c.K_.set(g,T.withResumeToken(Ht.EMPTY_BYTE_STRING,T.snapshotVersion)),l0(c,g);const C=new Dr(T.target,g,_,T.sequenceNumber);Gm(c,C)}),c.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){se(Ps,"Failed to raise snapshot:",s),await Zc(r,s)}}async function Zc(r,e,n){if(!Ja(e))throw e;r.W_.add(1),await Fl(r),r.j_.set("Offline"),n||(n=()=>r0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{se(Ps,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await gh(r)})}function c0(r,e){return e().catch(n=>Zc(r,n,e))}async function _h(r){const e=Re(r),n=zr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Dm;for(;VC(e);)try{const o=await pC(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,PC(e,o)}catch(o){await Zc(e,o)}h0(e)&&f0(e)}function VC(r){return Bs(r)&&r.U_.length<10}function PC(r,e){r.U_.push(e);const n=zr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function h0(r){return Bs(r)&&!zr(r).u_()&&r.U_.length>0}function f0(r){zr(r).start()}async function kC(r){zr(r).C_()}async function UC(r){const e=zr(r);for(const n of r.U_)e.b_(n.mutations)}async function LC(r,e,n){const s=r.U_.shift(),o=Um.from(s,e,n);await c0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await _h(r)}async function jC(r,e){e&&zr(r).S_&&await async function(s,o){if(function(f){return T1(f)&&f!==$.ABORTED}(o.code)){const c=s.U_.shift();zr(s).h_(),await c0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await _h(s)}}(r,e),h0(r)&&f0(r)}async function qv(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),se(Ps,"RemoteStore received new credentials");const s=Bs(n);n.W_.add(3),await Fl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await gh(n)}async function zC(r,e){const n=Re(r);e?(n.W_.delete(2),await gh(n)):e||(n.W_.add(2),await Fl(n),n.j_.set("Unknown"))}function eo(r){return r.J_||(r.J_=function(n,s,o){const c=Re(n);return c.M_(),new bC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:DC.bind(null,r),No:OC.bind(null,r),Lo:xC.bind(null,r),p_:MC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Qm(r)?Km(r):r.j_.set("Unknown")):(await r.J_.stop(),u0(r))})),r.J_}function zr(r){return r.Y_||(r.Y_=function(n,s,o){const c=Re(n);return c.M_(),new RC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:kC.bind(null,r),Lo:jC.bind(null,r),D_:UC.bind(null,r),v_:LC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await _h(r)):(await r.Y_.stop(),r.U_.length>0&&(se(Ps,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const f=Date.now()+s,p=new Ym(e,n,f,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,e){if(Xi("AsyncQueue",`${e}: ${r}`),Ja(r))return new ae($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=yl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.Z_=new at(me.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ya{constructor(e,n,s,o,c,f,p,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,c){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Ya(e,n,qa.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class qC{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Re(n),c=o.queries;o.queries=Fv(),c.forEach((f,p)=>{for(const g of p.ta)g.onError(s)})})(this,new ae($.ABORTED,"Firestore shutting down"))}}function Fv(){return new js(r=>xT(r),ch)}async function d0(r,e){const n=Re(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new BC,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(o,!0);break;case 1:c.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Xm(f,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&$m(n)}async function m0(r,e){const n=Re(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const f=c.ta.indexOf(e);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function HC(r,e){const n=Re(r);let s=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&$m(n)}function FC(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(n);s.queries.delete(e)}function $m(r){r.ia.forEach(e=>{e.next()})}var hm,Gv;(Gv=hm||(hm={}))._a="default",Gv.Cache="cache";class p0{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ya(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.key=e}}class _0{constructor(e){this.key=e}}class GC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=MT(e),this.wa=new qa(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new Hv,o=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,C)=>{const k=o.get(T),G=hh(this.query,C)?C:null,W=!!k&&this.mutatedKeys.has(k.key),ee=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;k&&G?k.data.isEqual(G.data)?W!==ee&&(s.track({type:3,doc:G}),J=!0):this.va(k,G)||(s.track({type:2,doc:G}),J=!0,(g&&this.ya(G,g)>0||_&&this.ya(G,_)<0)&&(p=!0)):!k&&G?(s.track({type:0,doc:G}),J=!0):k&&!G&&(s.track({type:1,doc:k}),J=!0,(g||_)&&(p=!0)),J&&(G?(f=f.add(G),c=ee?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:p,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,C)=>function(G,W){const ee=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return ee(G)-ee(W)}(T.type,C.type)||this.ya(T.doc,C.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,_=g!==this.ga;return this.ga=g,f.length!==0||_?{snapshot:new Ya(this.query,e.wa,c,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Hv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new _0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new g0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ya.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zm="SyncEngine";class KC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class QC{constructor(e){this.key=e,this.Ba=!1}}class YC{constructor(e,n,s,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new js(p=>xT(p),ch),this.qa=new Map,this.Qa=new Set,this.$a=new at(me.comparator),this.Ua=new Map,this.Ka=new zm,this.Wa={},this.Ga=new Map,this.za=Qa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function XC(r,e,n=!0){const s=S0(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await y0(s,e,n,!0),o}async function $C(r,e){const n=S0(r);await y0(n,e,!0,!1)}async function y0(r,e,n,s){const o=await gC(r.localStore,ci(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await ZC(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&o0(r.remoteStore,o),p}async function ZC(r,e,n,s,o){r.Ha=(C,k,G)=>async function(ee,J,Ae,Se){let ce=J.view.ba(Ae);ce.ls&&(ce=await Uv(ee.localStore,J.query,!1).then(({documents:x})=>J.view.ba(x,ce)));const ve=Se&&Se.targetChanges.get(J.targetId),pe=Se&&Se.targetMismatches.get(J.targetId)!=null,de=J.view.applyChanges(ce,ee.isPrimaryClient,ve,pe);return Qv(ee,J.targetId,de.Ma),de.snapshot}(r,C,k,G);const c=await Uv(r.localStore,e,!0),f=new GC(e,c.gs),p=f.ba(c.documents),g=Hl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(p,r.isPrimaryClient,g);Qv(r,n,_.Ma);const T=new KC(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function WC(r,e,n){const s=Re(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!ch(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await um(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fm(s.remoteStore,o.targetId),fm(s,o.targetId)}).catch(Wa)):(fm(s,o.targetId),await um(s.localStore,o.targetId,!0))}async function JC(r,e){const n=Re(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(n.remoteStore,s.targetId))}async function eN(r,e,n){const s=oN(r);try{const o=await function(f,p){const g=Re(f),_=Rt.now(),T=p.reduce((G,W)=>G.add(W.key),Me());let C,k;return g.persistence.runTransaction("Locally write mutations","readwrite",G=>{let W=$i(),ee=Me();return g.ds.getEntries(G,T).next(J=>{W=J,W.forEach((Ae,Se)=>{Se.isValidDocument()||(ee=ee.add(Ae))})}).next(()=>g.localDocuments.getOverlayedDocuments(G,W)).next(J=>{C=J;const Ae=[];for(const Se of p){const ce=g1(Se,C.get(Se.key).overlayedDocument);ce!=null&&Ae.push(new zs(Se.key,ce,bT(ce.value.mapValue),hi.exists(!0)))}return g.mutationQueue.addMutationBatch(G,_,Ae,p)}).next(J=>{k=J;const Ae=J.applyToLocalDocumentSet(C,ee);return g.documentOverlayCache.saveOverlays(G,J.batchId,Ae)})}).then(()=>({batchId:k.batchId,changes:PT(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let _=f.Wa[f.currentUser.toKey()];_||(_=new at(Ce)),_=_.insert(p,g),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await Gl(s,o.changes),await _h(s.remoteStore)}catch(o){const c=Xm(o,"Failed to persist write");n.reject(c)}}async function v0(r,e){const n=Re(r);try{const s=await dC(n.localStore,e);e.targetChanges.forEach((o,c)=>{const f=n.Ua.get(c);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Fe(f.Ba):o.removedDocuments.size>0&&(Fe(f.Ba),f.Ba=!1))}),await Gl(n,s,e)}catch(s){await Wa(s)}}function Kv(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((c,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=Re(f);g.onlineState=p;let _=!1;g.queries.forEach((T,C)=>{for(const k of C.ta)k.sa(p)&&(_=!0)}),_&&$m(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tN(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),c=o&&o.key;if(c){let f=new at(me.comparator);f=f.insert(c,$t.newNoDocument(c,be.min()));const p=Me().add(c),g=new mh(be.min(),new Map,new at(Ce),f,p);await v0(s,g),s.$a=s.$a.remove(c),s.Ua.delete(e),Wm(s)}else await um(s.localStore,e,!1).then(()=>fm(s,e,n)).catch(Wa)}async function nN(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await fC(n.localStore,e);T0(n,s,null),E0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gl(n,o)}catch(o){await Wa(o)}}async function iN(r,e,n){const s=Re(r);try{const o=await function(f,p){const g=Re(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next(C=>(Fe(C!==null),T=C.keys(),g.mutationQueue.removeMutationBatch(_,C))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>g.localDocuments.getDocuments(_,T))})}(s.localStore,e);T0(s,e,n),E0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Gl(s,o)}catch(o){await Wa(o)}}function E0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function T0(r,e,n){const s=Re(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function fm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||A0(r,s)})}function A0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Fm(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Wm(r))}function Qv(r,e,n){for(const s of n)s instanceof g0?(r.Ka.addReference(s.key,e),rN(r,s)):s instanceof _0?(se(Zm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||A0(r,s.key)):Te()}function rN(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(se(Zm,"New document in limbo: "+n),r.Qa.add(s),Wm(r))}function Wm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new me(nt.fromString(e)),s=r.za.next();r.Ua.set(s,new QC(n)),r.$a=r.$a.insert(n,s),o0(r.remoteStore,new Dr(ci(Pm(n.path)),s,"TargetPurposeLimboResolution",oh.ae))}}async function Gl(r,e,n){const s=Re(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,g)=>{f.push(s.Ha(g,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const C=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(_){o.push(_);const C=qm.Yi(g.targetId,_);c.push(C)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,_){const T=Re(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>X.forEach(_,k=>X.forEach(k.Hi,G=>T.persistence.referenceDelegate.addReference(C,k.targetId,G)).next(()=>X.forEach(k.Ji,G=>T.persistence.referenceDelegate.removeReference(C,k.targetId,G)))))}catch(C){if(!Ja(C))throw C;se(Hm,"Failed to update sequence numbers: "+C)}for(const C of _){const k=C.targetId;if(!C.fromCache){const G=T.Ts.get(k),W=G.snapshotVersion,ee=G.withLastLimboFreeSnapshotVersion(W);T.Ts=T.Ts.insert(k,ee)}}}(s.localStore,c))}async function sN(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){se(Zm,"User change. New user:",e.toKey());const s=await i0(n.localStore,e);n.currentUser=e,function(c,f){c.Ga.forEach(p=>{p.forEach(g=>{g.reject(new ae($.CANCELLED,f))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gl(n,s.Rs)}}function aN(r,e){const n=Re(r),s=n.Ua.get(e);if(s&&s.Ba)return Me().add(s.key);{let o=Me();const c=n.qa.get(e);if(!c)return o;for(const f of c){const p=n.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function S0(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=v0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tN.bind(null,e),e.La.p_=HC.bind(null,e.eventManager),e.La.Ja=FC.bind(null,e.eventManager),e}function oN(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return hC(this.persistence,new lC,e.initialUser,this.serializer)}Xa(e){return new n0(Bm.ri,this.serializer)}Za(e){return new yC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class lN extends Wc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Fe(this.persistence.referenceDelegate instanceof $c);const s=this.persistence.referenceDelegate.garbageCollector;return new Q1(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new n0(s=>$c.ri(s,n),this.serializer)}}class dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Kv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qC}()}createDatastore(e){const n=ph(e.databaseInfo.databaseId),s=function(c){return new SC(c)}(e.databaseInfo);return function(c,f,p,g){return new IC(c,f,p,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,c,f,p){return new NC(s,o,c,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>Kv(this.syncEngine,n,0),function(){return zv.D()?new zv:new vC}())}createSyncEngine(e,n){return function(o,c,f,p,g,_,T){const C=new YC(o,c,f,p,g,_);return T&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const c=Re(o);se(Ps,"RemoteStore shutting down."),c.W_.add(5),await Fl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class uN{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=mT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{se(Br,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(se(Br,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ld(r,e){r.asyncQueue.verifyOperationInProgress(),se(Br,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await i0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Yv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await cN(r);se(Br,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>qv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>qv(e.remoteStore,o)),r._onlineComponents=e}async function cN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(Br,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await Ld(r,new Wc)}}else se(Br,"Using default OfflineComponentProvider"),await Ld(r,new lN(void 0));return r._offlineComponents}async function R0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(Br,"Using user provided OnlineComponentProvider"),await Yv(r,r._uninitializedComponentsProvider._online)):(se(Br,"Using default OnlineComponentProvider"),await Yv(r,new dm))),r._onlineComponents}function hN(r){return R0(r).then(e=>e.syncEngine)}async function w0(r){const e=await R0(r),n=e.eventManager;return n.onListen=XC.bind(null,e.syncEngine),n.onUnlisten=WC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$C.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JC.bind(null,e.syncEngine),n}function fN(r,e,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,p,g,_){const T=new b0({next:k=>{T.su(),f.enqueueAndForget(()=>m0(c,C));const G=k.docs.has(p);!G&&k.fromCache?_.reject(new ae($.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&k.fromCache&&g&&g.source==="server"?_.reject(new ae($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),C=new p0(Pm(p.path),T,{includeMetadataChanges:!0,Ta:!0});return d0(c,C)}(await w0(r),r.asyncQueue,e,n,s)),s.promise}function dN(r,e,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,p,g,_){const T=new b0({next:k=>{T.su(),f.enqueueAndForget(()=>m0(c,C)),k.fromCache&&g.source==="server"?_.reject(new ae($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),C=new p0(p,T,{includeMetadataChanges:!0,Ta:!0});return d0(c,C)}(await w0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r,e,n){if(!n)throw new ae($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mN(r,e,n,s){if(e===!0&&s===!0)throw new ae($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $v(r){if(!me.isDocumentKey(r))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zv(r){if(me.isDocumentKey(r))throw new ae($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function qr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(r);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firestore.googleapis.com",Wv=!0;class Jv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N0,this.ssl=Wv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Wv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G1)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AI;switch(s.type){case"firstParty":return new wI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Xv.get(n);s&&(se("ComponentProvider","Removing Datastore"),Xv.delete(n),s.terminate())}(this),Promise.resolve()}}function pN(r,e,n,s={}){var o;const c=(r=qr(r,vh))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;c.host!==N0&&c.host!==p&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:!1,emulatorOptions:s});if(!Ds(g,f)&&(r._setSettings(g),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Xt.MOCK_USER;else{_=EE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xt(C)}r._authCredentials=new SI(new fT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class on{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Vr extends to{constructor(e,n,s){super(e,n,Pm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new me(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function jd(r,e,...n){if(r=qt(r),C0("collection","path",e),r instanceof vh){const s=nt.fromString(e,...n);return Zv(s),new Vr(r,null,s)}{if(!(r instanceof on||r instanceof Vr))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return Zv(s),new Vr(r.firestore,null,s)}}function mm(r,e,...n){if(r=qt(r),arguments.length===1&&(e=mT.newId()),C0("doc","path",e),r instanceof vh){const s=nt.fromString(e,...n);return $v(s),new on(r,null,new me(s))}{if(!(r instanceof on||r instanceof Vr))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return $v(s),new on(r.firestore,r instanceof Vr?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new s0(this,"async_queue_retry"),this.Su=()=>{const s=Ud();s&&se(eE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ki;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ja(e))throw e;se(eE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw Xi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Ym.createAndSchedule(this,e,n,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Kl extends vh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new tE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function gN(r,e){const n=typeof r=="object"?r:ym(),s=typeof r=="string"?r:Hc,o=ih(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=_E("firestore");c&&pN(o,...c)}return o}function Jm(r){if(r._terminated)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_N(r),r._firestoreClient}function _N(r){var e,n,s;const o=r._freezeSettings(),c=function(p,g,_,T){return new BI(p,g,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,I0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new uN(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(Ht.fromBase64String(e))}catch(n){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xa(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^__.*__$/;class vN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ql(e,this.data,n,this.fieldTransforms)}}function O0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class ip{constructor(e,n,s,o,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Jc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(O0(this.Lu)&&yN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class EN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ph(e)}ju(e,n,s,o=!1){return new ip({Lu:e,methodName:n,zu:s,path:Bt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rp(r){const e=r._freezeSettings(),n=ph(r._databaseId);return new EN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function x0(r,e,n,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,e,n,o);P0("Data must be an object, but it was:",f,s);const p=M0(s,f);let g,_;if(c.merge)g=new zn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const C of c.mergeFields){const k=AN(e,C,n);if(!f.contains(k))throw new ae($.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);bN(T,k)||T.push(k)}g=new zn(T),_=f.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,_=f.fieldTransforms;return new vN(new On(p),g,_)}function TN(r,e,n,s=!1){return sp(n,r.ju(s?4:3,e))}function sp(r,e){if(V0(r=qt(r)))return P0("Unsupported field value:",e,r),M0(r,e);if(r instanceof D0)return function(s,o){if(!O0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const p of s){let g=sp(p,o.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return c1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Rt.fromDate(s);return{timestampValue:Xc(o.serializer,c)}}if(s instanceof Rt){const c=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,c)}}if(s instanceof tp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xa)return{bytesValue:YT(o.serializer,s._byteString)};if(s instanceof on){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof np)return function(f,p){return{mapValue:{fields:{[AT]:{stringValue:ST},[Fc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw p.Wu("VectorValues must only contain numeric values.");return km(p.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${yh(s)}`)}(r,e)}function M0(r,e){const n={};return gT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(r,(s,o)=>{const c=sp(o,e.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function V0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof tp||r instanceof Xa||r instanceof on||r instanceof D0||r instanceof np)}function P0(r,e,n){if(!V0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=yh(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function AN(r,e,n){if((e=qt(e))instanceof ep)return e._internalPath;if(typeof e=="string")return k0(r,e);throw Jc("Field path arguments must be of type string or ",r,!1,void 0,n)}const SN=new RegExp("[~\\*/\\[\\]]");function k0(r,e,n){if(e.search(SN)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ep(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jc(r,e,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ae($.INVALID_ARGUMENT,p+r+g)}function bN(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ap("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RN extends U0{data(){return super.data()}}function ap(r,e){return typeof e=="string"?k0(r,e):e instanceof ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class op{}class IN extends op{}function nE(r,e,...n){let s=[];e instanceof op&&s.push(e),s=s.concat(n),function(c){const f=c.filter(g=>g instanceof lp).length,p=c.filter(g=>g instanceof Eh).length;if(f>1||f>0&&p>0)throw new ae($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Eh extends IN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Eh(e,n,s)}_apply(e){const n=this._parse(e);return L0(e._query,n),new to(e.firestore,e.converter,im(e._query,n))}_parse(e){const n=rp(e.firestore);return function(c,f,p,g,_,T,C){let k;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ae($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){sE(C,T);const W=[];for(const ee of C)W.push(rE(g,c,ee));k={arrayValue:{values:W}}}else k=rE(g,c,C)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||sE(C,T),k=TN(p,f,C,T==="in"||T==="not-in");return vt.create(_,T,k)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function iE(r,e,n){const s=e,o=ap("where",r);return Eh._create(o,s,n)}class lp extends op{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)L0(f,g),f=im(f,g)}(e._query,n),new to(e.firestore,e.converter,im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rE(r,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new ae($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(e)&&n.indexOf("/")!==-1)throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!me.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yv(r,new me(s))}if(n instanceof on)return yv(r,n._key);throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function sE(r,e){if(!Array.isArray(r)||r.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L0(r,e){const n=function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CN{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ls(e,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,o;const c=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Fc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new np(c)}convertGeoPoint(e){return new tp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Fe(e0(s));const o=new Ol(s.get(1),s.get(3)),c=new me(s.popFirst(5));return o.isEqual(n)||Xi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class z0 extends U0{constructor(e,n,s,o,c,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ap("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mc extends z0{data(e={}){return super.data(e)}}class NN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Mc(this._firestore,this._userDataWriter,s.key,s,new El(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new Mc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new El(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new Mc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new El(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:DN(p.type),doc:g,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(r){r=qr(r,on);const e=qr(r.firestore,Kl);return fN(Jm(e),r._key).then(n=>VN(e,r,n))}class B0 extends CN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function aE(r){r=qr(r,to);const e=qr(r.firestore,Kl),n=Jm(e),s=new B0(e);return wN(r._query),dN(n,r._query).then(o=>new NN(e,s,r,o))}function xN(r,e,n){r=qr(r,on);const s=qr(r.firestore,Kl),o=j0(r.converter,e);return q0(s,[x0(rp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,hi.none())])}function MN(r,e){const n=qr(r.firestore,Kl),s=mm(r),o=j0(r.converter,e);return q0(n,[x0(rp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,hi.exists(!1))]).then(()=>s)}function q0(r,e){return function(s,o){const c=new Ki;return s.asyncQueue.enqueueAndForget(async()=>eN(await hN(s),o,c)),c.promise}(Jm(r),e)}function VN(r,e,n){const s=n.docs.get(e._key),o=new B0(r);return new z0(r,o,e._key,s,new El(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Za=o})(ks),Os(new Pr("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new Kl(new bI(s.getProvider("auth-internal")),new II(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(_.options.projectId,T)}(f,o),f);return c=Object.assign({useFetchStreams:n},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),oi(av,ov,e),oi(av,ov,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="firebasestorage.googleapis.com",PN="storageBucket",kN=2*60*1e3,UN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends pi{constructor(e,n,s=0){super(zd(e),`Firebase Storage: ${n} (${zd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mi||(mi={}));function zd(r){return"storage/"+r}function LN(){const r="An unknown error occurred, please check the error payload for server response.";return new gi(mi.UNKNOWN,r)}function jN(){return new gi(mi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zN(){return new gi(mi.CANCELED,"User canceled the upload/download.")}function BN(r){return new gi(mi.INVALID_URL,"Invalid URL '"+r+"'.")}function qN(r){return new gi(mi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function oE(r){return new gi(mi.INVALID_ARGUMENT,r)}function F0(){return new gi(mi.APP_DELETED,"The Firebase app was deleted.")}function HN(r){return new gi(mi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(s.path==="")return s;throw qN(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ve){ve.path.charAt(ve.path.length-1)==="/"&&(ve.path_=ve.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function _(ve){ve.path_=decodeURIComponent(ve.path)}const T="v[A-Za-z0-9_]+",C=n.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",G=new RegExp(`^https?://${C}/${T}/b/${o}/o${k}`,"i"),W={bucket:1,path:3},ee=n===H0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,J="([^?#]*)",Ae=new RegExp(`^https?://${ee}/${o}/${J}`,"i"),ce=[{regex:p,indices:g,postModify:c},{regex:G,indices:W,postModify:_},{regex:Ae,indices:{bucket:1,path:2},postModify:_}];for(let ve=0;ve<ce.length;ve++){const pe=ce[ve],de=pe.regex.exec(e);if(de){const x=de[pe.indices.bucket];let b=de[pe.indices.path];b||(b=""),s=new Bn(x,b),pe.postModify(s);break}}if(s==null)throw BN(e);return s}}class FN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(r,e,n){let s=1,o=null,c=null,f=!1,p=0;function g(){return p===2}let _=!1;function T(...J){_||(_=!0,e.apply(null,J))}function C(J){o=setTimeout(()=>{o=null,r(G,g())},J)}function k(){c&&clearTimeout(c)}function G(J,...Ae){if(_){k();return}if(J){k(),T.call(null,J,...Ae);return}if(g()||f){k(),T.call(null,J,...Ae);return}s<64&&(s*=2);let ce;p===1?(p=2,ce=0):ce=(s+Math.random())*1e3,C(ce)}let W=!1;function ee(J){W||(W=!0,k(),!_&&(o!==null?(J||(p=2),clearTimeout(o),C(0)):J||(p=1)))}return C(0),c=setTimeout(()=>{f=!0,ee(!0)},n),ee}function KN(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(r){return r!==void 0}function lE(r,e,n,s){if(s<e)throw oE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw oE(`Invalid value for '${r}'. Expected ${n} or less.`)}function YN(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var eh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(eh||(eh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,s,o,c,f,p,g,_,T,C,k=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=T,this.connectionFactory_=C,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,W)=>{this.resolve_=G,this.reject_=W,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Sc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const g=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,_)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===eh.NO_ERROR,g=c.getStatus();if(!p||XN(g,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===eh.ABORT;s(!1,new Sc(!1,null,T));return}const _=this.successCodes_.indexOf(g)!==-1;s(!0,new Sc(_,c))})},n=(s,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());QN(g)?c(g):c()}catch(g){f(g)}else if(p!==null){const g=LN();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?F0():zN();f(g)}else{const g=jN();f(g)}};this.canceled_?n(!1,new Sc(!1,null,!0)):this.backoffId_=GN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ZN(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function WN(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JN(r,e){e&&(r["X-Firebase-GMPID"]=e)}function eD(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function tD(r,e,n,s,o,c,f=!0){const p=YN(r.urlParams),g=r.url+p,_=Object.assign({},r.headers);return JN(_,e),ZN(_,n),WN(_,c),eD(_,s),new $N(g,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function iD(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new th(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iD(this._location.path)}get storage(){return this._service}get parent(){const e=nD(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new th(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HN(e)}}function uE(r,e){const n=e==null?void 0:e[PN];return n==null?null:Bn.makeFromBucketSpec(n,r)}function rD(r,e,n,s={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:EE(o,r.app.options.projectId))}class sD{constructor(e,n,s,o,c){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=H0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kN,this._maxUploadRetryTime=UN,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=uE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=uE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new th(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new FN(F0());{const f=tD(e,this._appId,s,o,n,this._firebaseVersion,c);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const cE="@firebase/storage",hE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="storage";function aD(r=ym(),e){r=qt(r);const s=ih(r,G0).getImmediate({identifier:e}),o=_E("storage");return o&&oD(s,...o),s}function oD(r,e,n,s={}){rD(r,e,n,s)}function lD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new sD(n,s,o,e,ks)}function uD(){Os(new Pr(G0,lD,"PUBLIC").setMultipleInstances(!0)),oi(cE,hE,""),oi(cE,hE,"esm2017")}uD();const cD={apiKey:"AIzaSyALi3aD4f5MLqlRbL-sk2s2ReSgoxc6sW8",authDomain:"projeto-pet-746d8.firebaseapp.com",projectId:"projeto-pet-746d8",storageBucket:"projeto-pet-746d8.firebasestorage.app",messagingSenderId:"618638980041",appId:"1:618638980041:web:1b6c597b9c6e49bd156e18",measurementId:"G-4QVDJS3EVX"},up=SE(cD),dl=EI(up),ml=gN(up);aD(up);const jt=[];for(let r=0;r<256;++r)jt.push((r+256).toString(16).slice(1));function hD(r,e=0){return(jt[r[e+0]]+jt[r[e+1]]+jt[r[e+2]]+jt[r[e+3]]+"-"+jt[r[e+4]]+jt[r[e+5]]+"-"+jt[r[e+6]]+jt[r[e+7]]+"-"+jt[r[e+8]]+jt[r[e+9]]+"-"+jt[r[e+10]]+jt[r[e+11]]+jt[r[e+12]]+jt[r[e+13]]+jt[r[e+14]]+jt[r[e+15]]).toLowerCase()}let Bd;const fD=new Uint8Array(16);function dD(){if(!Bd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bd=crypto.getRandomValues.bind(crypto)}return Bd(fD)}const mD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fE={randomUUID:mD};function pD(r,e,n){var o;if(fE.randomUUID&&!r)return fE.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??dD();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,hD(s)}const gD="/assets/adoption-pets-BN1g8zAC.png",_D="f54f446538856c6595086ab3bf8aa9dc",yD=()=>{const[r,e]=xt.useState(""),[n,s]=xt.useState(""),[o,c]=xt.useState(""),[f,p]=xt.useState(""),[g,_]=xt.useState(""),[T,C]=xt.useState(null),[k,G]=xt.useState(!1),[W,ee]=xt.useState({mostrarLogin:!1,mostrarCadastro:!1,mostrarCadastroPet:!1,painelAdmin:!1,exibirModal:!1}),[J,Ae]=xt.useState(!1),[Se,ce]=xt.useState(""),[ve,pe]=xt.useState(null),[de,x]=xt.useState({nomePet:"",tipo:"",raca:"",cor:"",dataNascimento:"",sexo:"",descricao:""}),[b,w]=xt.useState(!1),[D,M]=xt.useState(null),[P,I]=xt.useState(""),[Je,tt]=xt.useState(null),F=q=>{const{name:le,value:ue}=q.target;x(Be=>({...Be,[le]:ue}))},ie=async()=>{let q,le=!0;for(;le;){q=pD();const ue=nE(jd(ml,"pets"),iE("id","==",q));le=!(await aE(ue)).empty}return q},he=async q=>{if(q.preventDefault(),!ve){alert("Escolha uma imagem primeiro");return}Ae(!0);const le=new FormData;le.append("image",ve);try{const Be=await(await fetch(`https://api.imgbb.com/1/upload?key=${_D}`,{method:"POST",body:le})).json();console.log("Resposta da API ImgBB:",Be);const je=await ie();if(Be.success===!0||Be.success==="true"){const Ft=Be.data.url;ce(Ft),await MN(jd(ml,"pets"),{id:je,tipo:de.tipo,sexo:de.sexo,descricao:de.descricao,nomePet:de.nomePet,imagem:Ft,raca:de.raca,cor:de.cor,dataNascimento:de.dataNascimento}),alert("Cadastro efetuado com sucesso!")}else alert("Erro ao enviar imagem")}catch(ue){console.error("Erro no upload:",ue),alert("Erro ao enviar imagem")}finally{Ae(!1)}};xt.useEffect(()=>{uw(dl,le=>{tt(le||null)});function q(){window.innerWidth<=768?C(768):C(null)}return q(),window.addEventListener("resize",q),()=>{window.removeEventListener("resize",q)}},[]);const Le=()=>{cw(dl).then(()=>{console.log("Deslogado"),alert("Deslogado com sucesso! ")}).catch(q=>{console.error("Erro ao deslogar",q)})},N=async q=>{if(q.preventDefault(),n!==o){alert("As senhas não conferem!");return}try{const ue=(await rw(dl,r,n)).user;await xN(mm(ml,"usuarios",ue.uid),{nome:g,email:r,telefone:f,tipo:"comum",dataCriacao:new Date}),alert("Cadastro realizado com sucesso! ")}catch(le){console.error("Erro ao se cadastrar",le),alert("Erro ao se cadastrar por favor tente novamente")}},Z=async q=>{if(q.preventDefault(),!r||!n){alert("Por favor preencha todos os campos");return}try{await aw(dl,b?WE:wm);const Be=(await sw(dl,r,n)).user,je=mm(ml,"usuarios",Be.uid),Ft=await ON(je);Ft.exists()&&(Ft.data().tipo==="admin"?(G(!0),console.log("Usuário é admin")):(console.log("Usuário comum"),G(!1))),ee(xn=>({...xn,mostrarLogin:!1})),alert("Login realizado com sucesso! "+Be.displayName)}catch(le){console.error("Erro ao fazer login",le),alert("Erro ao fazer login por favor tenten novamente")}},re=q=>{q.preventDefault(),te(P)},te=async q=>{try{const le=nE(jd(ml,"pets"),iE("id","==",q)),ue=await aE(le);if(ue.empty)alert("Pet não encontrado!");else{const Be=ue.docs[0].data();M(Be),ee(je=>({...je,exibirModal:!0}))}}catch(le){console.error("Erro na consulta do pet:",le),alert("Não foi possível buscar o pet, tente novamente.")}};return S.jsxs(S.Fragment,{children:[S.jsxs("nav",{className:"navbar",children:[S.jsxs("div",{className:"navbar-container",children:[S.jsxs("div",{className:"navbar-logo",children:[S.jsx("i",{className:"fas fa-paw"}),S.jsx("a",{href:"#",className:"logo-text",children:"PetFinder"})]}),!T&&S.jsxs("div",{className:"navbar-links",children:[S.jsx("a",{href:"#inicio",children:"Início"}),S.jsx("a",{href:"#encontrar-pet",children:"Encontrar Pet"}),S.jsx("a",{href:"#meus-pets",children:"Meus Pets"}),S.jsx("a",{href:"#campanhas",children:"Campanhas"}),S.jsx("a",{href:"#sobre",children:"Sobre"})]}),S.jsxs("div",{className:"navbar-buttons",children:[!Je&&!T&&S.jsx("button",{className:"btn login-btn",onClick:q=>ee({...q,mostrarLogin:!0}),children:"Entrar"}),!Je&&!T&&S.jsx("button",{className:"btn register-btn",onClick:q=>ee({...q,mostrarCadastro:!0}),children:"Cadastrar"}),Je&&k&&S.jsx("button",{className:"btn admin-btn",onClick:()=>ee(q=>({...q,painelAdmin:!0})),children:"Área Admin"}),Je&&S.jsx("button",{className:"btn logout-btn",onClick:()=>Le(),children:"Sair"})]}),T&&S.jsx("button",{className:"mobile-menu-button",children:S.jsx("i",{className:"fas fa-bars"})})]}),T&&S.jsxs("div",{className:"mobile-menu",children:[S.jsx("a",{href:"#inicio",children:"Início"}),S.jsx("a",{href:"#encontrar-pet",children:"Encontrar Pet"}),S.jsx("a",{href:"#meus-pets",children:"Meus Pets"}),S.jsx("a",{href:"#campanhas",children:"Campanhas"}),S.jsx("a",{href:"#sobre",children:"Sobre"})]})]}),W.mostrarLogin&&S.jsx("div",{className:`modal login-modal  ${W.mostrarLogin?"":"hidden"} `,onClick:()=>ee(q=>({...q,mostrarLogin:!1})),children:S.jsxs("div",{className:"modal-content small",onClick:q=>q.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{children:"Entrar na Conta"}),S.jsx("button",{className:"modal-close",onClick:()=>ee(q=>({...q,mostrarLogin:!1})),children:S.jsx("i",{className:"fas fa-times"})})]}),S.jsxs("form",{className:"modal-form",onSubmit:Z,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"login-email",children:"E-mail"}),S.jsx("input",{type:"email",id:"login-email",name:"login-email",value:r,onChange:q=>e(q.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"login-senha",children:"Senha"}),S.jsx("input",{type:"password",id:"login-senha",name:"login-senha",value:n,onChange:q=>s(q.target.value)})]}),S.jsx("div",{className:"form-group form-inline",children:S.jsxs("div",{className:"lembrar",children:[S.jsx("div",{children:S.jsxs("label",{htmlFor:"lembrar-me",className:"checkbox-labe",children:[" ",S.jsx("span",{children:"Lembrar de mim"})," ",S.jsx("input",{id:"lembrar-me",type:"checkbox",checked:b,onChange:q=>w(q.target.checked)})]})}),S.jsx("div",{children:S.jsx("a",{href:"#",children:"Esqueceu a senha?"})})]})}),S.jsx("button",{type:"submit",className:"btn submit-btn",children:"Entrar"}),S.jsxs("p",{className:"form-footer",children:["Não tem uma conta? ",S.jsx("a",{href:"#",className:"switch-link",onClick:()=>ee(q=>({...q,mostrarCadastro:!0,mostrarLogin:!1})),children:"Cadastre-se"})]})]})]})}),W.mostrarCadastro&&S.jsx("div",{className:`modal register-modal ${W.mostrarCadastro?"":"hidden"}`,onClick:()=>ee(q=>({...q,mostrarCadastro:!1})),children:S.jsxs("div",{className:"modal-content small",onClick:q=>q.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{children:"Criar Conta"}),S.jsx("button",{className:"modal-close",onClick:()=>ee(q=>({...q,mostrarCadastro:!1})),children:S.jsx("i",{className:"fas fa-times"})})]}),S.jsxs("form",{className:"modal-form",onSubmit:N,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"register-nome",children:"Nome Completo"}),S.jsx("input",{type:"text",id:"register-nome",name:"register-nome",value:g,onChange:q=>_(q.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"register-email",children:"E-mail"}),S.jsx("input",{type:"email",id:"register-email",name:"register-email",value:r,onChange:q=>e(q.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"register-telefone",children:"Telefone"}),S.jsx("input",{type:"tel",id:"register-telefone",name:"register-telefone",value:f,onChange:q=>p(q.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"register-senha",children:"Senha"}),S.jsx("input",{type:"password",id:"register-senha",name:"register-senha",value:n,onChange:q=>s(q.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"register-confirmar-senha",children:"Confirmar Senha"}),S.jsx("input",{type:"password",id:"register-confirmar-senha",name:"register-confirmar-senha",value:o,onChange:q=>c(q.target.value)})]}),S.jsx("button",{type:"submit",className:"btn submit-btn teste",children:"Cadastrar"}),S.jsxs("p",{className:"form-footer",children:["Já tem uma conta? ",S.jsx("a",{href:"#",className:"switch-link",onClick:()=>ee(q=>({...q,mostrarLogin:!0,mostrarCadastro:!1})),children:"Entrar"})]})]})]})}),Je&&k&&S.jsx("div",{className:`modal admin-modal  ${W.painelAdmin?"":"hidden"} `,onClick:()=>ee(q=>({...q,painelAdmin:!1})),children:S.jsxs("div",{className:"modal-content large ",onClick:q=>q.stopPropagation(),children:[S.jsxs("div",{className:"modal-header ",children:[S.jsx("h3",{children:"Área Administrativa"}),S.jsx("button",{className:"modal-close",onClick:()=>ee(q=>({...q,painelAdmin:!1})),children:S.jsx("i",{className:"fas fa-times"})})]}),S.jsxs("div",{className:"modal-section",children:[S.jsx("h4",{children:"Gerenciar Campanhas de Vacinação"}),S.jsxs("form",{className:"grid-form admin-form",children:[S.jsxs("div",{className:"form-group vertical-group ",children:[S.jsx("label",{htmlFor:"campanha-titulo",children:"Título"}),S.jsx("input",{type:"text",id:"campanha-titulo"})]}),S.jsxs("div",{className:"form-group vertical-group",children:[S.jsx("label",{htmlFor:"campanha-data",children:"Data"}),S.jsx("input",{type:"date",id:"campanha-data"})]}),S.jsxs("div",{className:"form-group vertical-group",children:[S.jsx("label",{htmlFor:"campanha-local",children:"Local"}),S.jsx("input",{type:"text",id:"campanha-local"})]}),S.jsxs("div",{className:"form-group form-textarea vertical-group",children:[S.jsx("label",{htmlFor:"campanha-descricao",children:"Descrição"}),S.jsx("textarea",{id:"campanha-descricao",rows:"2",placeholder:"descreva algo aqui"})]}),S.jsx("div",{className:"form-group vertical-group",children:S.jsx("button",{type:"submit",className:"btn submit-btn",children:"Adicionar Campanha"})})]}),S.jsx("div",{className:"list-section"})]})]})}),Je&&W.mostrarCadastroPet&&S.jsx("div",{className:`modal add-pet-modal ${W.mostrarCadastroPet?"":"hidden"}`,onClick:()=>ee(q=>({...q,mostrarCadastroPet:!1})),children:S.jsxs("div",{className:"modal-content small",onClick:q=>q.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{children:"Adicionar Novo Pet"}),S.jsx("button",{className:"modal-close",onClick:()=>ee(q=>({...q,mostrarCadastroPet:!1})),children:S.jsx("i",{className:"fas fa-times"})})]}),Je&&W.mostrarCadastroPet&&S.jsxs("form",{className:"modal-form",onSubmit:he,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"pet-nome",children:"Nome do Pet"}),S.jsx("input",{type:"text",id:"pet-nome",name:"nomePet",value:de.nomePet,onChange:F})]}),S.jsxs("div",{className:"grid-form-2",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"pet-tipo",children:"Tipo"}),S.jsxs("select",{id:"pet-tipo",name:"tipo",value:de.tipo,onChange:F,children:[S.jsx("option",{value:"",children:"-Selecionar-"}),S.jsx("option",{value:"cachorro",children:"Cachorro"}),S.jsx("option",{value:"gato",children:"Gato"}),S.jsx("option",{value:"outro",children:"Outro"})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"pet-raca",children:"Raça"}),S.jsx("input",{type:"text",id:"pet-raca",name:"raca",value:de.raca,onChange:F})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"pet-cor",children:"Cor Principal"}),S.jsx("input",{type:"text",id:"pet-cor",name:"cor",value:de.cor,onChange:F})]}),S.jsxs("div",{className:"grid-form-2",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"pet-nascimento",children:"Data de Nascimento"}),S.jsx("input",{type:"date",id:"pet-nascimento",name:"dataNascimento",value:de.dataNascimento,onChange:F})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"pet-sexo",children:"Sexo"}),S.jsxs("select",{id:"pet-sexo",name:"sexo",value:de.sexo,onChange:F,children:[S.jsx("option",{value:"",children:"-Selecionar-"}),S.jsx("option",{value:"macho",children:"Macho"}),S.jsx("option",{value:"femea",children:"Fêmea"})]})]})]}),S.jsxs("div",{className:"form-group form-textarea",children:[S.jsx("label",{htmlFor:"pet-descricao",children:"Descrição/Detalhes"}),S.jsx("textarea",{id:"pet-descricao",rows:"3",name:"descricao",value:de.descricao,onChange:F,maxLength:150})]}),S.jsxs("div",{className:"form-group file-upload",children:[S.jsx("label",{children:"Foto do Pet"}),S.jsxs("div",{className:"file-upload-area",children:[S.jsx("label",{htmlFor:"pet-foto",className:"file-label",children:"Enviar uma foto"}),S.jsx("input",{type:"file",id:"pet-foto",className:"file-input",accept:"image/*",onChange:q=>pe(q.target.files[0])}),S.jsx("p",{children:"ou arraste e solte"}),S.jsx("p",{className:"file-hint",children:"PNG, JPG, GIF até 10MB"})]})]}),S.jsx("button",{type:"submit",className:"btn submit-btn",children:"Cadastrar Pet"})]})]})}),W.exibirModal&&D&&S.jsx("div",{className:`modal view-pet-modal ${W.exibirModal?"":"hidden"}`,onClick:()=>ee(q=>({...q,exibirModal:!1})),children:S.jsxs("div",{className:"modal-content  modal-pet",onClick:q=>q.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{id:"view-pet-nome",children:D.nomePet}),S.jsx("button",{className:"modal-close",onClick:()=>ee(q=>({...q,exibirModal:!1})),children:S.jsx("i",{className:"fas fa-times"})})]}),S.jsxs("div",{className:"view-pet-body",children:[S.jsx("div",{className:"view-pet-image",children:S.jsx("img",{id:"view-pet-imagem",src:D.imagem,alt:"Foto do Pet"})}),S.jsx("div",{id:"qr-code-container"})]}),S.jsxs("div",{className:"view-pet-info grid-2",children:[S.jsxs("div",{children:[S.jsx("p",{className:"info-label",children:"Tipo"}),S.jsx("p",{id:"view-pet-tipo",className:"info-text",children:D.tipo})]}),S.jsxs("div",{children:[S.jsx("p",{className:"info-label",children:"Raça"}),S.jsx("p",{id:"view-pet-raca",className:"info-text",children:D.raca})]}),S.jsxs("div",{children:[S.jsx("p",{className:"info-label",children:"Cor"}),S.jsx("p",{id:"view-pet-cor",className:"info-text",children:D.cor})]}),S.jsxs("div",{children:[S.jsx("p",{className:"info-label",children:"Sexo"}),S.jsx("p",{id:"view-pet-sexo",className:"info-text",children:D.sexo})]}),S.jsxs("div",{children:[S.jsx("p",{className:"info-label",children:"Nascimento"}),S.jsx("p",{id:"view-pet-nascimento",className:"info-text",children:D.dataNascimento})]})]}),S.jsxs("div",{className:"view-pet-descricao",children:[S.jsx("p",{children:"Descrição"}),S.jsx("p",{id:"view-pet-descricao",children:D.descricao})]})]})}),S.jsx("div",{className:"modal find-pet-modal hidden",children:S.jsxs("div",{className:"modal-content small",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{children:"Encontrei um Pet"}),S.jsx("button",{className:"modal-close",children:S.jsx("i",{className:"fas fa-times"})})]}),S.jsxs("form",{className:"modal-form",onSubmit:re,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"pet-codigo",children:"Código do Pet"}),S.jsx("input",{type:"text",id:"pet-codigo",placeholder:"Digite o código da coleira",value:P,onChange:q=>I(q.target.value)})]}),S.jsx("button",{type:"submit",className:"btn submit-btn",children:"Buscar Tutor"})]}),S.jsxs("div",{id:"tutor-info",className:"tutor-info hidden",children:[S.jsx("h4",{children:"Informações do Tutor"}),S.jsxs("div",{className:"grid-2 tutor-details",children:[S.jsxs("div",{children:[S.jsx("p",{className:"info-label",children:"Nome"}),S.jsx("p",{id:"tutor-nome",className:"info-text"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"info-label",children:"Telefone"}),S.jsx("p",{id:"tutor-telefone",className:"info-text"})]})]}),S.jsxs("a",{id:"btn-contatar-tutor",href:"#",className:"btn contact-btn",children:[S.jsx("i",{className:"fab fa-whatsapp"}),S.jsx("span",{children:"Contatar via WhatsApp"})]})]})]})}),S.jsxs("main",{className:"main-content",children:[S.jsx("section",{id:"inicio",className:"hero-section",children:S.jsxs("div",{className:"hero-grid",children:[S.jsxs("div",{className:"hero-text",children:[S.jsxs("h1",{children:["Proteja seu Pet com a ",S.jsx("span",{className:"highlight",children:"PetFinder"})]}),S.jsx("p",{children:"Cadastre seu pet, gere um código exclusivo com QR Code para a coleira. Caso ele se perca, quem o encontrar poderá acessar seus dados de contato facilmente."})]}),S.jsx("div",{className:"hero-image",children:S.jsx("img",{src:gD,alt:"Cachorro e gato felizes"})})]})}),S.jsxs("section",{id:"encontrar-pet",className:"find-pet-section",children:[S.jsxs("div",{className:"section-header center",children:[S.jsx("h2",{children:"Encontrou um Pet Perdido?"}),S.jsx("p",{children:"Digite o código da coleira abaixo para encontrar o tutor do pet e ajudá-lo a voltar para casa."})]}),S.jsx("div",{className:"find-pet-form-container",children:S.jsxs("form",{className:"find-pet-form",onSubmit:re,children:[S.jsx("input",{type:"text",placeholder:"Digite o código do pet",value:P,onChange:q=>I(q.target.value)}),S.jsx("button",{type:"submit",className:"btn submit-btn",children:"Buscar"})]})})]}),Je&&S.jsxs("section",{id:"meus-pets",className:"pets-section",children:[S.jsxs("div",{className:"section-header between",children:[S.jsx("h2",{children:"Meus Pets"}),S.jsxs("button",{className:"btn add-pet-btn",onClick:()=>ee(q=>({...q,mostrarCadastroPet:!0})),children:[S.jsx("i",{className:"fas fa-plus"}),S.jsx("span",{children:"Adicionar Pet"})]})]}),S.jsx("div",{className:"pets-list",children:S.jsx("div",{className:"no-pets",children:S.jsx("p",{children:"Você ainda não cadastrou nenhum pet."})})})]}),S.jsxs("section",{id:"campanhas",className:"campaigns-section",children:[S.jsxs("div",{className:"section-header center",children:[S.jsx("h2",{children:"Campanhas de Vacinação"}),S.jsx("p",{children:"Confira as campanhas de vacinação que estão acontecendo na sua cidade."})]}),S.jsxs("div",{className:"campaigns-list",children:[S.jsxs("div",{className:"campaign-card",children:[S.jsx("h3",{children:"Campanha Antirrábica"}),S.jsxs("p",{className:"campaign-date",children:[S.jsx("i",{className:"fas fa-calendar-day"}),"15/10/2023"]}),S.jsxs("p",{className:"campaign-location",children:[S.jsx("i",{className:"fas fa-map-marker-alt"}),"Praça Central"]}),S.jsx("p",{className:"campaign-description",children:"Vacinação gratuita para cães e gatos a partir de 3 meses de idade."})]}),S.jsxs("div",{className:"campaign-card",children:[S.jsx("h3",{children:"Multivacinação Animal"}),S.jsxs("p",{className:"campaign-date",children:[S.jsx("i",{className:"fas fa-calendar-day"}),"22/10/2023"]}),S.jsxs("p",{className:"campaign-location",children:[S.jsx("i",{className:"fas fa-map-marker-alt"}),"Parque Municipal"]}),S.jsx("p",{className:"campaign-description",children:"Diversas vacinas disponíveis para proteger seu pet contra várias doenças."})]}),S.jsxs("div",{className:"campaign-card",children:[S.jsx("h3",{children:"Dia do Pet Saudável"}),S.jsxs("p",{className:"campaign-date",children:[S.jsx("i",{className:"fas fa-calendar-day"}),"05/11/2023"]}),S.jsxs("p",{className:"campaign-location",children:[S.jsx("i",{className:"fas fa-map-marker-alt"}),"Centro de Zoonoses"]}),S.jsx("p",{className:"campaign-description",children:"Além de vacinas, teremos serviços de microchipagem e orientações veterinárias."})]})]})]}),S.jsx("section",{id:"sobre",className:"about-section",children:S.jsxs("div",{className:"about-container",children:[S.jsx("h2",{children:"Sobre o PetFinder"}),S.jsxs("div",{className:"about-grid",children:[S.jsxs("div",{className:"about-item",children:[S.jsx("h3",{children:"Como Funciona?"}),S.jsx("p",{children:"O PetFinder é uma plataforma que ajuda tutores de pets a protegerem seus animais de estimação. Ao cadastrar seu pet, você recebe um código único e um QR Code que pode ser colocado na coleira do animal."}),S.jsx("p",{children:"Se seu pet se perder, quem encontrá-lo pode digitar o código ou escanear o QR Code em nosso site para acessar suas informações de contato e ajudá-lo a voltar para casa."})]}),S.jsxs("div",{className:"about-item",children:[S.jsx("h3",{children:"Por que usar?"}),S.jsxs("ul",{className:"about-list",children:[S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-check-circle"})," Maior chance de recuperar seu pet caso ele se perca"]}),S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-check-circle"})," Fácil acesso aos seus dados de contato por quem encontrar o animal"]}),S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-check-circle"})," Contato direto via WhatsApp com quem encontrou seu pet"]}),S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-check-circle"})," Acesso às campanhas de vacinação da sua cidade"]})]})]})]})]})})]}),S.jsxs("footer",{className:"footer",children:[S.jsxs("div",{className:"footer-container",children:[S.jsxs("div",{className:"footer-item",children:[S.jsxs("h3",{className:"footer-logo",children:[S.jsx("i",{className:"fas fa-paw"}),"PetFinder"]}),S.jsx("p",{children:"Protegendo seus pets e ajudando a reunir famílias."})]}),S.jsxs("div",{className:"footer-item",children:[S.jsx("h4",{children:"Links Úteis"}),S.jsxs("ul",{children:[S.jsx("li",{children:S.jsx("a",{href:"#inicio",children:"Início"})}),S.jsx("li",{children:S.jsx("a",{href:"#encontrar-pet",children:"Encontrar Pet"})}),S.jsx("li",{children:S.jsx("a",{href:"#campanhas",children:"Campanhas"})}),S.jsx("li",{children:S.jsx("a",{href:"#sobre",children:"Sobre"})})]})]}),S.jsxs("div",{className:"footer-item",children:[S.jsx("h4",{children:"Contato"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-envelope"})," contato@petfinder.com.br"]}),S.jsxs("li",{children:[S.jsx("i",{className:"fas fa-phone"})," (11) 98765-4321"]}),S.jsxs("li",{children:[S.jsx("i",{className:"fab fa-whatsapp"})," (11) 98765-4321"]})]})]}),S.jsxs("div",{className:"footer-item",children:[S.jsx("h4",{children:"Redes Sociais"}),S.jsxs("div",{className:"social-links",children:[S.jsx("a",{href:"#",children:S.jsx("i",{className:"fab fa-facebook"})}),S.jsx("a",{href:"#",children:S.jsx("i",{className:"fab fa-instagram"})}),S.jsx("a",{href:"#",children:S.jsx("i",{className:"fab fa-twitter"})}),S.jsx("a",{href:"#",children:S.jsx("i",{className:"fab fa-youtube"})})]})]})]}),S.jsx("div",{className:"footer-bottom",children:S.jsx("p",{children:"© 2023 PetFinder. Todos os direitos reservados."})})]})]})};RS.createRoot(document.getElementById("root")).render(S.jsx(xt.StrictMode,{children:S.jsx(yD,{})}));
