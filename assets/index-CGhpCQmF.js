(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function Rb(){if(Zy)return pl;Zy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=e,pl.jsx=n,pl.jsxs=n,pl}var Wy;function Ib(){return Wy||(Wy=1,Nd.exports=Rb()),Nd.exports}var A=Ib(),Dd={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function Cb(){if(Jy)return Ne;Jy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Q={};function X(V,W,oe){this.props=V,this.context=W,this.refs=Q,this.updater=oe||k}X.prototype.isReactComponent={},X.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},X.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function se(){}se.prototype=X.prototype;function le(V,W,oe){this.props=V,this.context=W,this.refs=Q,this.updater=oe||k}var ne=le.prototype=new se;ne.constructor=le,H(ne,X.prototype),ne.isPureReactComponent=!0;var re=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function N(V,W,oe,ie,_e,K){return oe=K.ref,{$$typeof:r,type:V,key:W,ref:oe!==void 0?oe:null,props:K}}function b(V,W){return N(V.type,W,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function C(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return W[oe]})}var D=/\/+/g;function M(V,W){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):W.toString(36)}function R(){}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Le(V,W,oe,ie,_e){var K=typeof V;(K==="undefined"||K==="boolean")&&(V=null);var he=!1;if(V===null)he=!0;else switch(K){case"bigint":case"string":case"number":he=!0;break;case"object":switch(V.$$typeof){case r:case e:he=!0;break;case E:return he=V._init,Le(he(V._payload),W,oe,ie,_e)}}if(he)return _e=_e(V),he=ie===""?"."+M(V,0):ie,re(_e)?(oe="",he!=null&&(oe=he.replace(D,"$&/")+"/"),Le(_e,W,oe,"",function(it){return it})):_e!=null&&(w(_e)&&(_e=b(_e,oe+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(D,"$&/")+"/")+he)),W.push(_e)),1;he=0;var Ce=ie===""?".":ie+":";if(re(V))for(var Ee=0;Ee<V.length;Ee++)ie=V[Ee],K=Ce+M(ie,Ee),he+=Le(ie,W,oe,K,_e);else if(Ee=x(V),typeof Ee=="function")for(V=Ee.call(V),Ee=0;!(ie=V.next()).done;)ie=ie.value,K=Ce+M(ie,Ee++),he+=Le(ie,W,oe,K,_e);else if(K==="object"){if(typeof V.then=="function")return Le(de(V),W,oe,ie,_e);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return he}function G(V,W,oe){if(V==null)return V;var ie=[],_e=0;return Le(V,ie,"","",function(K){return W.call(oe,K,_e++)}),ie}function ue(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ue(){}return Ne.Children={map:G,forEach:function(V,W,oe){G(V,function(){W.apply(this,arguments)},oe)},count:function(V){var W=0;return G(V,function(){W++}),W},toArray:function(V){return G(V,function(W){return W})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ne.Component=X,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=le,Ne.StrictMode=s,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ce.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cloneElement=function(V,W,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ie=H({},V.props),_e=V.key,K=void 0;if(W!=null)for(he in W.ref!==void 0&&(K=void 0),W.key!==void 0&&(_e=""+W.key),W)!ee.call(W,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&W.ref===void 0||(ie[he]=W[he]);var he=arguments.length-2;if(he===1)ie.children=oe;else if(1<he){for(var Ce=Array(he),Ee=0;Ee<he;Ee++)Ce[Ee]=arguments[Ee+2];ie.children=Ce}return N(V.type,_e,void 0,void 0,K,ie)},Ne.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ne.createElement=function(V,W,oe){var ie,_e={},K=null;if(W!=null)for(ie in W.key!==void 0&&(K=""+W.key),W)ee.call(W,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(_e[ie]=W[ie]);var he=arguments.length-2;if(he===1)_e.children=oe;else if(1<he){for(var Ce=Array(he),Ee=0;Ee<he;Ee++)Ce[Ee]=arguments[Ee+2];_e.children=Ce}if(V&&V.defaultProps)for(ie in he=V.defaultProps,he)_e[ie]===void 0&&(_e[ie]=he[ie]);return N(V,K,void 0,void 0,null,_e)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:m,render:V}},Ne.isValidElement=w,Ne.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ue}},Ne.memo=function(V,W){return{$$typeof:_,type:V,compare:W===void 0?null:W}},Ne.startTransition=function(V){var W=ce.T,oe={};ce.T=oe;try{var ie=V(),_e=ce.S;_e!==null&&_e(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ue,pe)}catch(K){pe(K)}finally{ce.T=W}},Ne.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ne.use=function(V){return ce.H.use(V)},Ne.useActionState=function(V,W,oe){return ce.H.useActionState(V,W,oe)},Ne.useCallback=function(V,W){return ce.H.useCallback(V,W)},Ne.useContext=function(V){return ce.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,W){return ce.H.useDeferredValue(V,W)},Ne.useEffect=function(V,W,oe){var ie=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(V,W)},Ne.useId=function(){return ce.H.useId()},Ne.useImperativeHandle=function(V,W,oe){return ce.H.useImperativeHandle(V,W,oe)},Ne.useInsertionEffect=function(V,W){return ce.H.useInsertionEffect(V,W)},Ne.useLayoutEffect=function(V,W){return ce.H.useLayoutEffect(V,W)},Ne.useMemo=function(V,W){return ce.H.useMemo(V,W)},Ne.useOptimistic=function(V,W){return ce.H.useOptimistic(V,W)},Ne.useReducer=function(V,W,oe){return ce.H.useReducer(V,W,oe)},Ne.useRef=function(V){return ce.H.useRef(V)},Ne.useState=function(V){return ce.H.useState(V)},Ne.useSyncExternalStore=function(V,W,oe){return ce.H.useSyncExternalStore(V,W,oe)},Ne.useTransition=function(){return ce.H.useTransition()},Ne.version="19.1.0",Ne}var ev;function Gm(){return ev||(ev=1,Dd.exports=Cb()),Dd.exports}var Vt=Gm(),Od={exports:{}},_l={},Md={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function Nb(){return tv||(tv=1,function(r){function e(G,ue){var pe=G.length;G.push(ue);e:for(;0<pe;){var Ue=pe-1>>>1,V=G[Ue];if(0<o(V,ue))G[Ue]=ue,G[pe]=V,pe=Ue;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ue=G[0],pe=G.pop();if(pe!==ue){G[0]=pe;e:for(var Ue=0,V=G.length,W=V>>>1;Ue<W;){var oe=2*(Ue+1)-1,ie=G[oe],_e=oe+1,K=G[_e];if(0>o(ie,pe))_e<V&&0>o(K,ie)?(G[Ue]=K,G[_e]=pe,Ue=_e):(G[Ue]=ie,G[oe]=pe,Ue=oe);else if(_e<V&&0>o(K,pe))G[Ue]=K,G[_e]=pe,Ue=_e;else break e}}return ue}function o(G,ue){var pe=G.sortIndex-ue.sortIndex;return pe!==0?pe:G.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],_=[],E=1,I=null,x=3,k=!1,H=!1,Q=!1,X=!1,se=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function re(G){for(var ue=n(_);ue!==null;){if(ue.callback===null)s(_);else if(ue.startTime<=G)s(_),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(_)}}function ce(G){if(Q=!1,re(G),!H)if(n(g)!==null)H=!0,ee||(ee=!0,M());else{var ue=n(_);ue!==null&&Le(ce,ue.startTime-G)}}var ee=!1,N=-1,b=5,w=-1;function C(){return X?!0:!(r.unstable_now()-w<b)}function D(){if(X=!1,ee){var G=r.unstable_now();w=G;var ue=!0;try{e:{H=!1,Q&&(Q=!1,le(N),N=-1),k=!0;var pe=x;try{t:{for(re(G),I=n(g);I!==null&&!(I.expirationTime>G&&C());){var Ue=I.callback;if(typeof Ue=="function"){I.callback=null,x=I.priorityLevel;var V=Ue(I.expirationTime<=G);if(G=r.unstable_now(),typeof V=="function"){I.callback=V,re(G),ue=!0;break t}I===n(g)&&s(g),re(G)}else s(g);I=n(g)}if(I!==null)ue=!0;else{var W=n(_);W!==null&&Le(ce,W.startTime-G),ue=!1}}break e}finally{I=null,x=pe,k=!1}ue=void 0}}finally{ue?M():ee=!1}}}var M;if(typeof ne=="function")M=function(){ne(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,de=R.port2;R.port1.onmessage=D,M=function(){de.postMessage(null)}}else M=function(){se(D,0)};function Le(G,ue){N=se(function(){G(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var pe=x;x=ue;try{return G()}finally{x=pe}},r.unstable_requestPaint=function(){X=!0},r.unstable_runWithPriority=function(G,ue){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=x;x=G;try{return ue()}finally{x=pe}},r.unstable_scheduleCallback=function(G,ue,pe){var Ue=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,G={id:E++,callback:ue,priorityLevel:G,startTime:pe,expirationTime:V,sortIndex:-1},pe>Ue?(G.sortIndex=pe,e(_,G),n(g)===null&&G===n(_)&&(Q?(le(N),N=-1):Q=!0,Le(ce,pe-Ue))):(G.sortIndex=V,e(g,G),H||k||(H=!0,ee||(ee=!0,M()))),G},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(G){var ue=x;return function(){var pe=x;x=ue;try{return G.apply(this,arguments)}finally{x=pe}}}}(xd)),xd}var nv;function Db(){return nv||(nv=1,Md.exports=Nb()),Md.exports}var Vd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function Ob(){if(iv)return Yt;iv=1;var r=Gm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,E){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:g,containerInfo:_,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,E)},Yt.flushSync=function(g){var _=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=E,s.d.f()}},Yt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Yt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Yt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,I=m(E,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:x,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:I,integrity:x,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Yt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,I=m(E,_.crossOrigin);s.d.L(g,E,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=m(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Yt.requestFormReset=function(g){s.d.r(g)},Yt.unstable_batchedUpdates=function(g,_){return g(_)},Yt.useFormState=function(g,_,E){return f.H.useFormState(g,_,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var rv;function Mb(){if(rv)return Vd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=Ob(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function xb(){if(sv)return _l;sv=1;var r=Db(),e=Gm(),n=Mb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,I=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),le=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case X:return"Profiler";case Q:return"StrictMode";case ce:return"Suspense";case ee:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case le:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:de(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return de(t(i))}catch{}}return null}var Le=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],V=-1;function W(t){return{current:t}}function oe(t){0>V||(t.current=Ue[V],Ue[V]=null,V--)}function ie(t,i){V++,Ue[V]=t.current,t.current=i}var _e=W(null),K=W(null),he=W(null),Ce=W(null);function Ee(t,i){switch(ie(he,i),ie(K,t),ie(_e,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?wy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=wy(i),t=Ry(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(_e),ie(_e,t)}function it(){oe(_e),oe(K),oe(he)}function Ct(t){t.memoizedState!==null&&ie(Ce,t);var i=_e.current,a=Ry(i,t.type);i!==a&&(ie(K,t),ie(_e,a))}function rn(t){K.current===t&&(oe(_e),oe(K)),Ce.current===t&&(oe(Ce),hl._currentValue=pe)}var Gn=Object.prototype.hasOwnProperty,Yr=r.unstable_scheduleCallback,Xr=r.unstable_cancelCallback,oo=r.unstable_shouldYield,Jl=r.unstable_requestPaint,En=r.unstable_now,Ch=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,Ks=r.unstable_UserBlockingPriority,$r=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Qs=r.unstable_IdlePriority,uo=r.log,eu=r.unstable_setDisableYieldValue,lt=null,Qe=null;function cn(t){if(typeof uo=="function"&&eu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(lt,t)}catch{}}var Kt=Math.clz32?Math.clz32:Zr,tu=Math.log,Dh=Math.LN2;function Zr(t){return t>>>=0,t===0?32:31-(tu(t)/Dh|0)|0}var Wr=256,Jr=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ys(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~t,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~t,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function es(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function co(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var t=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),t}function fo(){var t=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),t}function Ei(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ti(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-Kt(a),Z=1<<Y;T[Y]=0,O[Y]=-1;var z=B[Y];if(z!==null)for(B[Y]=null,Y=0;Y<z.length;Y++){var q=z[Y];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&Kn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Kn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function go(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function er(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Gy(t.type))}function nu(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var rt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+rt,gt="__reactProps$"+rt,Tn="__reactContainer$"+rt,po="__reactEvents$"+rt,Oh="__reactListeners$"+rt,tr="__reactHandles$"+rt,iu="__reactResources$"+rt,ts="__reactMarker$"+rt;function nr(t){delete t[Tt],delete t[gt],delete t[po],delete t[Oh],delete t[tr]}function Ai(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Tn]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Dy(t);t!==null;){if(a=t[Tt])return a;t=Dy(t)}return i}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[Tt]||t[Tn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Jt(t){var i=t[iu];return i||(i=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[ts]=!0}var _o=new Set,$s={};function Pn(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for($s[t]=i,t=0;t<i.length;t++)_o.add(i[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),su={},ns={};function au(t){return Gn.call(ns,t)?!0:Gn.call(su,t)?!1:ru.test(t)?ns[t]=!0:(su[t]=!0,!1)}function ir(t,i,a){if(au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Xn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var is,ou;function bi(t){if(is===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);is=i&&i[1]||"",ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+t+ou}var Zs=!1;function Ws(t,i){if(!t||Zs)return"";Zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var z=q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(q){z=q}t.call(Z.prototype)}}else{try{throw Error()}catch(q){z=q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var O=v.split(`
`),B=T.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===B.length)for(l=O.length-1,h=B.length-1;1<=l&&0<=h&&O[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==B[h]){var Y=`
`+O[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bi(a):""}function yo(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Ws(t.type,!1);case 11:return Ws(t.type.render,!1);case 1:return Ws(t.type,!0);case 31:return bi("Activity");default:return""}}function Js(t){try{var i="";do i+=yo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mh(t){var i=vo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ea(t){t._valueTracker||(t._valueTracker=Mh(t))}function Eo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xh=/[\n"\\]/g;function pt(t){return t.replace(xh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?rr(t,v,en(i)):a!=null?rr(t,v,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function ss(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function rr(t,i,a){i==="number"&&rs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function $e(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function as(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||os.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function To(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&lu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&lu(t,d,i[d])}function Ao(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(t){return Ph.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ri=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Ci=null;function So(t){var i=Qn(t);if(i&&(t=i.stateNode)){var a=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Eo(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wi(t,!!a.multiple,i,!1)}}}var $n=!1;function uu(t,i,a){if($n)return t(i,a);$n=!0;try{var l=t(i);return l}finally{if($n=!1,(Ii!==null||Ci!==null)&&(nc(),Ii&&(i=Ii,t=Ci,Ci=Ii=null,So(i),t)))for(i=0;i<t.length;i++)So(t[i])}}function ls(t,i){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(kn)try{var us={};Object.defineProperty(us,"passive",{get:function(){bn=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{bn=!1}var Zn=null,sr=null,Ni=null;function bo(){if(Ni)return Ni;var t,i=sr,a=i.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function Wn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Jn(){return!0}function wo(){return!1}function Nt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:wo,this.isPropagationStopped=wo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Nt(Ge),cs=E({},Ge,{view:0,detail:0}),cu=Nt(cs),ia,ra,ei,hs=E({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(ia=t.screenX-ei.screenX,ra=t.screenY-ei.screenY):ra=ia=0,ei=t),ia)},movementY:function(t){return"movementY"in t?t.movementY:ra}}),wn=Nt(hs),hu=E({},hs,{dataTransfer:0}),kh=Nt(hu),fs=E({},cs,{relatedTarget:0}),sa=Nt(fs),Ro=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=Nt(Ro),fu=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oa=Nt(fu),Uh=E({},Ge,{data:0}),Io=Nt(Uh),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=mu[t])?!!i[t]:!1}function ms(){return Co}var gu=E({},cs,{key:function(t){if(t.key){var i=ds[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),la=Nt(gu),pu=E({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=Nt(pu),Di=E({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),_u=Nt(Di),yu=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Nt(yu),Eu=E({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=Nt(Eu),tn=E({},Ge,{newState:0,oldState:0}),Tu=Nt(tn),Au=[9,13,27,32],ti=kn&&"CompositionEvent"in window,c=null;kn&&"documentMode"in document&&(c=document.documentMode);var p=kn&&"TextEvent"in window&&!c,y=kn&&(!ti||c&&8<c&&11>=c),S=" ",L=!1;function F(t,i){switch(t){case"keyup":return Au.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function At(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(L=!0,S);case"textInput":return t=i.data,t===S&&L?null:t;default:return null}}function Be(t,i){if(je)return t==="compositionend"||!ti&&F(t,i)?(t=bo(),Ni=sr=Zn=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Oi(t,i,a,l){Ii?Ci?Ci.push(l):Ci=[l]:Ii=l,i=lc(i,"onChange"),0<i.length&&(a=new na("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,ni=null;function Do(t){Ey(t,0)}function Su(t){var i=Yn(t);if(Eo(i))return t}function zg(t,i){if(t==="change")return i}var qg=!1;if(kn){var Lh;if(kn){var jh="oninput"in document;if(!jh){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),jh=typeof Hg.oninput=="function"}Lh=jh}else Lh=!1;qg=Lh&&(!document.documentMode||9<document.documentMode)}function Fg(){Ut&&(Ut.detachEvent("onpropertychange",Gg),ni=Ut=null)}function Gg(t){if(t.propertyName==="value"&&Su(ni)){var i=[];Oi(i,ni,t,Sn(t)),uu(Do,i)}}function tS(t,i,a){t==="focusin"?(Fg(),Ut=i,ni=a,Ut.attachEvent("onpropertychange",Gg)):t==="focusout"&&Fg()}function nS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(ni)}function iS(t,i){if(t==="click")return Su(i)}function rS(t,i){if(t==="input"||t==="change")return Su(i)}function sS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var fn=typeof Object.is=="function"?Object.is:sS;function Oo(t,i){if(fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Gn.call(i,h)||!fn(t[h],i[h]))return!1}return!0}function Kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,i){var a=Kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Yg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Yg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=rs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=rs(t.document)}return i}function Bh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var aS=kn&&"documentMode"in document&&11>=document.documentMode,ca=null,zh=null,Mo=null,qh=!1;function $g(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||ca==null||ca!==rs(l)||(l=ca,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Mo&&Oo(Mo,l)||(Mo=l,l=lc(zh,"onSelect"),0<l.length&&(i=new na("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ca)))}function gs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ha={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Hh={},Zg={};kn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function ps(t){if(Hh[t])return Hh[t];if(!ha[t])return t;var i=ha[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zg)return Hh[t]=i[a];return t}var Wg=ps("animationend"),Jg=ps("animationiteration"),ep=ps("animationstart"),oS=ps("transitionrun"),lS=ps("transitionstart"),uS=ps("transitioncancel"),tp=ps("transitionend"),np=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Un(t,i){np.set(t,i),Pn(i,[t])}var ip=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=ip.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Js(i)},ip.set(t,i),i)}return{value:t,source:i,stack:Js(i)}}var In=[],fa=0,Gh=0;function bu(){for(var t=fa,i=Gh=fa=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&rp(a,h,d)}}function wu(t,i,a,l){In[fa++]=t,In[fa++]=i,In[fa++]=a,In[fa++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kh(t,i,a,l){return wu(t,i,a,l),Ru(t)}function da(t,i){return wu(t,null,null,i),Ru(t)}function rp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ru(t){if(50<il)throw il=0,Jf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ma={};function cS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,i,a,l){return new cS(t,i,a,l)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,i){var a=t.alternate;return a===null?(a=dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Iu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Qh(t)&&(v=1);else if(typeof t=="string")v=fb(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=dn(31,a,i,h),t.elementType=w,t.lanes=d,t;case H:return _s(a.children,h,d,i);case Q:v=8,h|=24;break;case X:return t=dn(12,a,i,h|2),t.elementType=X,t.lanes=d,t;case ce:return t=dn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case ee:return t=dn(19,a,i,h),t.elementType=ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:case ne:v=10;break e;case le:v=9;break e;case re:v=11;break e;case N:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=dn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function _s(t,i,a,l){return t=dn(7,t,l,i),t.lanes=a,t}function Yh(t,i,a){return t=dn(6,t,null,i),t.lanes=a,t}function Xh(t,i,a){return i=dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ga=[],pa=0,Cu=null,Nu=0,Cn=[],Nn=0,ys=null,xi=1,Vi="";function vs(t,i){ga[pa++]=Nu,ga[pa++]=Cu,Cu=t,Nu=i}function ap(t,i,a){Cn[Nn++]=xi,Cn[Nn++]=Vi,Cn[Nn++]=ys,ys=t;var l=xi;t=Vi;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var d=32-Kt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,xi=1<<32-Kt(i)+h|a<<h|l,Vi=d+t}else xi=1<<d|a<<h|l,Vi=t}function $h(t){t.return!==null&&(vs(t,1),ap(t,1,0))}function Zh(t){for(;t===Cu;)Cu=ga[--pa],ga[pa]=null,Nu=ga[--pa],ga[pa]=null;for(;t===ys;)ys=Cn[--Nn],Cn[Nn]=null,Vi=Cn[--Nn],Cn[Nn]=null,xi=Cn[--Nn],Cn[Nn]=null}var nn=null,ut=null,Fe=!1,Es=null,ii=!1,Wh=Error(s(519));function Ts(t){var i=Error(s(418,""));throw Po(Rn(i,t)),Wh}function op(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[gt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<sl.length;a++)Ve(sl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),ss(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ea(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),as(i,l.value,l.defaultValue,l.children),ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||by(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=uc),i=!0):i=!1,i||Ts(t)}function lp(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:nn=nn.return}}function xo(t){if(t!==nn)return!1;if(!Fe)return lp(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ts(t),lp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=jn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Tr(t.type)?(t=vd,vd=null,ut=t):ut=i):ut=nn?jn(t.stateNode.nextSibling):null;return!0}function Vo(){ut=nn=null,Fe=!1}function up(){var t=Es;return t!==null&&(on===null?on=t:on.push.apply(on,t),Es=null),t}function Po(t){Es===null?Es=[t]:Es.push(t)}var Jh=W(null),As=null,Pi=null;function ar(t,i,a){ie(Jh,i._currentValue),i._currentValue=a}function ki(t){t._currentValue=Jh.current,oe(Jh)}function ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function tf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var O=0;O<i.length;O++)if(T.context===i[O]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ef(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ef(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ko(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;fn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(hl):t=[hl])}h=h.return}t!==null&&tf(i,t,a,l),i.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ss(t){As=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return cp(As,t)}function Ou(t,i){return As===null&&Ss(t),cp(t,i)}function cp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var hS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},fS=r.unstable_scheduleCallback,dS=r.unstable_NormalPriority,bt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new hS,data:new Map,refCount:0}}function Uo(t){t.refCount--,t.refCount===0&&fS(dS,function(){t.controller.abort()})}var Lo=null,rf=0,_a=0,ya=null;function mS(t,i){if(Lo===null){var a=Lo=[];rf=0,_a=ad(),ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,i.then(hp,hp),i}function hp(){if(--rf===0&&Lo!==null){ya!==null&&(ya.status="fulfilled");var t=Lo;Lo=null,_a=0,ya=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function gS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fp=G.S;G.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&mS(t,i),fp!==null&&fp(t,i)};var bs=W(null);function sf(){var t=bs.current;return t!==null?t:tt.pooledCache}function Mu(t,i){i===null?ie(bs,bs.current):ie(bs,i.pool)}function dp(){var t=sf();return t===null?null:{parent:bt._currentValue,pool:t}}var jo=Error(s(460)),mp=Error(s(474)),xu=Error(s(542)),af={then:function(){}};function gp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vu(){}function pp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Vu,Vu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,yp(t),t;default:if(typeof i.status=="string")i.then(Vu,Vu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,yp(t),t}throw Bo=i,jo}}var Bo=null;function _p(){if(Bo===null)throw Error(s(459));var t=Bo;return Bo=null,t}function yp(t){if(t===jo||t===xu)throw Error(s(483))}var or=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ru(t),rp(t,null,a),i}return wu(t,l,i,a),Ru(t)}function zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,go(t,a)}}function uf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cf=!1;function qo(){if(cf){var t=ya;if(t!==null)throw t}}function Ho(t,i,a,l){cf=!1;var h=t.updateQueue;or=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,B=O.next;O.next=null,v===null?d=B:v.next=B,v=O;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=O))}if(d!==null){var Z=h.baseState;v=0,Y=B=O=null,T=d;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(ze&z)===z:(l&z)===z){z!==0&&z===_a&&(cf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,Te=T;z=i;var Je=a;switch(Te.tag){case 1:if(be=Te.payload,typeof be=="function"){Z=be.call(Je,Z,z);break e}Z=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,z=typeof be=="function"?be.call(Je,Z,z):be,z==null)break e;Z=E({},Z,z);break e;case 2:or=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=q,O=Z):Y=Y.next=q,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(O=Z),h.baseState=O,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),_r|=v,t.lanes=v,t.memoizedState=Z}}function vp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ep(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vp(a[t],i)}var va=W(null),Pu=W(0);function Tp(t,i){t=Hi,ie(Pu,t),ie(va,i),Hi=t|i.baseLanes}function hf(){ie(Pu,Hi),ie(va,va.current)}function ff(){Hi=Pu.current,oe(va),oe(Pu)}var cr=0,De=null,Ze=null,_t=null,ku=!1,Ea=!1,ws=!1,Uu=0,Fo=0,Ta=null,pS=0;function ft(){throw Error(s(321))}function df(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!fn(t[a],i[a]))return!1;return!0}function mf(t,i,a,l,h,d){return cr=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?r_:s_,ws=!1,d=a(l,h),ws=!1,Ea&&(d=Sp(i,a,l,h)),Ap(t),d}function Ap(t){G.H=Hu;var i=Ze!==null&&Ze.next!==null;if(cr=0,_t=Ze=De=null,ku=!1,Fo=0,Ta=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Du(t)&&(Ot=!0))}function Sp(t,i,a,l){De=t;var h=0;do{if(Ea&&(Ta=null),Fo=0,Ea=!1,25<=h)throw Error(s(301));if(h+=1,_t=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=SS,d=i(a,l)}while(Ea);return d}function _S(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Go(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(De.flags|=1024),i}function gf(){var t=Uu!==0;return Uu=0,t}function pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function _f(t){if(ku){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ku=!1}cr=0,_t=Ze=De=null,Ea=!1,Fo=Uu=0,Ta=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?De.memoizedState=_t=t:_t=_t.next=t,_t}function yt(){if(Ze===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=_t===null?De.memoizedState:_t.next;if(i!==null)_t=i,Ze=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},_t===null?De.memoizedState=_t=t:_t=_t.next=t}return _t}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(t){var i=Fo;return Fo+=1,Ta===null&&(Ta=[]),t=pp(Ta,t,i),i=De,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?r_:s_),t}function Lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Go(t);if(t.$$typeof===ne)return Qt(t)}throw Error(s(438,String(t)))}function vf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yf(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=C;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function ju(t){var i=yt();return Ef(i,Ze,t)}function Ef(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,O=null,B=i,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(ze&Z)===Z:(cr&Z)===Z){var z=B.revertLane;if(z===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===_a&&(Y=!0);else if((cr&z)===z){B=B.next,z===_a&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(T=O=Z,v=d):O=O.next=Z,De.lanes|=z,_r|=z;Z=B.action,ws&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else z={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(T=O=z,v=d):O=O.next=z,De.lanes|=Z,_r|=Z;B=B.next}while(B!==null&&B!==i);if(O===null?v=d:O.next=T,!fn(d,t.memoizedState)&&(Ot=!0,Y&&(a=ya,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);fn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function bp(t,i,a){var l=De,h=yt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn((Ze||h).memoizedState,a);v&&(h.memoizedState=a,Ot=!0),h=h.queue;var T=Ip.bind(null,l,h,t);if(Ko(2048,8,T,[t]),h.getSnapshot!==i||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Aa(9,Bu(),Rp.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(cr&124)!==0||wp(l,i,a)}return a}function wp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=yf(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Rp(t,i,a,l){i.value=a,i.getSnapshot=l,Cp(i)&&Np(t)}function Ip(t,i,a){return a(function(){Cp(i)&&Np(t)})}function Cp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!fn(t,a)}catch{return!0}}function Np(t){var i=da(t,2);i!==null&&yn(i,t,2)}function Af(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),ws){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function Dp(t,i,a,l){return t.baseState=a,Ef(t,Ze,typeof l=="function"?l:Ui)}function yS(t,i,a,l,h){if(qu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Op(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Op(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=a(h,l),O=G.S;O!==null&&O(v,T),Mp(t,i,T)}catch(B){Sf(t,i,B)}finally{G.T=d}}else try{d=a(h,l),Mp(t,i,d)}catch(B){Sf(t,i,B)}}function Mp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xp(t,i,l)},function(l){return Sf(t,i,l)}):xp(t,i,a)}function xp(t,i,a){i.status="fulfilled",i.value=a,Vp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Op(t,a)))}function Sf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Vp(i),i=i.next;while(i!==l)}t.action=null}function Vp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Pp(t,i){return i}function kp(t,i){if(Fe){var a=tt.formState;if(a!==null){e:{var l=De;if(Fe){if(ut){t:{for(var h=ut,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=jn(h.nextSibling),l=h.data==="F!";break e}}Ts(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:i},a.queue=l,a=t_.bind(null,De,l),l.dispatch=a,l=Af(!1),d=Cf.bind(null,De,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=yS.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Up(t){var i=yt();return Lp(i,Ze,t)}function Lp(t,i,a){if(i=Ef(t,i,Pp)[0],t=ju(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Go(i)}catch(v){throw v===jo?xu:v}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Aa(9,Bu(),vS.bind(null,h,a),null)),[l,d,t]}function vS(t,i){t.action=i}function jp(t){var i=yt(),a=Ze;if(a!==null)return Lp(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Aa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=yf(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Bu(){return{destroy:void 0,resource:void 0}}function Bp(){return yt().memoizedState}function zu(t,i,a,l){var h=sn();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Aa(1|i,Bu(),a,l)}function Ko(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&df(l,Ze.memoizedState.deps)?h.memoizedState=Aa(i,d,a,l):(De.flags|=t,h.memoizedState=Aa(1|i,d,a,l))}function zp(t,i){zu(8390656,8,t,i)}function qp(t,i){Ko(2048,8,t,i)}function Hp(t,i){return Ko(4,2,t,i)}function Fp(t,i){return Ko(4,4,t,i)}function Gp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Kp(t,i,a){a=a!=null?a.concat([t]):null,Ko(4,4,Gp.bind(null,i,t),a)}function bf(){}function Qp(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&df(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Yp(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&df(i,l[1]))return l[0];if(l=t(),ws){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function wf(t,i,a){return a===void 0||(cr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Z_(),De.lanes|=t,_r|=t,a)}function Xp(t,i,a,l){return fn(a,i)?a:va.current!==null?(t=wf(t,a,l),fn(t,i)||(Ot=!0),t):(cr&42)===0?(Ot=!0,t.memoizedState=a):(t=Z_(),De.lanes|=t,_r|=t,i)}function $p(t,i,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,Cf(t,!1,i,a);try{var O=h(),B=G.S;if(B!==null&&B(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=gS(O,l);Qo(t,i,Y,_n(t))}else Qo(t,i,l,_n(t))}catch(Z){Qo(t,i,{then:function(){},status:"rejected",reason:Z},_n())}finally{ue.p=d,G.T=v}}function ES(){}function Rf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Zp(t).queue;$p(t,h,i,pe,a===null?ES:function(){return Wp(t),a(l)})}function Zp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wp(t){var i=Zp(t).next.queue;Qo(t,i,{},_n())}function If(){return Qt(hl)}function Jp(){return yt().memoizedState}function e_(){return yt().memoizedState}function TS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=lr(a);var l=ur(i,t,a);l!==null&&(yn(l,i,a),zo(l,i,a)),i={cache:nf()},t.payload=i;return}i=i.return}}function AS(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qu(t)?n_(i,a):(a=Kh(t,i,a,l),a!==null&&(yn(a,t,l),i_(a,i,l)))}function t_(t,i,a){var l=_n();Qo(t,i,a,l)}function Qo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qu(t))n_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,v))return wu(t,i,h,0),tt===null&&bu(),!1}catch{}finally{}if(a=Kh(t,i,h,l),a!==null)return yn(a,t,l),i_(a,i,l),!0}return!1}function Cf(t,i,a,l){if(l={lane:2,revertLane:ad(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(i)throw Error(s(479))}else i=Kh(t,a,l,2),i!==null&&yn(i,t,2)}function qu(t){var i=t.alternate;return t===De||i!==null&&i===De}function n_(t,i){Ea=ku=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function i_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,go(t,a)}}var Hu={readContext:Qt,use:Lu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},r_={readContext:Qt,use:Lu,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:zp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,zu(4194308,4,Gp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return zu(4194308,4,t,i)},useInsertionEffect:function(t,i){zu(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(ws){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(ws){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=AS.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Af(t);var i=t.queue,a=t_.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,i){var a=sn();return wf(a,t,i)},useTransition:function(){var t=Af(!1);return t=$p.bind(null,De,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=sn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(ze&124)!==0||wp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,zp(Ip.bind(null,l,d,t),[t]),l.flags|=2048,Aa(9,Bu(),Rp.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=tt.identifierPrefix;if(Fe){var a=Vi,l=xi;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Uu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=pS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:If,useFormState:kp,useActionState:kp,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cf.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:vf,useCacheRefresh:function(){return sn().memoizedState=TS.bind(null,De)}},s_={readContext:Qt,use:Lu,useCallback:Qp,useContext:Qt,useEffect:qp,useImperativeHandle:Kp,useInsertionEffect:Hp,useLayoutEffect:Fp,useMemo:Yp,useReducer:ju,useRef:Bp,useState:function(){return ju(Ui)},useDebugValue:bf,useDeferredValue:function(t,i){var a=yt();return Xp(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ju(Ui)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Go(t),i]},useSyncExternalStore:bp,useId:Jp,useHostTransitionStatus:If,useFormState:Up,useActionState:Up,useOptimistic:function(t,i){var a=yt();return Dp(a,Ze,t,i)},useMemoCache:vf,useCacheRefresh:e_},SS={readContext:Qt,use:Lu,useCallback:Qp,useContext:Qt,useEffect:qp,useImperativeHandle:Kp,useInsertionEffect:Hp,useLayoutEffect:Fp,useMemo:Yp,useReducer:Tf,useRef:Bp,useState:function(){return Tf(Ui)},useDebugValue:bf,useDeferredValue:function(t,i){var a=yt();return Ze===null?wf(a,t,i):Xp(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Tf(Ui)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Go(t),i]},useSyncExternalStore:bp,useId:Jp,useHostTransitionStatus:If,useFormState:jp,useActionState:jp,useOptimistic:function(t,i){var a=yt();return Ze!==null?Dp(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:e_},Sa=null,Yo=0;function Fu(t){var i=Yo;return Yo+=1,Sa===null&&(Sa=[]),pp(Sa,t,i)}function Xo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Gu(t,i){throw i.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function a_(t){var i=t._init;return i(t._payload)}function o_(t){function i(U,P){if(t){var j=U.deletions;j===null?(U.deletions=[P],U.flags|=16):j.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function h(U,P){return U=Mi(U,P),U.index=0,U.sibling=null,U}function d(U,P,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<P?(U.flags|=67108866,P):j):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,P,j,$){return P===null||P.tag!==6?(P=Yh(j,U.mode,$),P.return=U,P):(P=h(P,j),P.return=U,P)}function O(U,P,j,$){var ge=j.type;return ge===H?Y(U,P,j.props.children,$,j.key):P!==null&&(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===b&&a_(ge)===P.type)?(P=h(P,j.props),Xo(P,j),P.return=U,P):(P=Iu(j.type,j.key,j.props,null,U.mode,$),Xo(P,j),P.return=U,P)}function B(U,P,j,$){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=Xh(j,U.mode,$),P.return=U,P):(P=h(P,j.children||[]),P.return=U,P)}function Y(U,P,j,$,ge){return P===null||P.tag!==7?(P=_s(j,U.mode,$,ge),P.return=U,P):(P=h(P,j),P.return=U,P)}function Z(U,P,j){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Yh(""+P,U.mode,j),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return j=Iu(P.type,P.key,P.props,null,U.mode,j),Xo(j,P),j.return=U,j;case k:return P=Xh(P,U.mode,j),P.return=U,P;case b:var $=P._init;return P=$(P._payload),Z(U,P,j)}if(Le(P)||M(P))return P=_s(P,U.mode,j,null),P.return=U,P;if(typeof P.then=="function")return Z(U,Fu(P),j);if(P.$$typeof===ne)return Z(U,Ou(U,P),j);Gu(U,P)}return null}function z(U,P,j,$){var ge=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ge!==null?null:T(U,P,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return j.key===ge?O(U,P,j,$):null;case k:return j.key===ge?B(U,P,j,$):null;case b:return ge=j._init,j=ge(j._payload),z(U,P,j,$)}if(Le(j)||M(j))return ge!==null?null:Y(U,P,j,$,null);if(typeof j.then=="function")return z(U,P,Fu(j),$);if(j.$$typeof===ne)return z(U,P,Ou(U,j),$);Gu(U,j)}return null}function q(U,P,j,$,ge){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(j)||null,T(P,U,""+$,ge);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return U=U.get($.key===null?j:$.key)||null,O(P,U,$,ge);case k:return U=U.get($.key===null?j:$.key)||null,B(P,U,$,ge);case b:var Me=$._init;return $=Me($._payload),q(U,P,j,$,ge)}if(Le($)||M($))return U=U.get(j)||null,Y(P,U,$,ge,null);if(typeof $.then=="function")return q(U,P,j,Fu($),ge);if($.$$typeof===ne)return q(U,P,j,Ou(P,$),ge);Gu(P,$)}return null}function be(U,P,j,$){for(var ge=null,Me=null,ye=P,Ae=P=0,xt=null;ye!==null&&Ae<j.length;Ae++){ye.index>Ae?(xt=ye,ye=null):xt=ye.sibling;var He=z(U,ye,j[Ae],$);if(He===null){ye===null&&(ye=xt);break}t&&ye&&He.alternate===null&&i(U,ye),P=d(He,P,Ae),Me===null?ge=He:Me.sibling=He,Me=He,ye=xt}if(Ae===j.length)return a(U,ye),Fe&&vs(U,Ae),ge;if(ye===null){for(;Ae<j.length;Ae++)ye=Z(U,j[Ae],$),ye!==null&&(P=d(ye,P,Ae),Me===null?ge=ye:Me.sibling=ye,Me=ye);return Fe&&vs(U,Ae),ge}for(ye=l(ye);Ae<j.length;Ae++)xt=q(ye,U,Ae,j[Ae],$),xt!==null&&(t&&xt.alternate!==null&&ye.delete(xt.key===null?Ae:xt.key),P=d(xt,P,Ae),Me===null?ge=xt:Me.sibling=xt,Me=xt);return t&&ye.forEach(function(Rr){return i(U,Rr)}),Fe&&vs(U,Ae),ge}function Te(U,P,j,$){if(j==null)throw Error(s(151));for(var ge=null,Me=null,ye=P,Ae=P=0,xt=null,He=j.next();ye!==null&&!He.done;Ae++,He=j.next()){ye.index>Ae?(xt=ye,ye=null):xt=ye.sibling;var Rr=z(U,ye,He.value,$);if(Rr===null){ye===null&&(ye=xt);break}t&&ye&&Rr.alternate===null&&i(U,ye),P=d(Rr,P,Ae),Me===null?ge=Rr:Me.sibling=Rr,Me=Rr,ye=xt}if(He.done)return a(U,ye),Fe&&vs(U,Ae),ge;if(ye===null){for(;!He.done;Ae++,He=j.next())He=Z(U,He.value,$),He!==null&&(P=d(He,P,Ae),Me===null?ge=He:Me.sibling=He,Me=He);return Fe&&vs(U,Ae),ge}for(ye=l(ye);!He.done;Ae++,He=j.next())He=q(ye,U,Ae,He.value,$),He!==null&&(t&&He.alternate!==null&&ye.delete(He.key===null?Ae:He.key),P=d(He,P,Ae),Me===null?ge=He:Me.sibling=He,Me=He);return t&&ye.forEach(function(bb){return i(U,bb)}),Fe&&vs(U,Ae),ge}function Je(U,P,j,$){if(typeof j=="object"&&j!==null&&j.type===H&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case x:e:{for(var ge=j.key;P!==null;){if(P.key===ge){if(ge=j.type,ge===H){if(P.tag===7){a(U,P.sibling),$=h(P,j.props.children),$.return=U,U=$;break e}}else if(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===b&&a_(ge)===P.type){a(U,P.sibling),$=h(P,j.props),Xo($,j),$.return=U,U=$;break e}a(U,P);break}else i(U,P);P=P.sibling}j.type===H?($=_s(j.props.children,U.mode,$,j.key),$.return=U,U=$):($=Iu(j.type,j.key,j.props,null,U.mode,$),Xo($,j),$.return=U,U=$)}return v(U);case k:e:{for(ge=j.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){a(U,P.sibling),$=h(P,j.children||[]),$.return=U,U=$;break e}else{a(U,P);break}else i(U,P);P=P.sibling}$=Xh(j,U.mode,$),$.return=U,U=$}return v(U);case b:return ge=j._init,j=ge(j._payload),Je(U,P,j,$)}if(Le(j))return be(U,P,j,$);if(M(j)){if(ge=M(j),typeof ge!="function")throw Error(s(150));return j=ge.call(j),Te(U,P,j,$)}if(typeof j.then=="function")return Je(U,P,Fu(j),$);if(j.$$typeof===ne)return Je(U,P,Ou(U,j),$);Gu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,P!==null&&P.tag===6?(a(U,P.sibling),$=h(P,j),$.return=U,U=$):(a(U,P),$=Yh(j,U.mode,$),$.return=U,U=$),v(U)):a(U,P)}return function(U,P,j,$){try{Yo=0;var ge=Je(U,P,j,$);return Sa=null,ge}catch(ye){if(ye===jo||ye===xu)throw ye;var Me=dn(29,ye,null,U.mode);return Me.lanes=$,Me.return=U,Me}finally{}}}var ba=o_(!0),l_=o_(!1),Dn=W(null),ri=null;function hr(t){var i=t.alternate;ie(wt,wt.current&1),ie(Dn,t),ri===null&&(i===null||va.current!==null||i.memoizedState!==null)&&(ri=t)}function u_(t){if(t.tag===22){if(ie(wt,wt.current),ie(Dn,t),ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ri=t)}}else fr()}function fr(){ie(wt,wt.current),ie(Dn,Dn.current)}function Li(t){oe(Dn),ri===t&&(ri=null),oe(wt)}var wt=W(0);function Ku(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||yd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Nf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),h=lr(l);h.payload=i,a!=null&&(h.callback=a),i=ur(t,h,l),i!==null&&(yn(i,t,l),zo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),h=lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ur(t,h,l),i!==null&&(yn(i,t,l),zo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=lr(a);l.tag=2,i!=null&&(l.callback=i),i=ur(t,l,a),i!==null&&(yn(i,t,a),zo(i,t,a))}};function c_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,l)||!Oo(h,d):!0}function h_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Df.enqueueReplaceState(i,i.state,null)}function Rs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function f_(t){Qu(t)}function d_(t){console.error(t)}function m_(t){Qu(t)}function Yu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function g_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,i,a){return a=lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(t,i)},a}function p_(t){return t=lr(t),t.tag=3,t}function __(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){g_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){g_(i,a,l),typeof h!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function bS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ko(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ri===null?td():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),id(t,l,h)),!1;case 22:return a.flags|=65536,l===af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),id(t,l,h)),!1}throw Error(s(435,a.tag))}return id(t,l,h),td(),!1}if(Fe)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Wh&&(t=Error(s(422),{cause:l}),Po(Rn(t,a)))):(l!==Wh&&(i=Error(s(423),{cause:l}),Po(Rn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=Of(t.stateNode,l,h),uf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),nl===null?nl=[d]:nl.push(d),ct!==4&&(ct=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Of(a.stateNode,l,t),uf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(yr===null||!yr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=p_(h),__(h,t,a,l),uf(a,h),!1}a=a.return}while(a!==null);return!1}var y_=Error(s(461)),Ot=!1;function Lt(t,i,a,l){i.child=t===null?l_(i,null,a,l):ba(i,t.child,a,l)}function v_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ss(i),l=mf(t,i,a,v,d,h),T=gf(),t!==null&&!Ot?(pf(t,i,h),ji(t,i,h)):(Fe&&T&&$h(i),i.flags|=1,Lt(t,i,l,h),i.child)}function E_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Qh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,T_(t,i,d,l,h)):(t=Iu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!jf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(v,l)&&t.ref===i.ref)return ji(t,i,h)}return i.flags|=1,t=Mi(d,l),t.ref=i.ref,t.return=i,i.child=t}function T_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Oo(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,jf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,ji(t,i,h)}return Mf(t,i,a,l,h)}function A_(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return S_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(i,d!==null?d.cachePool:null),d!==null?Tp(i,d):hf(),u_(i);else return i.lanes=i.childLanes=536870912,S_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Mu(i,d.cachePool),Tp(i,d),fr(),i.memoizedState=null):(t!==null&&Mu(i,null),hf(),fr());return Lt(t,i,h,a),i.child}function S_(t,i,a,l){var h=sf();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Mu(i,null),hf(),u_(i),t!==null&&ko(t,i,l,!0),null}function Xu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Mf(t,i,a,l,h){return Ss(i),a=mf(t,i,a,l,void 0,h),l=gf(),t!==null&&!Ot?(pf(t,i,h),ji(t,i,h)):(Fe&&l&&$h(i),i.flags|=1,Lt(t,i,a,h),i.child)}function b_(t,i,a,l,h,d){return Ss(i),i.updateQueue=null,a=Sp(i,l,a,h),Ap(t),l=gf(),t!==null&&!Ot?(pf(t,i,d),ji(t,i,d)):(Fe&&l&&$h(i),i.flags|=1,Lt(t,i,a,d),i.child)}function w_(t,i,a,l,h){if(Ss(i),i.stateNode===null){var d=ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Df,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},of(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):ma,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Nf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Df.enqueueReplaceState(d,d.state,null),Ho(i,l,d,h),qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,O=Rs(a,T);d.props=O;var B=d.context,Y=a.contextType;v=ma,typeof Y=="object"&&Y!==null&&(v=Qt(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&h_(i,d,l,v),or=!1;var z=i.memoizedState;d.state=z,Ho(i,l,d,h),qo(),B=i.memoizedState,T||z!==B||or?(typeof Z=="function"&&(Nf(i,a,Z,l),B=i.memoizedState),(O=or||c_(i,a,O,l,z,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,lf(t,i),v=i.memoizedProps,Y=Rs(a,v),d.props=Y,Z=i.pendingProps,z=d.context,B=a.contextType,O=ma,typeof B=="object"&&B!==null&&(O=Qt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||z!==O)&&h_(i,d,l,O),or=!1,z=i.memoizedState,d.state=z,Ho(i,l,d,h),qo();var q=i.memoizedState;v!==Z||z!==q||or||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof T=="function"&&(Nf(i,a,T,l),q=i.memoizedState),(Y=or||c_(i,a,Y,l,z,q,O)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=O,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Xu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ba(i,t.child,null,h),i.child=ba(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ji(t,i,h),t}function R_(t,i,a,l){return Vo(),i.flags|=256,Lt(t,i,a,l),i.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:dp()}}function Pf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function I_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?hr(i):fr(),Fe){var T=ut,O;if(O=T){e:{for(O=T,T=ii;O.nodeType!==8;){if(!T){T=null;break e}if(O=jn(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(i.memoizedState={dehydrated:T,treeContext:ys!==null?{id:xi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},O=dn(18,null,null,0),O.stateNode=T,O.return=i,i.child=O,nn=i,ut=null,O=!0):O=!1}O||Ts(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return yd(T)?i.lanes=32:i.lanes=536870912,null;Li(i)}return T=l.children,l=l.fallback,h?(fr(),h=i.mode,T=$u({mode:"hidden",children:T},h),l=_s(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Vf(a),h.childLanes=Pf(t,v,a),i.memoizedState=xf,l):(hr(i),kf(i,T))}if(O=t.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(d)i.flags&256?(hr(i),i.flags&=-257,i=Uf(t,i,a)):i.memoizedState!==null?(fr(),i.child=t.child,i.flags|=128,i=null):(fr(),h=l.fallback,T=i.mode,l=$u({mode:"visible",children:l.children},T),h=_s(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ba(i,t.child,null,a),l=i.child,l.memoizedState=Vf(a),l.childLanes=Pf(t,v,a),i.memoizedState=xf,i=h);else if(hr(i),yd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Po({value:l,source:null,stack:null}),i=Uf(t,i,a)}else if(Ot||ko(t,i,a,!1),v=(a&t.childLanes)!==0,Ot||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ji(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,da(t,l),yn(v,t,l),y_;T.data==="$?"||td(),i=Uf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,ut=jn(T.nextSibling),nn=i,Fe=!0,Es=null,ii=!1,t!==null&&(Cn[Nn++]=xi,Cn[Nn++]=Vi,Cn[Nn++]=ys,xi=t.id,Vi=t.overflow,ys=i),i=kf(i,l.children),i.flags|=4096);return i}return h?(fr(),h=l.fallback,T=i.mode,O=t.child,B=O.sibling,l=Mi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,B!==null?h=Mi(B,h):(h=_s(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Vf(a):(O=T.cachePool,O!==null?(B=bt._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=dp(),T={baseLanes:T.baseLanes|a,cachePool:O}),h.memoizedState=T,h.childLanes=Pf(t,v,a),i.memoizedState=xf,l):(hr(i),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function kf(t,i){return i=$u({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function $u(t,i){return t=dn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uf(t,i,a){return ba(i,t.child,null,a),t=kf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function C_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ef(t.return,i,a)}function Lf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function N_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=wt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C_(t,a,i);else if(t.tag===19)C_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(wt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ku(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Lf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ku(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Lf(i,!0,a,null,d);break;case"together":Lf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ji(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),_r|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ko(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function wS(t,i,a){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),ar(i,bt,t.memoizedState.cache),Vo();break;case 27:case 5:Ct(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:ar(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(hr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?I_(t,i,a):(hr(i),t=ji(t,i,a),t!==null?t.sibling:null);hr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ko(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return N_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(wt,wt.current),l)break;return null;case 22:case 23:return i.lanes=0,A_(t,i,a);case 24:ar(i,bt,t.memoizedState.cache)}return ji(t,i,a)}function D_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!jf(t,a)&&(i.flags&128)===0)return Ot=!1,wS(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,Fe&&(i.flags&1048576)!==0&&ap(i,Nu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Qh(l)?(t=Rs(l,t),i.tag=1,i=w_(null,i,l,t,a)):(i.tag=0,i=Mf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===re){i.tag=11,i=v_(null,i,l,t,a);break e}else if(h===N){i.tag=14,i=E_(null,i,l,t,a);break e}}throw i=de(l)||l,Error(s(306,i,""))}}return i;case 0:return Mf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Rs(l,i.pendingProps),w_(t,i,l,h,a);case 3:e:{if(Ee(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,lf(t,i),Ho(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ar(i,bt,l),l!==d.cache&&tf(i,[bt],a,!0),qo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=R_(t,i,l,a);break e}else if(l!==h){h=Rn(Error(s(424)),i),Po(h),i=R_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=jn(t.firstChild),nn=i,Fe=!0,Es=null,ii=!0,a=l_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vo(),l===h){i=ji(t,i,a);break e}Lt(t,i,l,a)}i=i.child}return i;case 26:return Xu(t,i),t===null?(a=Vy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=cc(he.current).createElement(a),l[Tt]=i,l[gt]=t,Bt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=Vy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ct(i),t===null&&Fe&&(l=i.stateNode=Oy(i.type,i.pendingProps,he.current),nn=i,ii=!0,h=ut,Tr(i.type)?(vd=h,ut=jn(l.firstChild)):ut=h),Lt(t,i,i.pendingProps.children,a),Xu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ut)&&(l=JS(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,nn=i,ut=jn(l.firstChild),ii=!1,h=!0):h=!1),h||Ts(i)),Ct(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,gd(h,d)?l=null:v!==null&&gd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=mf(t,i,_S,null,null,a),hl._currentValue=h),Xu(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ut)&&(a=eb(a,i.pendingProps,ii),a!==null?(i.stateNode=a,nn=i,ut=null,t=!0):t=!1),t||Ts(i)),null;case 13:return I_(t,i,a);case 4:return Ee(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ba(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return v_(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ar(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ss(i),h=Qt(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return E_(t,i,i.type,i.pendingProps,a);case 15:return T_(t,i,i.type,i.pendingProps,a);case 19:return N_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=$u(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return A_(t,i,a);case 24:return Ss(i),l=Qt(bt),t===null?(h=sf(),h===null&&(h=tt,d=nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},of(i),ar(i,bt,h)):((t.lanes&a)!==0&&(lf(t,i),Ho(i,null,null,a),qo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ar(i,bt,l)):(l=d.cache,ar(i,bt,l),l!==h.cache&&tf(i,[bt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(t){t.flags|=4}function O_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jy(i)){if(i=Dn.current,i!==null&&((ze&4194048)===ze?ri!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==ri))throw Bo=af,mp;t.flags|=8192}}function Zu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?fo():536870912,t.lanes|=i,Ca|=i)}function $o(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function RS(t,i,a){var l=i.pendingProps;switch(Zh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(bt),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xo(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,up())),at(i),null;case 26:return a=i.memoizedState,t===null?(Bi(i),a!==null?(at(i),O_(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Bi(i),at(i),O_(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&Bi(i),at(i),i.flags&=-16777217),null;case 27:rn(i),a=he.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=_e.current,xo(i)?op(i):(t=Oy(h,l,a),i.stateNode=t,Bi(i))}return at(i),null;case 5:if(rn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=_e.current,xo(i))op(i);else{switch(h=cc(he.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Tt]=i,t[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bi(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=he.current,xo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||by(t.nodeValue,a)),t||Ts(i)}else t=cc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Vo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=up(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Li(i),i):(Li(i),null)}if(Li(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Zu(i,i.updateQueue),at(i),null;case 4:return it(),t===null&&cd(i.stateNode.containerInfo),at(i),null;case 10:return ki(i.type),at(i),null;case 19:if(oe(wt),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)$o(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ku(t),d!==null){for(i.flags|=128,$o(h,!1),t=d.updateQueue,i.updateQueue=t,Zu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)sp(a,t),a=a.sibling;return ie(wt,wt.current&1|2),i.child}t=t.sibling}h.tail!==null&&En()>ec&&(i.flags|=128,l=!0,$o(h,!1),i.lanes=4194304)}else{if(!l)if(t=Ku(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Zu(i,t),$o(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return at(i),null}else 2*En()-h.renderingStartTime>ec&&a!==536870912&&(i.flags|=128,l=!0,$o(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,t=wt.current,ie(wt,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return Li(i),ff(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Zu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(bt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function IS(t,i){switch(Zh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ki(bt),it(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return rn(i),null;case 13:if(Li(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(wt),null;case 4:return it(),null;case 10:return ki(i.type),null;case 22:case 23:return Li(i),ff(),t!==null&&oe(bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ki(bt),null;case 25:return null;default:return null}}function M_(t,i){switch(Zh(i),i.tag){case 3:ki(bt),it();break;case 26:case 27:case 5:rn(i);break;case 4:it();break;case 13:Li(i);break;case 19:oe(wt);break;case 10:ki(i.type);break;case 22:case 23:Li(i),ff(),t!==null&&oe(bs);break;case 24:ki(bt)}}function Zo(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){et(i,i.return,T)}}function dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var O=a,B=T;try{B()}catch(Y){et(h,O,Y)}}}l=l.next}while(l!==d)}}catch(Y){et(i,i.return,Y)}}function x_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ep(i,a)}catch(l){et(t,t.return,l)}}}function V_(t,i,a){a.props=Rs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function Wo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function P_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function Bf(t,i,a){try{var l=t.stateNode;YS(l,t.type,a,i),l[gt]=i}catch(h){et(t,t.return,h)}}function k_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Tr(t.type)||t.tag===4}function zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uc));else if(l!==4&&(l===27&&Tr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(qf(t,i,a),t=t.sibling;t!==null;)qf(t,i,a),t=t.sibling}function Wu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Tr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wu(t,i,a),t=t.sibling;t!==null;)Wu(t,i,a),t=t.sibling}function U_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,l,a),i[Tt]=t,i[gt]=a}catch(d){et(t,t.return,d)}}var zi=!1,dt=!1,Hf=!1,L_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function CS(t,i){if(t=t.containerInfo,dd=pc,t=Xg(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,O=-1,B=0,Y=0,Z=t,z=null;t:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(O=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)z=Z,Z=q;for(;;){if(Z===t)break t;if(z===a&&++B===h&&(T=v),z===d&&++Y===l&&(O=v),(q=Z.nextSibling)!==null)break;Z=z,z=Z.parentNode}Z=q}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:t,selectionRange:a},pc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Rs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){et(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)_d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function j_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),l&4&&Zo(5,a);break;case 1:if(mr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=Rs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&x_(a),l&512&&Wo(a,a.return);break;case 3:if(mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ep(t,i)}catch(v){et(a,a.return,v)}}break;case 27:i===null&&l&4&&U_(a);case 26:case 5:mr(t,a),i===null&&l&4&&P_(a),l&512&&Wo(a,a.return);break;case 12:mr(t,a);break;case 13:mr(t,a),l&4&&q_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=US.bind(null,a),tb(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||dt,h=zi;var d=dt;zi=l,(dt=i)&&!d?gr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),zi=h,dt=d}break;case 30:break;default:mr(t,a)}}function B_(t){var i=t.alternate;i!==null&&(t.alternate=null,B_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&nr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,an=!1;function qi(t,i,a){for(a=a.child;a!==null;)z_(t,i,a),a=a.sibling}function z_(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||si(a,i),qi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||si(a,i);var l=st,h=an;Tr(a.type)&&(st=a.stateNode,an=!1),qi(t,i,a),ol(a.stateNode),st=l,an=h;break;case 5:dt||si(a,i);case 6:if(l=st,h=an,st=null,qi(t,i,a),st=l,an=h,st!==null)if(an)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:st!==null&&(an?(t=st,Ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),gl(t)):Ny(st,a.stateNode));break;case 4:l=st,h=an,st=a.stateNode.containerInfo,an=!0,qi(t,i,a),st=l,an=h;break;case 0:case 11:case 14:case 15:dt||dr(2,a,i),dt||dr(4,a,i),qi(t,i,a);break;case 1:dt||(si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&V_(a,i,l)),qi(t,i,a);break;case 21:qi(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,qi(t,i,a),dt=l;break;default:qi(t,i,a)}}function q_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gl(t)}catch(a){et(i,i.return,a)}}function NS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new L_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new L_),i;default:throw Error(s(435,t.tag))}}function Ff(t,i){var a=NS(t);i.forEach(function(l){var h=LS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Tr(T.type)){st=T.stateNode,an=!1;break e}break;case 5:st=T.stateNode,an=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(st===null)throw Error(s(160));z_(d,v,h),st=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)H_(i,t),i=i.sibling}var Ln=null;function H_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),gn(t),l&4&&(dr(3,t,t.return),Zo(3,t),dr(5,t,t.return));break;case 1:mn(i,t),gn(t),l&512&&(dt||a===null||si(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(mn(i,t),gn(t),l&512&&(dt||a===null||si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ts]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[Tt]=t,ht(d),l=d;break e;case"link":var v=Uy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Uy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,ht(d),l=d}t.stateNode=l}else Ly(h,t.type,t.stateNode);else t.stateNode=ky(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ly(h,t.type,t.stateNode):ky(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),gn(t),l&512&&(dt||a===null||si(a,a.return)),a!==null&&l&4&&Bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),gn(t),l&512&&(dt||a===null||si(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(q){et(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Bf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(mn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){et(t,t.return,q)}}break;case 3:if(dc=null,h=Ln,Ln=hc(i.containerInfo),mn(i,t),Ln=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(q){et(t,t.return,q)}Hf&&(Hf=!1,F_(t));break;case 4:l=Ln,Ln=hc(t.stateNode.containerInfo),mn(i,t),gn(t),Ln=l;break;case 12:mn(i,t),gn(t);break;case 13:mn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($f=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ff(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,B=zi,Y=dt;if(zi=B||h,dt=Y||O,mn(i,t),dt=Y,zi=B,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||zi||dt||Is(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=O.stateNode;var Z=O.memoizedProps.style,z=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(q){et(O,O.return,q)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(q){et(O,O.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ff(t,a))));break;case 19:mn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ff(t,l)));break;case 30:break;case 21:break;default:mn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(k_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=zf(t);Wu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var T=zf(t);Wu(t,T,v);break;case 3:case 4:var O=a.stateNode.containerInfo,B=zf(t);qf(t,B,O);break;default:throw Error(s(161))}}catch(Y){et(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function F_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;F_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function mr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)j_(t,i.alternate,i),i=i.sibling}function Is(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:dr(4,i,i.return),Is(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&V_(i,i.return,a),Is(i);break;case 27:ol(i.stateNode);case 26:case 5:si(i,i.return),Is(i);break;case 22:i.memoizedState===null&&Is(i);break;case 30:Is(i);break;default:Is(i)}t=t.sibling}}function gr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:gr(h,d,a),Zo(4,d);break;case 1:if(gr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){et(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)vp(O[h],T)}catch(B){et(l,l.return,B)}}a&&v&64&&x_(d),Wo(d,d.return);break;case 27:U_(d);case 26:case 5:gr(h,d,a),a&&l===null&&v&4&&P_(d),Wo(d,d.return);break;case 12:gr(h,d,a);break;case 13:gr(h,d,a),a&&v&4&&q_(h,d);break;case 22:d.memoizedState===null&&gr(h,d,a),Wo(d,d.return);break;case 30:break;default:gr(h,d,a)}i=i.sibling}}function Gf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Uo(a))}function Kf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Uo(t))}function ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)G_(t,i,a,l),i=i.sibling}function G_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,l),h&2048&&Zo(9,i);break;case 1:ai(t,i,a,l);break;case 3:ai(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Uo(t)));break;case 12:if(h&2048){ai(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){et(i,i.return,O)}}else ai(t,i,a,l);break;case 13:ai(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,a,l):Jo(t,i):d._visibility&2?ai(t,i,a,l):(d._visibility|=2,wa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Gf(v,i);break;case 24:ai(t,i,a,l),h&2048&&Kf(i.alternate,i);break;default:ai(t,i,a,l)}}function wa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,O=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:wa(d,v,T,O,h),Zo(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?wa(d,v,T,O,h):Jo(d,v):(Y._visibility|=2,wa(d,v,T,O,h)),h&&B&2048&&Gf(v.alternate,v);break;case 24:wa(d,v,T,O,h),h&&B&2048&&Kf(v.alternate,v);break;default:wa(d,v,T,O,h)}i=i.sibling}}function Jo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Jo(a,l),h&2048&&Gf(l.alternate,l);break;case 24:Jo(a,l),h&2048&&Kf(l.alternate,l);break;default:Jo(a,l)}i=i.sibling}}var el=8192;function Ra(t){if(t.subtreeFlags&el)for(t=t.child;t!==null;)K_(t),t=t.sibling}function K_(t){switch(t.tag){case 26:Ra(t),t.flags&el&&t.memoizedState!==null&&mb(Ln,t.memoizedState,t.memoizedProps);break;case 5:Ra(t);break;case 3:case 4:var i=Ln;Ln=hc(t.stateNode.containerInfo),Ra(t),Ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=el,el=16777216,Ra(t),el=i):Ra(t));break;default:Ra(t)}}function Q_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,X_(l,t)}Q_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Y_(t),t=t.sibling}function Y_(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&dr(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ju(t)):tl(t);break;default:tl(t)}}function Ju(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,X_(l,t)}Q_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:dr(8,i,i.return),Ju(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ju(i));break;default:Ju(i)}t=t.sibling}}function X_(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(B_(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var DS={getCacheForType:function(t){var i=Qt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},OS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,xe=null,ze=0,Xe=0,pn=null,pr=!1,Ia=!1,Qf=!1,Hi=0,ct=0,_r=0,Cs=0,Yf=0,On=0,Ca=0,nl=null,on=null,Xf=!1,$f=0,ec=1/0,tc=null,yr=null,jt=0,vr=null,Na=null,Da=0,Zf=0,Wf=null,$_=null,il=0,Jf=null;function _n(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(G.T!==null){var t=_a;return t!==0?t:ad()}return er()}function Z_(){On===0&&(On=(ze&536870912)===0||Fe?ho():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),On}function yn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),Er(t,ze,On,!1)),Ti(t,a),((Ye&2)===0||t!==tt)&&(t===tt&&((Ye&2)===0&&(Cs|=a),ct===4&&Er(t,ze,On,!1)),oi(t))}function W_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||es(t,i),h=l?VS(t,i):nd(t,i,!0),d=l;do{if(h===0){Ia&&!l&&Er(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!MS(a)){h=nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=nl;var O=T.current.memoizedState.isDehydrated;if(O&&(Oa(T,v).flags|=256),v=nd(T,v,!1),v!==2){if(Qf&&!O){T.errorRecoveryDisabledLanes|=d,Cs|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Oa(t,0),Er(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Er(l,i,On,!pr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=$f+300-En(),10<h)){if(Er(l,i,On,!pr),Ys(l,0,!0)!==0)break e;l.timeoutHandle=Iy(J_.bind(null,l,a,on,tc,Xf,i,On,Cs,Ca,pr,d,2,-0,0),h);break e}J_(l,a,on,tc,Xf,i,On,Cs,Ca,pr,d,0,-0,0)}}break}while(!0);oi(t)}function J_(t,i,a,l,h,d,v,T,O,B,Y,Z,z,q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:db},K_(i),Z=gb(),Z!==null)){t.cancelPendingCommit=Z(ay.bind(null,t,i,d,a,l,h,v,T,O,Y,1,z,q)),Er(t,d,v,!B);return}ay(t,i,d,a,l,h,v,T,O)}function MS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Er(t,i,a,l){i&=~Yf,i&=~Cs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Kn(t,a,i)}function nc(){return(Ye&6)===0?(rl(0),!1):!0}function ed(){if(xe!==null){if(Xe===0)var t=xe.return;else t=xe,Pi=As=null,_f(t),Sa=null,Yo=0,t=xe;for(;t!==null;)M_(t.alternate,t),t=t.return;xe=null}}function Oa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$S(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ed(),tt=t,xe=a=Mi(t.current,null),ze=i,Xe=0,pn=null,pr=!1,Ia=es(t,i),Qf=!1,Ca=On=Yf=Cs=_r=ct=0,on=nl=null,Xf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Kt(l),d=1<<h;i|=t[h],l&=~d}return Hi=i,bu(),a}function ey(t,i){De=null,G.H=Hu,i===jo||i===xu?(i=_p(),Xe=3):i===mp?(i=_p(),Xe=4):Xe=i===y_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,xe===null&&(ct=1,Yu(t,Rn(i,t.current)))}function ty(){var t=G.H;return G.H=Hu,t===null?Hu:t}function ny(){var t=G.A;return G.A=DS,t}function td(){ct=4,pr||(ze&4194048)!==ze&&Dn.current!==null||(Ia=!0),(_r&134217727)===0&&(Cs&134217727)===0||tt===null||Er(tt,ze,On,!1)}function nd(t,i,a){var l=Ye;Ye|=2;var h=ty(),d=ny();(tt!==t||ze!==i)&&(tc=null,Oa(t,i)),i=!1;var v=ct;e:do try{if(Xe!==0&&xe!==null){var T=xe,O=pn;switch(Xe){case 8:ed(),v=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var B=Xe;if(Xe=0,pn=null,Ma(t,T,O,B),a&&Ia){v=0;break e}break;default:B=Xe,Xe=0,pn=null,Ma(t,T,O,B)}}xS(),v=ct;break}catch(Y){ey(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Pi=As=null,Ye=l,G.H=h,G.A=d,xe===null&&(tt=null,ze=0,bu()),v}function xS(){for(;xe!==null;)iy(xe)}function VS(t,i){var a=Ye;Ye|=2;var l=ty(),h=ny();tt!==t||ze!==i?(tc=null,ec=En()+500,Oa(t,i)):Ia=es(t,i);e:do try{if(Xe!==0&&xe!==null){i=xe;var d=pn;t:switch(Xe){case 1:Xe=0,pn=null,Ma(t,i,d,1);break;case 2:case 9:if(gp(d)){Xe=0,pn=null,ry(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),oi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:gp(d)?(Xe=0,pn=null,ry(i)):(Xe=0,pn=null,Ma(t,i,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var T=xe;if(!v||jy(v)){Xe=0,pn=null;var O=T.sibling;if(O!==null)xe=O;else{var B=T.return;B!==null?(xe=B,ic(B)):xe=null}break t}}Xe=0,pn=null,Ma(t,i,d,5);break;case 6:Xe=0,pn=null,Ma(t,i,d,6);break;case 8:ed(),ct=6;break e;default:throw Error(s(462))}}PS();break}catch(Y){ey(t,Y)}while(!0);return Pi=As=null,G.H=l,G.A=h,Ye=a,xe!==null?0:(tt=null,ze=0,bu(),ct)}function PS(){for(;xe!==null&&!oo();)iy(xe)}function iy(t){var i=D_(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,i===null?ic(t):xe=i}function ry(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=b_(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=b_(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:_f(i);default:M_(a,i),i=xe=sp(i,Hi),i=D_(a,i,Hi)}t.memoizedProps=t.pendingProps,i===null?ic(t):xe=i}function Ma(t,i,a,l){Pi=As=null,_f(i),Sa=null,Yo=0;var h=i.return;try{if(bS(t,h,i,a,ze)){ct=1,Yu(t,Rn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ct=1,Yu(t,Rn(a,t.current)),xe=null;return}i.flags&32768?(Fe||l===1?t=!0:Ia||(ze&536870912)!==0?t=!1:(pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(i,t)):ic(i)}function ic(t){var i=t;do{if((i.flags&32768)!==0){sy(i,pr);return}t=i.return;var a=RS(i.alternate,i,Hi);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ct===0&&(ct=5)}function sy(t,i){do{var a=IS(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ct=6,xe=null}function ay(t,i,a,l,h,d,v,T,O){t.cancelPendingCommit=null;do rc();while(jt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Gh,mo(t,a,d,v,T,O),t===tt&&(xe=tt=null,ze=0),Na=i,vr=t,Da=a,Zf=d,Wf=h,$_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jS($r,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ue.p,ue.p=2,v=Ye,Ye|=4;try{CS(t,i,a)}finally{Ye=v,ue.p=h,G.T=l}}jt=1,oy(),ly(),uy()}}function oy(){if(jt===1){jt=0;var t=vr,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ue.p;ue.p=2;var h=Ye;Ye|=4;try{H_(i,t);var d=md,v=Xg(t.containerInfo),T=d.focusedElem,O=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Yg(T.ownerDocument.documentElement,T)){if(O!==null&&Bh(T)){var B=O.start,Y=O.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,z=Z&&Z.defaultView||window;if(z.getSelection){var q=z.getSelection(),be=T.textContent.length,Te=Math.min(O.start,be),Je=O.end===void 0?Te:Math.min(O.end,be);!q.extend&&Te>Je&&(v=Je,Je=Te,Te=v);var U=Qg(T,Te),P=Qg(T,Je);if(U&&P&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==P.node||q.focusOffset!==P.offset)){var j=Z.createRange();j.setStart(U.node,U.offset),q.removeAllRanges(),Te>Je?(q.addRange(j),q.extend(P.node,P.offset)):(j.setEnd(P.node,P.offset),q.addRange(j))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}pc=!!dd,md=dd=null}finally{Ye=h,ue.p=l,G.T=a}}t.current=i,jt=2}}function ly(){if(jt===2){jt=0;var t=vr,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ue.p;ue.p=2;var h=Ye;Ye|=4;try{j_(t,i.alternate,i)}finally{Ye=h,ue.p=l,G.T=a}}jt=3}}function uy(){if(jt===4||jt===3){jt=0,Jl();var t=vr,i=Na,a=Da,l=$_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Na=vr=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(yr=null),Xs(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=ue.p,ue.p=2,G.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,ue.p=h}}(Da&3)!==0&&rc(),oi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Jf?il++:(il=0,Jf=t):il=0,rl(0)}}function cy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Uo(i)))}function rc(t){return oy(),ly(),uy(),hy()}function hy(){if(jt!==5)return!1;var t=vr,i=Zf;Zf=0;var a=Xs(Da),l=G.T,h=ue.p;try{ue.p=32>a?32:a,G.T=null,a=Wf,Wf=null;var d=vr,v=Da;if(jt=0,Na=vr=null,Da=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,Y_(d.current),G_(d,d.current,v,a),Ye=T,rl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ue.p=h,G.T=l,cy(t,i)}}function fy(t,i,a){i=Rn(a,i),i=Of(t.stateNode,i,2),t=ur(t,i,2),t!==null&&(Ti(t,2),oi(t))}function et(t,i,a){if(t.tag===3)fy(t,t,a);else for(;i!==null;){if(i.tag===3){fy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yr===null||!yr.has(l))){t=Rn(a,t),a=p_(2),l=ur(i,a,2),l!==null&&(__(a,l,i,t),Ti(l,2),oi(l));break}}i=i.return}}function id(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new OS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Qf=!0,h.add(a),t=kS.bind(null,t,i,a),i.then(t,t))}function kS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(ze&a)===a&&(ct===4||ct===3&&(ze&62914560)===ze&&300>En()-$f?(Ye&2)===0&&Oa(t,0):Yf|=a,Ca===ze&&(Ca=0)),oi(t)}function dy(t,i){i===0&&(i=fo()),t=da(t,i),t!==null&&(Ti(t,i),oi(t))}function US(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),dy(t,a)}function LS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),dy(t,a)}function jS(t,i){return Yr(t,i)}var sc=null,xa=null,rd=!1,ac=!1,sd=!1,Ns=0;function oi(t){t!==xa&&t.next===null&&(xa===null?sc=xa=t:xa=xa.next=t),ac=!0,rd||(rd=!0,zS())}function rl(t,i){if(!sd&&ac){sd=!0;do for(var a=!1,l=sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,_y(l,d))}else d=ze,d=Ys(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||es(l,d)||(a=!0,_y(l,d));l=l.next}while(a);sd=!1}}function BS(){my()}function my(){ac=rd=!1;var t=0;Ns!==0&&(XS()&&(t=Ns),Ns=0);for(var i=En(),a=null,l=sc;l!==null;){var h=l.next,d=gy(l,i);d===0?(l.next=null,a===null?sc=h:a.next=h,h===null&&(xa=a)):(a=l,(t!==0||(d&3)!==0)&&(ac=!0)),l=h}rl(t)}function gy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Kt(d),T=1<<v,O=h[v];O===-1?((T&a)===0||(T&l)!==0)&&(h[v]=co(T,i)):O<=i&&(t.expiredLanes|=T),d&=~T}if(i=tt,a=ze,a=Ys(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||es(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Xr(l),Xs(a)){case 2:case 8:a=Ks;break;case 32:a=$r;break;case 268435456:a=Qs;break;default:a=$r}return l=py.bind(null,t),a=Yr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Xr(l),t.callbackPriority=2,t.callbackNode=null,2}function py(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(rc()&&t.callbackNode!==a)return null;var l=ze;return l=Ys(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(W_(t,l,i),gy(t,En()),t.callbackNode!=null&&t.callbackNode===a?py.bind(null,t):null)}function _y(t,i){if(rc())return null;W_(t,i,!0)}function zS(){ZS(function(){(Ye&6)!==0?Yr(lo,BS):my()})}function ad(){return Ns===0&&(Ns=ho()),Ns}function yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ta(""+t)}function vy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function qS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=yy((h[gt]||null).action),v=l.submitter;v&&(i=(i=v[gt]||null)?yy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new na("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var O=v?vy(h,v):new FormData(h);Rf(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=v?vy(h,v):new FormData(h),Rf(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var od=0;od<Fh.length;od++){var ld=Fh[od],HS=ld.toLowerCase(),FS=ld[0].toUpperCase()+ld.slice(1);Un(HS,"on"+FS)}Un(Wg,"onAnimationEnd"),Un(Jg,"onAnimationIteration"),Un(ep,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(oS,"onTransitionRun"),Un(lS,"onTransitionStart"),Un(uS,"onTransitionCancel"),Un(tp,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Ey(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],O=T.instance,B=T.currentTarget;if(T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){Qu(Y)}h.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(T=l[v],O=T.instance,B=T.currentTarget,T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){Qu(Y)}h.currentTarget=null,d=O}}}}function Ve(t,i){var a=i[po];a===void 0&&(a=i[po]=new Set);var l=t+"__bubble";a.has(l)||(Ty(i,t,2,!1),a.add(l))}function ud(t,i,a){var l=0;i&&(l|=4),Ty(a,t,l,i)}var oc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[oc]){t[oc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(GS.has(a)||ud(a,!1,t),ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[oc]||(i[oc]=!0,ud("selectionchange",!1,i))}}function Ty(t,i,a,l){switch(Gy(i)){case 2:var h=yb;break;case 8:h=vb;break;default:h=bd}a=h.bind(null,i,a,t),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ai(T),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}T=T.parentNode}}l=l.return}uu(function(){var B=d,Y=Sn(a),Z=[];e:{var z=np.get(t);if(z!==void 0){var q=na,be=t;switch(t){case"keypress":if(Wn(a)===0)break e;case"keydown":case"keyup":q=la;break;case"focusin":be="focus",q=sa;break;case"focusout":be="blur",q=sa;break;case"beforeblur":case"afterblur":q=sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=_u;break;case Wg:case Jg:case ep:q=aa;break;case tp:q=vu;break;case"scroll":case"scrollend":q=cu;break;case"wheel":q=ua;break;case"copy":case"cut":case"paste":q=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=No;break;case"toggle":case"beforetoggle":q=Tu}var Te=(i&4)!==0,Je=!Te&&(t==="scroll"||t==="scrollend"),U=Te?z!==null?z+"Capture":null:z;Te=[];for(var P=B,j;P!==null;){var $=P;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||U===null||($=ls(P,U),$!=null&&Te.push(al(P,$,j))),Je)break;P=P.return}0<Te.length&&(z=new q(z,be,null,a,Y),Z.push({event:z,listeners:Te}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Ri&&(be=a.relatedTarget||a.fromElement)&&(Ai(be)||be[Tn]))break e;if((q||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,q?(be=a.relatedTarget||a.toElement,q=B,be=be?Ai(be):null,be!==null&&(Je=u(be),Te=be.tag,be!==Je||Te!==5&&Te!==27&&Te!==6)&&(be=null)):(q=null,be=B),q!==be)){if(Te=wn,$="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Te=No,$="onPointerLeave",U="onPointerEnter",P="pointer"),Je=q==null?z:Yn(q),j=be==null?z:Yn(be),z=new Te($,P+"leave",q,a,Y),z.target=Je,z.relatedTarget=j,$=null,Ai(Y)===B&&(Te=new Te(U,P+"enter",be,a,Y),Te.target=j,Te.relatedTarget=Je,$=Te),Je=$,q&&be)t:{for(Te=q,U=be,P=0,j=Te;j;j=Va(j))P++;for(j=0,$=U;$;$=Va($))j++;for(;0<P-j;)Te=Va(Te),P--;for(;0<j-P;)U=Va(U),j--;for(;P--;){if(Te===U||U!==null&&Te===U.alternate)break t;Te=Va(Te),U=Va(U)}Te=null}else Te=null;q!==null&&Ay(Z,z,q,Te,!1),be!==null&&Je!==null&&Ay(Z,Je,be,Te,!0)}}e:{if(z=B?Yn(B):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var ge=zg;else if(St(z))if(qg)ge=rS;else{ge=nS;var Me=tS}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?B&&Ao(B.elementType)&&(ge=zg):ge=iS;if(ge&&(ge=ge(t,B))){Oi(Z,ge,a,Y);break e}Me&&Me(t,z,B),t==="focusout"&&B&&z.type==="number"&&B.memoizedProps.value!=null&&rr(z,"number",z.value)}switch(Me=B?Yn(B):window,t){case"focusin":(St(Me)||Me.contentEditable==="true")&&(ca=Me,zh=B,Mo=null);break;case"focusout":Mo=zh=ca=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,$g(Z,a,Y);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":$g(Z,a,Y)}var ye;if(ti)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else je?F(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(y&&a.locale!=="ko"&&(je||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&je&&(ye=bo()):(Zn=Y,sr="value"in Zn?Zn.value:Zn.textContent,je=!0)),Me=lc(B,Ae),0<Me.length&&(Ae=new Io(Ae,t,null,a,Y),Z.push({event:Ae,listeners:Me}),ye?Ae.data=ye:(ye=ae(a),ye!==null&&(Ae.data=ye)))),(ye=p?At(t,a):Be(t,a))&&(Ae=lc(B,"onBeforeInput"),0<Ae.length&&(Me=new Io("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Me,listeners:Ae}),Me.data=ye)),qS(Z,t,B,a,Y)}Ey(Z,i)})}function al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function lc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ls(t,a),h!=null&&l.unshift(al(t,h,d)),h=ls(t,i),h!=null&&l.push(al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ay(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,O=T.alternate,B=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||B===null||(O=B,h?(B=ls(a,d),B!=null&&v.unshift(al(a,B,O))):h||(B=ls(a,d),B!=null&&v.push(al(a,B,O)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var KS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(KS,`
`).replace(QS,"")}function by(t,i){return i=Sy(i),Sy(t)===i}function uc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":Xn(t,"class",l);break;case"tabIndex":Xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(t,a,l);break;case"style":To(t,l,d);break;case"data":if(i!=="object"){Xn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=uc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vh.get(a)||a,ir(t,a,l))}}function fd(t,i,a,l,h,d){switch(a){case"style":To(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ir(t,a,l)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=v=h=null,O=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":O=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:We(t,i,l,Y,a,null)}}ss(t,d,T,O,B,v,h,!1),ea(t);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:We(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?wi(t,!!l,i,!1):a!=null&&wi(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,i,v,T,a,null)}as(t,l,h,d),ea(t);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,O,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<sl.length;l++)Ve(sl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,B,l,a,null)}return;default:if(Ao(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&fd(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,i,T,l,a,null))}function YS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,O=null,B=null,Y=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":O=Z;default:l.hasOwnProperty(q)||We(t,i,q,null,l,Z)}}for(var z in l){var q=l[z];if(Z=a[z],l.hasOwnProperty(z)&&(q!=null||Z!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Z&&We(t,i,z,q,l,Z)}}hn(t,v,T,O,B,Y,d,h);return;case"select":q=v=T=z=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":q=O;default:l.hasOwnProperty(d)||We(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==O&&We(t,i,h,d,l,O)}i=T,a=v,l=q,z!=null?wi(t,!!a,z,!1):!!l!=!!a&&(i!=null?wi(t,!!a,i,!0):wi(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}$e(t,z,q);return;case"option":for(var be in a)if(z=a[be],a.hasOwnProperty(be)&&z!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:We(t,i,be,null,l,z)}for(O in l)if(z=l[O],q=a[O],l.hasOwnProperty(O)&&z!==q&&(z!=null||q!=null))switch(O){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(t,i,O,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)z=a[Te],a.hasOwnProperty(Te)&&z!=null&&!l.hasOwnProperty(Te)&&We(t,i,Te,null,l,z);for(B in l)if(z=l[B],q=a[B],l.hasOwnProperty(B)&&z!==q&&(z!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:We(t,i,B,z,l,q)}return;default:if(Ao(i)){for(var Je in a)z=a[Je],a.hasOwnProperty(Je)&&z!==void 0&&!l.hasOwnProperty(Je)&&fd(t,i,Je,void 0,l,z);for(Y in l)z=l[Y],q=a[Y],!l.hasOwnProperty(Y)||z===q||z===void 0&&q===void 0||fd(t,i,Y,z,l,q);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,z);for(Z in l)z=l[Z],q=a[Z],!l.hasOwnProperty(Z)||z===q||z==null&&q==null||We(t,i,Z,z,l,q)}var dd=null,md=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pd=null;function XS(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,ZS=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(WS)}:Iy;function WS(t){setTimeout(function(){throw t})}function Tr(t){return t==="head"}function Ny(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&ol(v.documentElement),a&2&&ol(v.body),a&4)for(a=v.head,ol(a),v=a.firstChild;v;){var T=v.nextSibling,O=v.nodeName;v[ts]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),gl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);gl(i)}function _d(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function JS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ts])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function eb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var vd=null;function Dy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Oy(t,i,a){switch(i=cc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nr(t)}var Mn=new Map,My=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=ue.d;ue.d={f:nb,r:ib,D:rb,C:sb,L:ab,m:ob,X:ub,S:lb,M:cb};function nb(){var t=Fi.f(),i=nc();return t||i}function ib(t){var i=Qn(t);i!==null&&i.tag===5&&i.type==="form"?Wp(i):Fi.r(t)}var Pa=typeof document>"u"?null:document;function xy(t,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),My.has(h)||(My.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),ht(i),l.head.appendChild(i)))}}function rb(t){Fi.D(t),xy("dns-prefetch",t,null)}function sb(t,i){Fi.C(t,i),xy("preconnect",t,i)}function ab(t,i,a){Fi.L(t,i,a);var l=Pa;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=ka(t);break;case"script":d=Ua(t)}Mn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ll(d))||i==="script"&&l.querySelector(ul(d))||(i=l.createElement("link"),Bt(i,"link",t),ht(i),l.head.appendChild(i)))}}function ob(t,i){Fi.m(t,i);var a=Pa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ua(t)}if(!Mn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(d)))return}l=a.createElement("link"),Bt(l,"link",t),ht(l),a.head.appendChild(l)}}}function lb(t,i,a){Fi.S(t,i,a);var l=Pa;if(l&&t){var h=Jt(l).hoistableStyles,d=ka(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ll(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(d))&&Ed(t,a);var O=v=l.createElement("link");ht(O),Bt(O,"link",t),O._p=new Promise(function(B,Y){O.onload=B,O.onerror=Y}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function ub(t,i){Fi.X(t,i);var a=Pa;if(a&&t){var l=Jt(a).hoistableScripts,h=Ua(t),d=l.get(h);d||(d=a.querySelector(ul(h)),d||(t=E({src:t,async:!0},i),(i=Mn.get(h))&&Td(t,i),d=a.createElement("script"),ht(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cb(t,i){Fi.M(t,i);var a=Pa;if(a&&t){var l=Jt(a).hoistableScripts,h=Ua(t),d=l.get(h);d||(d=a.querySelector(ul(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&Td(t,i),d=a.createElement("script"),ht(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Vy(t,i,a,l){var h=(h=he.current)?hc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=Jt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ka(a.href);var d=Jt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ll(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||hb(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ua(a),a=Jt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ka(t){return'href="'+pt(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function hb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),ht(i),t.head.appendChild(i))}function Ua(t){return'[src="'+pt(t)+'"]'}function ul(t){return"script[async]"+t}function ky(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),Bt(l,"style",h),fc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ka(a.href);var d=t.querySelector(ll(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=Py(a),(h=Mn.get(h))&&Ed(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,O){v.onload=T,v.onerror=O}),Bt(d,"link",l),i.state.loading|=4,fc(d,a.precedence,t),i.instance=d;case"script":return d=Ua(a.src),(h=t.querySelector(ul(d)))?(i.instance=h,ht(h),h):(l=a,(h=Mn.get(d))&&(l=E({},a),Td(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fc(l,a.precedence,t));return i.instance}function fc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ed(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Td(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var dc=null;function Uy(t,i,a){if(dc===null){var l=new Map,h=dc=new Map;h.set(a,l)}else h=dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ts]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Ly(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function fb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function db(){}function mb(t,i,a){if(cl===null)throw Error(s(475));var l=cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),d=t.querySelector(ll(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=Py(a),(h=Mn.get(h))&&Ed(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,O){v.onload=T,v.onerror=O}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=mc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function gb(){if(cl===null)throw Error(s(475));var t=cl;return t.stylesheets&&t.count===0&&Ad(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Ad(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)Ad(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function Ad(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,i.forEach(pb,t),gc=null,mc.call(t))}function pb(t,i){if(!(i.state.loading&4)){var a=gc.get(t);if(a)var l=a.get(null);else{a=new Map,gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var hl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function _b(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function By(t,i,a,l,h,d,v,T,O,B,Y,Z){return t=new _b(t,i,a,v,T,O,B,Z),i=1,d===!0&&(i|=24),d=dn(3,null,null,i),t.current=d,d.stateNode=t,i=nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},of(d),t}function zy(t){return t?(t=ma,t):ma}function qy(t,i,a,l,h,d){h=zy(h),l.context===null?l.context=h:l.pendingContext=h,l=lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ur(t,l,i),a!==null&&(yn(a,t,i),zo(a,t,i))}function Hy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Sd(t,i){Hy(t,i),(t=t.alternate)&&Hy(t,i)}function Fy(t){if(t.tag===13){var i=da(t,67108864);i!==null&&yn(i,t,67108864),Sd(t,67108864)}}var pc=!0;function yb(t,i,a,l){var h=G.T;G.T=null;var d=ue.p;try{ue.p=2,bd(t,i,a,l)}finally{ue.p=d,G.T=h}}function vb(t,i,a,l){var h=G.T;G.T=null;var d=ue.p;try{ue.p=8,bd(t,i,a,l)}finally{ue.p=d,G.T=h}}function bd(t,i,a,l){if(pc){var h=wd(l);if(h===null)hd(t,i,l,_c,a),Ky(t,l);else if(Tb(h,t,i,a,l))l.stopPropagation();else if(Ky(t,l),i&4&&-1<Eb.indexOf(t)){for(;h!==null;){var d=Qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var O=1<<31-Kt(v);T.entanglements[1]|=O,v&=~O}oi(d),(Ye&6)===0&&(ec=En()+500,rl(0))}}break;case 13:T=da(d,2),T!==null&&yn(T,d,2),nc(),Sd(d,2)}if(d=wd(l),d===null&&hd(t,i,l,_c,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else hd(t,i,l,null,a)}}function wd(t){return t=Sn(t),Rd(t)}var _c=null;function Rd(t){if(_c=null,t=Ai(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return _c=t,null}function Gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ch()){case lo:return 2;case Ks:return 8;case $r:case Nh:return 32;case Qs:return 268435456;default:return 32}default:return 32}}var Id=!1,Ar=null,Sr=null,br=null,fl=new Map,dl=new Map,wr=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(t,i){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Qn(i),i!==null&&Fy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Tb(t,i,a,l,h){switch(i){case"focusin":return Ar=ml(Ar,t,i,a,l,h),!0;case"dragenter":return Sr=ml(Sr,t,i,a,l,h),!0;case"mouseover":return br=ml(br,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return fl.set(d,ml(fl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,dl.set(d,ml(dl.get(d)||null,t,i,a,l,h)),!0}return!1}function Qy(t){var i=Ai(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,nu(t.priority,function(){if(a.tag===13){var l=_n();l=Ji(l);var h=da(a,l);h!==null&&yn(h,a,l),Sd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ri=l,a.target.dispatchEvent(l),Ri=null}else return i=Qn(a),i!==null&&Fy(i),t.blockedOn=a,!1;i.shift()}return!0}function Yy(t,i,a){yc(t)&&a.delete(i)}function Ab(){Id=!1,Ar!==null&&yc(Ar)&&(Ar=null),Sr!==null&&yc(Sr)&&(Sr=null),br!==null&&yc(br)&&(br=null),fl.forEach(Yy),dl.forEach(Yy)}function vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ab)))}var Ec=null;function Xy(t){Ec!==t&&(Ec=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Rd(l||a)===null)continue;break}var d=Qn(a);d!==null&&(t.splice(i,3),i-=3,Rf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function gl(t){function i(O){return vc(O,t)}Ar!==null&&vc(Ar,t),Sr!==null&&vc(Sr,t),br!==null&&vc(br,t),fl.forEach(i),dl.forEach(i);for(var a=0;a<wr.length;a++){var l=wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)Qy(a),a.blockedOn===null&&wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[gt]||null;if(typeof d=="function")v||Xy(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[gt]||null)T=v.formAction;else if(Rd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Xy(a)}}}function Cd(t){this._internalRoot=t}Tc.prototype.render=Cd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();qy(a,l,t,i,null,null)},Tc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;qy(t.current,2,null,t,null,null),nc(),i[Tn]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var i=er();t={blockedOn:null,target:t,priority:i};for(var a=0;a<wr.length&&i!==0&&i<wr[a].priority;a++);wr.splice(a,0,t),a===0&&Qy(t)}};var $y=e.version;if($y!=="19.1.0")throw Error(s(527,$y,"19.1.0"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Sb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{lt=Ac.inject(Sb),Qe=Ac}catch{}}return _l.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=f_,d=d_,v=m_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=By(t,1,!1,null,null,a,l,h,d,v,T,null),t[Tn]=i.current,cd(t),new Cd(i)},_l.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=f_,v=d_,T=m_,O=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=By(t,1,!0,i,a??null,l,h,d,v,T,O,B),i.context=zy(null),a=i.current,l=_n(),l=Ji(l),h=lr(l),h.callback=null,ur(a,h,l),a=l,i.current.lanes=a,Ti(i,a),oi(i),t[Tn]=i.current,cd(t),new Tc(i)},_l.version="19.1.0",_l}var av;function Vb(){if(av)return Od.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=xb(),Od.exports}var Pb=Vb();const kb=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ub=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,E=u>>2,I=(u&3)<<4|m>>4;let x=(m&15)<<2|_>>6,k=_&63;g||(k=64,f||(x=64)),s.push(n[E],n[I],n[x],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ub(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const I=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||I==null)throw new Lb;const x=u<<2|m>>4;if(s.push(x),_!==64){const k=m<<4&240|_>>2;if(s.push(k),I!==64){const H=_<<6&192|I;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(r){const e=yE(r);return vE.encodeByteArray(e,!0)},zc=function(r){return jb(r).replace(/\./g,"")},EE=function(r){try{return vE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=()=>Bb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Hb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&EE(r[1]);return e&&JSON.parse(e)},uh=()=>{try{return kb()||zb()||qb()||Hb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TE=r=>{var e,n;return(n=(e=uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},AE=r=>{const e=TE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},SE=()=>{var r;return(r=uh())===null||r===void 0?void 0:r.config},bE=r=>{var e;return(e=uh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[zc(JSON.stringify(n)),zc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Kb(){var r;const e=(r=uh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $b(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Zb(){return!Kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="FirebaseError";class yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ew,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?tw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new yi(o,m,s)}}function tw(r,e){return r.replace(nw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const nw=/\{\$([^}]+)}/g;function iw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ms(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(lv(u)&&lv(f)){if(!Ms(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function lv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Tl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Al(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function rw(r,e){const n=new sw(r,e);return n.subscribe.bind(n)}class sw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");aw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r){return r&&r._delegate?r._delegate:r}class Lr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Fb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uw(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lw(r){return r===Ds?void 0:r}function uw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ow(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const hw={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},fw=Pe.INFO,dw={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},mw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=dw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=fw,this._logHandler=mw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const gw=(r,e)=>e.some(n=>r instanceof n);let uv,cv;function pw(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _w(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,ym=new WeakMap,IE=new WeakMap,kd=new WeakMap,Qm=new WeakMap;function yw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Vr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&RE.set(n,r)}).catch(()=>{}),Qm.set(e,r),e}function vw(r){if(ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,e)}let vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||IE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ew(r){vm=r(vm)}function Tw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Ud(this),e,...n);return IE.set(s,e.sort?e.sort():[e]),Vr(s)}:_w().includes(r)?function(...e){return r.apply(Ud(this),e),Vr(RE.get(this))}:function(...e){return Vr(r.apply(Ud(this),e))}}function Aw(r){return typeof r=="function"?Tw(r):(r instanceof IDBTransaction&&vw(r),gw(r,pw())?new Proxy(r,vm):r)}function Vr(r){if(r instanceof IDBRequest)return yw(r);if(kd.has(r))return kd.get(r);const e=Aw(r);return e!==r&&(kd.set(r,e),Qm.set(e,r)),e}const Ud=r=>Qm.get(r);function Sw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Vr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Vr(f.result),g.oldVersion,g.newVersion,Vr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const bw=["get","getKey","getAll","getAllKeys","count"],ww=["put","add","delete","clear"],Ld=new Map;function hv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ww.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&g.done]))[0]};return Ld.set(e,u),u}Ew(r=>({...r,get:(e,n,s)=>hv(e,n)||r.get(e,n,s),has:(e,n)=>!!hv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Iw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Iw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Em="@firebase/app",fv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Km("@firebase/app"),Cw="@firebase/app-compat",Nw="@firebase/analytics-compat",Dw="@firebase/analytics",Ow="@firebase/app-check-compat",Mw="@firebase/app-check",xw="@firebase/auth",Vw="@firebase/auth-compat",Pw="@firebase/database",kw="@firebase/data-connect",Uw="@firebase/database-compat",Lw="@firebase/functions",jw="@firebase/functions-compat",Bw="@firebase/installations",zw="@firebase/installations-compat",qw="@firebase/messaging",Hw="@firebase/messaging-compat",Fw="@firebase/performance",Gw="@firebase/performance-compat",Kw="@firebase/remote-config",Qw="@firebase/remote-config-compat",Yw="@firebase/storage",Xw="@firebase/storage-compat",$w="@firebase/firestore",Zw="@firebase/vertexai",Ww="@firebase/firestore-compat",Jw="firebase",eR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="[DEFAULT]",tR={[Em]:"fire-core",[Cw]:"fire-core-compat",[Dw]:"fire-analytics",[Nw]:"fire-analytics-compat",[Mw]:"fire-app-check",[Ow]:"fire-app-check-compat",[xw]:"fire-auth",[Vw]:"fire-auth-compat",[Pw]:"fire-rtdb",[kw]:"fire-data-connect",[Uw]:"fire-rtdb-compat",[Lw]:"fire-fn",[jw]:"fire-fn-compat",[Bw]:"fire-iid",[zw]:"fire-iid-compat",[qw]:"fire-fcm",[Hw]:"fire-fcm-compat",[Fw]:"fire-perf",[Gw]:"fire-perf-compat",[Kw]:"fire-rc",[Qw]:"fire-rc-compat",[Yw]:"fire-gcs",[Xw]:"fire-gcs-compat",[$w]:"fire-fst",[Ww]:"fire-fst-compat",[Zw]:"fire-vertex","fire-js":"fire-js",[Jw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,nR=new Map,Am=new Map;function dv(r,e){try{r.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function xs(r){const e=r.name;if(Am.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,r);for(const n of qc.values())dv(n,r);for(const n of nR.values())dv(n,r);return!0}function ch(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function vn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new zl("app","Firebase",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=eR;function CE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Tm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(n||(n=SE()),!n)throw Pr.create("no-options");const u=qc.get(o);if(u){if(Ms(n,u.options)&&Ms(s,u.config))return u;throw Pr.create("duplicate-app",{appName:o})}const f=new cw(o);for(const g of Am.values())f.addComponent(g);const m=new rR(n,s,f);return qc.set(o,m),m}function Ym(r=Tm){const e=qc.get(r);if(!e&&r===Tm&&SE())return CE();if(!e)throw Pr.create("no-app",{appName:r});return e}function ci(r,e,n){var s;let o=(s=tR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(m.join(" "));return}xs(new Lr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",aR=1,Ml="firebase-heartbeat-store";let jd=null;function NE(){return jd||(jd=Sw(sR,aR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(r=>{throw Pr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function oR(r){try{const n=(await NE()).transaction(Ml),s=await n.objectStore(Ml).get(DE(r));return await n.done,s}catch(e){if(e instanceof yi)Xi.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function mv(r,e){try{const s=(await NE()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(e,DE(r)),await s.done}catch(n){if(n instanceof yi)Xi.warn(n.message);else{const s=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(s.message)}}}function DE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,uR=30;class cR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>uR){const f=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gv(),{heartbeatsToSend:s,unsentEntries:o}=hR(this._heartbeatsCache.heartbeats),u=zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Xi.warn(n),""}}}function gv(){return new Date().toISOString().substring(0,10)}function hR(r,e=lR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),pv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),pv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function pv(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function dR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(r){xs(new Lr("platform-logger",e=>new Rw(e),"PRIVATE")),xs(new Lr("heartbeat",e=>new cR(e),"PRIVATE")),ci(Em,fv,r),ci(Em,fv,"esm2017"),ci("fire-js","")}mR("");var gR="firebase",pR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(gR,pR,"app");function Xm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _R=OE,ME=new zl("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Km("@firebase/auth");function yR(r,...e){Hc.logLevel<=Pe.WARN&&Hc.warn(`Auth (${Ls}): ${r}`,...e)}function Oc(r,...e){Hc.logLevel<=Pe.ERROR&&Hc.error(`Auth (${Ls}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...e){throw $m(r,...e)}function hi(r,...e){return $m(r,...e)}function xE(r,e,n){const s=Object.assign(Object.assign({},_R()),{[e]:n});return new zl("auth","Firebase",s).create(e,{appName:r.name})}function Qi(r){return xE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ME.create(r,...e)}function Se(r,e,...n){if(!r)throw $m(e,...n)}function Gi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function $i(r,e){r||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function vR(){return _v()==="http:"||_v()==="https:"}function _v(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vR()||Yb()||"connection"in navigator)?navigator.onLine:!0}function TR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=Gb()||Xb()}get(){return ER()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r,e){$i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bR=new Hl(3e4,6e4);function Kr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Qr(r,e,n,s,o={}){return PE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ql(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:g},u);return Qb()||(_.referrerPolicy="no-referrer"),VE.fetch()(await kE(r,r.config.apiHost,n,m),_)})}async function PE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},AR),e);try{const o=new RR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Sc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Sc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw xE(r,E,_);Hn(r,E)}}catch(o){if(o instanceof yi)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function Fl(r,e,n,s,o={}){const u=await Qr(r,e,n,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function kE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Zm(r.config,o):`${r.config.apiScheme}://${o}`;return SR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function wR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),bR.get())})}}function Sc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hi(r,e,s);return o.customData._tokenResponse=n,o}function yv(r){return r!==void 0&&r.enterprise!==void 0}class IR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CR(r,e){return Qr(r,"GET","/v2/recaptchaConfig",Kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(r,e){return Qr(r,"POST","/v1/accounts:delete",e)}async function Fc(r,e){return Qr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DR(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=Wm(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Il(Bd(o.auth_time)),issuedAtTime:Il(Bd(o.iat)),expirationTime:Il(Bd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Bd(r){return Number(r)*1e3}function Wm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=EE(n);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vv(r){const e=Wm(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yi&&OR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function OR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await xl(r,Fc(n,{idToken:s}));Se(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?UE(u.providerUserInfo):[],m=VR(r.providerData,f),g=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?_:!1,I={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new bm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,I)}async function xR(r){const e=Ft(r);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function UE(r){return r.map(e=>{var{providerId:n}=e,s=Xm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(r,e){const n=await PE(r,{},async()=>{const s=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await kE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",VE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kR(r,e){return Qr(r,"POST","/v2/accounts:revokeToken",Kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=vv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await PR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Fa;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new bm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DR(this,e)}reload(){return xR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await xl(this,NR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,g,_,E;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,X=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,se=(_=n.createdAt)!==null&&_!==void 0?_:void 0,le=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:re,isAnonymous:ce,providerData:ee,stsTokenManager:N}=n;Se(ne&&N,e,"internal-error");const b=Fa.fromJSON(this.name,N);Se(typeof ne=="string",e,"internal-error"),Ir(I,e.name),Ir(x,e.name),Se(typeof re=="boolean",e,"internal-error"),Se(typeof ce=="boolean",e,"internal-error"),Ir(k,e.name),Ir(H,e.name),Ir(Q,e.name),Ir(X,e.name),Ir(se,e.name),Ir(le,e.name);const w=new Bn({uid:ne,auth:e,email:x,emailVerified:re,displayName:I,isAnonymous:ce,photoURL:H,phoneNumber:k,tenantId:Q,stsTokenManager:b,createdAt:se,lastLoginAt:le});return ee&&Array.isArray(ee)&&(w.providerData=ee.map(C=>Object.assign({},C))),X&&(w._redirectEventId=X),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new Fa;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Fa;m.updateFromIdToken(s);const g=new Bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function Ki(r){$i(r instanceof Function,"Expected a class definition");let e=Ev.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ev.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LE.type="NONE";const Tv=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ga{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fc(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ga(Ki(Tv),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Ki(Tv);const f=Mc(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const E=await _._get(f);if(E){let I;if(typeof E=="string"){const x=await Fc(e,{idToken:E}).catch(()=>{});if(!x)break;I=await Bn._fromGetAccountInfoResponse(e,x,E)}else I=Bn._fromJSON(e,E);_!==u&&(m=I),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ga(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Ga(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FE(e))return"Blackberry";if(GE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||zE(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jE(r=Wt()){return/firefox\//i.test(r)}function BE(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zE(r=Wt()){return/crios\//i.test(r)}function qE(r=Wt()){return/iemobile/i.test(r)}function HE(r=Wt()){return/android/i.test(r)}function FE(r=Wt()){return/blackberry/i.test(r)}function GE(r=Wt()){return/webos/i.test(r)}function Jm(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UR(r=Wt()){var e;return Jm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LR(){return $b()&&document.documentMode===10}function KE(r=Wt()){return Jm(r)||HE(r)||GE(r)||FE(r)||/windows phone/i.test(r)||qE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r,e=[]){let n;switch(r){case"Browser":n=Av(Wt());break;case"Worker":n=`${Av(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ls}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(r,e={}){return Qr(r,"GET","/v2/passwordPolicy",Kr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=6;class qR{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:zR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new jR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fc(this,{idToken:e}),s=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(Qi(this));const n=e?Ft(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BR(this),n=new qR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(r){return Ft(r)}class Sv{constructor(e){this.auth=e,this.observer=null,this.addObserver=rw(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FR(r){hh=r}function YE(r){return hh.loadJS(r)}function GR(){return hh.recaptchaEnterpriseScript}function KR(){return hh.gapiScript}function QR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class YR{constructor(){this.enterprise=new XR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $R="recaptcha-enterprise",XE="NO_RECAPTCHA";class ZR{constructor(e){this.type=$R,this.auth=js(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{CR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new IR(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;yv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(XE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&yv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=GR();g.length!==0&&(g+=m),YE(g).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function bv(r,e,n,s=!1,o=!1){const u=new ZR(r);let f;if(o)f=XE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await bv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await bv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r,e){const n=ch(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ms(u,e??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:e})}function JR(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function e1(r,e,n){const s=js(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$E(e),{host:f,port:m}=t1(e),g=m===null?"":`:${m}`,_={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ms(_,s.config.emulator)&&Ms(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,n1()}function $E(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function t1(r){const e=$E(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:wv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:wv(f)}}}function wv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function n1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function i1(r,e){return Qr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(r,e){return Fl(r,"POST","/v1/accounts:signInWithPassword",Kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(r,e){return Fl(r,"POST","/v1/accounts:signInWithEmailLink",Kr(r,e))}async function a1(r,e){return Fl(r,"POST","/v1/accounts:signInWithEmailLink",Kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends eg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Vl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,n,"signInWithPassword",r1);case"emailLink":return s1(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,s,"signUpPassword",i1);case"emailLink":return a1(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r,e){return Fl(r,"POST","/v1/accounts:signInWithIdp",Kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="http://localhost";class Vs extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Xm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Vs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ka(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:o1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u1(r){const e=Tl(Al(r)).link,n=e?Tl(Al(e)).deep_link_id:null,s=Tl(Al(r)).deep_link_id;return(s?Tl(Al(s)).link:null)||s||n||e||r}class tg{constructor(e){var n,s,o,u,f,m;const g=Tl(Al(e)),_=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,I=l1((o=g.mode)!==null&&o!==void 0?o:null);Se(_&&E&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=u1(e);try{return new tg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return Vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=tg.parseLink(n);return Se(s,"argument-error"),Vl._fromEmailAndCode(e,s.code,s.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends ZE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Gl{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Gl{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Gl{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(r,e){return Fl(r,"POST","/v1/accounts:signUp",Kr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Bn._fromIdTokenResponse(e,s,o),f=Rv(s);return new Ps({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Rv(s);return new Ps({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Rv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends yi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Kc(e,n,s,o)}}function WE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,u,e,s):u})}async function h1(r,e,n=!1){const s=await xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ps._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r,e,n=!1){const{auth:s}=r;if(vn(s.app))return Promise.reject(Qi(s));const o="reauthenticate";try{const u=await xl(r,WE(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Wm(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),Ps._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(r,e,n=!1){if(vn(r.app))return Promise.reject(Qi(r));const s="signIn",o=await WE(r,s,e),u=await Ps._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function d1(r,e){return JE(js(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(r){const e=js(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function m1(r,e,n){if(vn(r.app))return Promise.reject(Qi(r));const s=js(r),f=await wm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&eT(r),g}),m=await Ps._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function g1(r,e,n){return vn(r.app)?Promise.reject(Qi(r)):d1(Ft(r),to.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(r,e){return Ft(r).setPersistence(e)}function _1(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function y1(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function v1(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function E1(r){return Ft(r).signOut()}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=1e3,A1=10;class nT extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);LR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},T1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nT.type="LOCAL";const iT=nT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rT.type="SESSION";const ng=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),g=await S1(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const _=ig("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(I){const x=I;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function w1(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function R1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function C1(){return sT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebaseLocalStorageDb",N1=1,Yc="firebaseLocalStorage",oT="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(r,e){return r.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function D1(){const r=indexedDB.deleteDatabase(aT);return new Kl(r).toPromise()}function Rm(){const r=indexedDB.open(aT,N1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Yc,{keyPath:oT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Yc)?e(s):(s.close(),await D1(),e(await Rm()))})})}async function Iv(r,e,n){const s=dh(r,!0).put({[oT]:e,value:n});return new Kl(s).toPromise()}async function O1(r,e){const n=dh(r,!1).get(e),s=await new Kl(n).toPromise();return s===void 0?null:s.value}function Cv(r,e){const n=dh(r,!0).delete(e);return new Kl(n).toPromise()}const M1=800,x1=3;class lT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>x1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(C1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R1(),!this.activeServiceWorker)return;this.sender=new b1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await Iv(e,Qc,"1"),await Cv(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Iv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>O1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=dh(o,!1).getAll();return new Kl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lT.type="LOCAL";const V1=lT;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(r,e){return e?Ki(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k1(r){return JE(r.auth,new rg(r),r.bypassAuthState)}function U1(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),f1(n,new rg(r),r.bypassAuthState)}async function L1(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),h1(n,new rg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k1;case"linkViaPopup":case"linkViaRedirect":return L1;case"reauthViaPopup":case"reauthViaRedirect":return U1;default:Hn(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Hl(2e3,1e4);class Ha extends uT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j1.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="pendingRedirect",xc=new Map;class z1 extends uT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const s=await q1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q1(r,e){const n=G1(e),s=F1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function H1(r,e){xc.set(r._key(),e)}function F1(r){return Ki(r._redirectPersistence)}function G1(r){return Mc(B1,r.config.apiKey,r.name)}async function K1(r,e,n=!1){if(vn(r.app))return Promise.reject(Qi(r));const s=js(r),o=P1(s,e),f=await new z1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=10*60*1e3;class Y1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!cT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(e))}saveEventToCache(e){this.cachedEventUids.add(Nv(e)),this.lastProcessedEventTime=Date.now()}}function Nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(r,e={}){return Qr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W1=/^https?/;async function J1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await $1(r);for(const n of e)try{if(eI(n))return}catch{}Hn(r,"unauthorized-domain")}function eI(r){const e=Sm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!W1.test(n))return!1;if(Z1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Hl(3e4,6e4);function Dv(){const r=fi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nI(r){return new Promise((e,n)=>{var s,o,u;function f(){Dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dv(),n(hi(r,"network-request-failed"))},timeout:tI.get()})}if(!((o=(s=fi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=fi().gapi)===null||u===void 0)&&u.load)f();else{const m=QR("iframefcb");return fi()[m]=()=>{gapi.load?f():n(hi(r,"network-request-failed"))},YE(`${KR()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function iI(r){return Vc=Vc||nI(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Hl(5e3,15e3),sI="__/auth/iframe",aI="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Zm(e,aI):`https://${r.config.authDomain}/${sI}`,s={apiKey:e.apiKey,appName:r.name,v:Ls},o=lI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ql(s).slice(1)}`}async function cI(r){const e=await iI(r),n=fi().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:uI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hi(r,"network-request-failed"),m=fi().setTimeout(()=>{u(f)},rI.get());function g(){fi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fI=500,dI=600,mI="_blank",gI="http://localhost";class Ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pI(r,e,n,s=fI,o=dI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},hI),{width:s.toString(),height:o.toString(),top:u,left:f}),_=Wt().toLowerCase();n&&(m=zE(_)?mI:n),jE(_)&&(e=e||gI,g.scrollbars="yes");const E=Object.entries(g).reduce((x,[k,H])=>`${x}${k}=${H},`,"");if(UR(_)&&m!=="_self")return _I(e||"",m),new Ov(null);const I=window.open(e||"",m,E);Se(I,r,"popup-blocked");try{I.focus()}catch{}return new Ov(I)}function _I(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="__/auth/handler",vI="emulator/auth/handler",EI=encodeURIComponent("fac");async function Mv(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ls,eventId:o};if(e instanceof ZE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",iw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,I]of Object.entries({}))f[E]=I}if(e instanceof Gl){const E=e.getScopes().filter(I=>I!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),_=g?`#${EI}=${encodeURIComponent(g)}`:"";return`${TI(r)}?${ql(m).slice(1)}${_}`}function TI({config:r}){return r.emulator?Zm(r,vI):`https://${r.authDomain}/${yI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="webStorageSupport";class AI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ng,this._completeRedirectFn=K1,this._overrideRedirectResult=H1}async _openPopup(e,n,s,o){var u;$i((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Mv(e,n,s,Sm(),o);return pI(e,f,ig())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Mv(e,n,s,Sm(),o);return w1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($i(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cI(e),s=new Y1(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zd,{type:zd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[zd];f!==void 0&&n(!!f),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=J1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KE()||BE()||Jm()}}const SI=AI;var xv="@firebase/auth",Vv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RI(r){xs(new Lr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QE(r)},_=new HR(s,o,u,g);return JR(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xs(new Lr("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(s=>new bI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(xv,Vv,wI(r)),ci(xv,Vv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=5*60,CI=bE("authIdTokenMaxAge")||II;let Pv=null;const NI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CI)return;const o=n==null?void 0:n.token;Pv!==o&&(Pv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DI(r=Ym()){const e=ch(r,"auth");if(e.isInitialized())return e.getImmediate();const n=WR(r,{popupRedirectResolver:SI,persistence:[V1,iT,ng]}),s=bE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=NI(u.toString());y1(n,f,()=>f(n.currentUser)),_1(n,m=>f(m))}}const o=TE("auth");return o&&e1(n,`http://${o}`),n}function OI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}FR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",OI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RI("Browser");var kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,hT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function w(){}w.prototype=b.prototype,N.D=b.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(C,D,M){for(var R=Array(arguments.length-2),de=2;de<arguments.length;de++)R[de-2]=arguments[de];return b.prototype[D].apply(C,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,w){w||(w=0);var C=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)C[D]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(D=0;16>D;++D)C[D]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=N.g[0],w=N.g[1],D=N.g[2];var M=N.g[3],R=b+(M^w&(D^M))+C[0]+3614090360&4294967295;b=w+(R<<7&4294967295|R>>>25),R=M+(D^b&(w^D))+C[1]+3905402710&4294967295,M=b+(R<<12&4294967295|R>>>20),R=D+(w^M&(b^w))+C[2]+606105819&4294967295,D=M+(R<<17&4294967295|R>>>15),R=w+(b^D&(M^b))+C[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=b+(M^w&(D^M))+C[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=M+(D^b&(w^D))+C[5]+1200080426&4294967295,M=b+(R<<12&4294967295|R>>>20),R=D+(w^M&(b^w))+C[6]+2821735955&4294967295,D=M+(R<<17&4294967295|R>>>15),R=w+(b^D&(M^b))+C[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=b+(M^w&(D^M))+C[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=M+(D^b&(w^D))+C[9]+2336552879&4294967295,M=b+(R<<12&4294967295|R>>>20),R=D+(w^M&(b^w))+C[10]+4294925233&4294967295,D=M+(R<<17&4294967295|R>>>15),R=w+(b^D&(M^b))+C[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=b+(M^w&(D^M))+C[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=M+(D^b&(w^D))+C[13]+4254626195&4294967295,M=b+(R<<12&4294967295|R>>>20),R=D+(w^M&(b^w))+C[14]+2792965006&4294967295,D=M+(R<<17&4294967295|R>>>15),R=w+(b^D&(M^b))+C[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=b+(D^M&(w^D))+C[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=M+(w^D&(b^w))+C[6]+3225465664&4294967295,M=b+(R<<9&4294967295|R>>>23),R=D+(b^w&(M^b))+C[11]+643717713&4294967295,D=M+(R<<14&4294967295|R>>>18),R=w+(M^b&(D^M))+C[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=b+(D^M&(w^D))+C[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=M+(w^D&(b^w))+C[10]+38016083&4294967295,M=b+(R<<9&4294967295|R>>>23),R=D+(b^w&(M^b))+C[15]+3634488961&4294967295,D=M+(R<<14&4294967295|R>>>18),R=w+(M^b&(D^M))+C[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=b+(D^M&(w^D))+C[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=M+(w^D&(b^w))+C[14]+3275163606&4294967295,M=b+(R<<9&4294967295|R>>>23),R=D+(b^w&(M^b))+C[3]+4107603335&4294967295,D=M+(R<<14&4294967295|R>>>18),R=w+(M^b&(D^M))+C[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=b+(D^M&(w^D))+C[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=M+(w^D&(b^w))+C[2]+4243563512&4294967295,M=b+(R<<9&4294967295|R>>>23),R=D+(b^w&(M^b))+C[7]+1735328473&4294967295,D=M+(R<<14&4294967295|R>>>18),R=w+(M^b&(D^M))+C[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=b+(w^D^M)+C[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=M+(b^w^D)+C[8]+2272392833&4294967295,M=b+(R<<11&4294967295|R>>>21),R=D+(M^b^w)+C[11]+1839030562&4294967295,D=M+(R<<16&4294967295|R>>>16),R=w+(D^M^b)+C[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=b+(w^D^M)+C[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=M+(b^w^D)+C[4]+1272893353&4294967295,M=b+(R<<11&4294967295|R>>>21),R=D+(M^b^w)+C[7]+4139469664&4294967295,D=M+(R<<16&4294967295|R>>>16),R=w+(D^M^b)+C[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=b+(w^D^M)+C[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=M+(b^w^D)+C[0]+3936430074&4294967295,M=b+(R<<11&4294967295|R>>>21),R=D+(M^b^w)+C[3]+3572445317&4294967295,D=M+(R<<16&4294967295|R>>>16),R=w+(D^M^b)+C[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=b+(w^D^M)+C[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=M+(b^w^D)+C[12]+3873151461&4294967295,M=b+(R<<11&4294967295|R>>>21),R=D+(M^b^w)+C[15]+530742520&4294967295,D=M+(R<<16&4294967295|R>>>16),R=w+(D^M^b)+C[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=b+(D^(w|~M))+C[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=M+(w^(b|~D))+C[7]+1126891415&4294967295,M=b+(R<<10&4294967295|R>>>22),R=D+(b^(M|~w))+C[14]+2878612391&4294967295,D=M+(R<<15&4294967295|R>>>17),R=w+(M^(D|~b))+C[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=b+(D^(w|~M))+C[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=M+(w^(b|~D))+C[3]+2399980690&4294967295,M=b+(R<<10&4294967295|R>>>22),R=D+(b^(M|~w))+C[10]+4293915773&4294967295,D=M+(R<<15&4294967295|R>>>17),R=w+(M^(D|~b))+C[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=b+(D^(w|~M))+C[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=M+(w^(b|~D))+C[15]+4264355552&4294967295,M=b+(R<<10&4294967295|R>>>22),R=D+(b^(M|~w))+C[6]+2734768916&4294967295,D=M+(R<<15&4294967295|R>>>17),R=w+(M^(D|~b))+C[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=b+(D^(w|~M))+C[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=M+(w^(b|~D))+C[11]+3174756917&4294967295,M=b+(R<<10&4294967295|R>>>22),R=D+(b^(M|~w))+C[2]+718787259&4294967295,D=M+(R<<15&4294967295|R>>>17),R=w+(M^(D|~b))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var w=b-this.blockSize,C=this.B,D=this.h,M=0;M<b;){if(D==0)for(;M<=w;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<b;)if(C[D++]=N.charCodeAt(M++),D==this.blockSize){o(this,C),D=0;break}}else for(;M<b;)if(C[D++]=N[M++],D==this.blockSize){o(this,C),D=0;break}}this.h=D,this.o+=b},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var w=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=w&255,w/=256;for(this.u(N),N=Array(16),b=w=0;4>b;++b)for(var C=0;32>C;C+=8)N[w++]=this.g[b]>>>C&255;return N};function u(N,b){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=b(N)}function f(N,b){this.h=b;for(var w=[],C=!0,D=N.length-1;0<=D;D--){var M=N[D]|0;C&&M==b||(w[D]=M,C=!1)}this.g=w}var m={};function g(N){return-128<=N&&128>N?u(N,function(b){return new f([b|0],0>b?-1:0)}):new f([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return X(_(-N));for(var b=[],w=1,C=0;N>=w;C++)b[C]=N/w|0,w*=4294967296;return new f(b,0)}function E(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return X(E(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(b,8)),C=I,D=0;D<N.length;D+=8){var M=Math.min(8,N.length-D),R=parseInt(N.substring(D,D+M),b);8>M?(M=_(Math.pow(b,M)),C=C.j(M).add(_(R))):(C=C.j(w),C=C.add(_(R)))}return C}var I=g(0),x=g(1),k=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-X(this).m();for(var N=0,b=1,w=0;w<this.g.length;w++){var C=this.i(w);N+=(0<=C?C:4294967296+C)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(Q(this))return"-"+X(this).toString(N);for(var b=_(Math.pow(N,6)),w=this,C="";;){var D=re(w,b).g;w=se(w,D.j(b));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=D,H(w))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function Q(N){return N.h==-1}r.l=function(N){return N=se(this,N),Q(N)?-1:H(N)?0:1};function X(N){for(var b=N.g.length,w=[],C=0;C<b;C++)w[C]=~N.g[C];return new f(w,~N.h).add(x)}r.abs=function(){return Q(this)?X(this):this},r.add=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],C=0,D=0;D<=b;D++){var M=C+(this.i(D)&65535)+(N.i(D)&65535),R=(M>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);C=R>>>16,M&=65535,R&=65535,w[D]=R<<16|M}return new f(w,w[w.length-1]&-2147483648?-1:0)};function se(N,b){return N.add(X(b))}r.j=function(N){if(H(this)||H(N))return I;if(Q(this))return Q(N)?X(this).j(X(N)):X(X(this).j(N));if(Q(N))return X(this.j(X(N)));if(0>this.l(k)&&0>N.l(k))return _(this.m()*N.m());for(var b=this.g.length+N.g.length,w=[],C=0;C<2*b;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<N.g.length;D++){var M=this.i(C)>>>16,R=this.i(C)&65535,de=N.i(D)>>>16,Le=N.i(D)&65535;w[2*C+2*D]+=R*Le,le(w,2*C+2*D),w[2*C+2*D+1]+=M*Le,le(w,2*C+2*D+1),w[2*C+2*D+1]+=R*de,le(w,2*C+2*D+1),w[2*C+2*D+2]+=M*de,le(w,2*C+2*D+2)}for(C=0;C<b;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=b;C<2*b;C++)w[C]=0;return new f(w,0)};function le(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function ne(N,b){this.g=N,this.h=b}function re(N,b){if(H(b))throw Error("division by zero");if(H(N))return new ne(I,I);if(Q(N))return b=re(X(N),b),new ne(X(b.g),X(b.h));if(Q(b))return b=re(N,X(b)),new ne(X(b.g),b.h);if(30<N.g.length){if(Q(N)||Q(b))throw Error("slowDivide_ only works with positive integers.");for(var w=x,C=b;0>=C.l(N);)w=ce(w),C=ce(C);var D=ee(w,1),M=ee(C,1);for(C=ee(C,2),w=ee(w,2);!H(C);){var R=M.add(C);0>=R.l(N)&&(D=D.add(w),M=R),C=ee(C,1),w=ee(w,1)}return b=se(N,D.j(b)),new ne(D,b)}for(D=I;0<=N.l(b);){for(w=Math.max(1,Math.floor(N.m()/b.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=_(w),R=M.j(b);Q(R)||0<R.l(N);)w-=C,M=_(w),R=M.j(b);H(M)&&(M=x),D=D.add(M),N=se(N,R)}return new ne(D,N)}r.A=function(N){return re(this,N).h},r.and=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],C=0;C<b;C++)w[C]=this.i(C)&N.i(C);return new f(w,this.h&N.h)},r.or=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],C=0;C<b;C++)w[C]=this.i(C)|N.i(C);return new f(w,this.h|N.h)},r.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],C=0;C<b;C++)w[C]=this.i(C)^N.i(C);return new f(w,this.h^N.h)};function ce(N){for(var b=N.g.length+1,w=[],C=0;C<b;C++)w[C]=N.i(C)<<1|N.i(C-1)>>>31;return new f(w,N.h)}function ee(N,b){var w=b>>5;b%=32;for(var C=N.g.length-w,D=[],M=0;M<C;M++)D[M]=0<b?N.i(M+w)>>>b|N.i(M+w+1)<<32-b:N.i(M+w);return new f(D,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,kr=f}).apply(typeof kv<"u"?kv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,Sl,dT,Pc,Im,mT,gT,pT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var y=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in y))break e;y=y[L]}c=c[c.length-1],S=y[c],p=p(S),p!=S&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var y=0,S=!1,L={next:function(){if(!S&&y<c.length){var F=y++;return{value:p(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function _(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,y){return c.call.apply(c.bind,arguments)}function I(c,p,y){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function x(c,p,y){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,x.apply(null,arguments)}function k(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function H(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(S,L,F){for(var ae=Array(arguments.length-2),je=2;je<arguments.length;je++)ae[je-2]=arguments[je];return p.prototype[L].apply(S,ae)}}function Q(c){const p=c.length;if(0<p){const y=Array(p);for(let S=0;S<p;S++)y[S]=c[S];return y}return[]}function X(c,p){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(g(S)){const L=c.length||0,F=S.length||0;c.length=L+F;for(let ae=0;ae<F;ae++)c[L+ae]=S[ae]}else c.push(S)}}class se{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function le(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ce=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ee(c,p,y){for(const S in c)p.call(y,c[S],S,c)}function N(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function b(c){const p={};for(const y in c)p[y]=c[y];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let y,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(y in S)c[y]=S[y];for(let F=0;F<w.length;F++)y=w[F],Object.prototype.hasOwnProperty.call(S,y)&&(c[y]=S[y])}}function D(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function M(c){m.setTimeout(()=>{throw c},0)}function R(){var c=Ue;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class de{constructor(){this.h=this.g=null}add(p,y){const S=Le.get();S.set(p,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Le=new se(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,pe=!1,Ue=new de,V=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(W)}};var W=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(y){M(y)}var p=Le;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}pe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,p),m.removeEventListener("test",y,p)}catch{}return c}();function K(c,p){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ce){e:{try{re(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:he[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&K.aa.h.call(this)}}H(K,ie);var he={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function it(c,p,y,S,L){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!S,this.ha=L,this.key=++Ee,this.da=this.fa=!1}function Ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rn(c){this.src=c,this.g={},this.h=0}rn.prototype.add=function(c,p,y,S,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ae=Yr(c,p,S,L);return-1<ae?(p=c[ae],y||(p.fa=!1)):(p=new it(p,this.src,F,!!S,L),p.fa=y,c.push(p)),p};function Gn(c,p){var y=p.type;if(y in c.g){var S=c.g[y],L=Array.prototype.indexOf.call(S,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(S,L,1),F&&(Ct(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Yr(c,p,y,S){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==S)return L}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),oo={};function Jl(c,p,y,S,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Jl(c,p[F],y,S,L);return null}return y=eu(y),c&&c[Ce]?c.K(p,y,_(S)?!!S.capture:!1,L):En(c,p,y,!1,S,L)}function En(c,p,y,S,L,F){if(!p)throw Error("Invalid event type");var ae=_(L)?!!L.capture:!!L,je=Qs(c);if(je||(c[Xr]=je=new rn(c)),y=je.add(p,y,S,ae,F),y.proxy)return y;if(S=Ch(),y.proxy=S,S.src=c,S.listener=y,c.addEventListener)_e||(L=ae),L===void 0&&(L=!1),c.addEventListener(p.toString(),S,L);else if(c.attachEvent)c.attachEvent($r(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ch(){function c(y){return p.call(c.src,c.listener,y)}const p=Nh;return c}function lo(c,p,y,S,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)lo(c,p[F],y,S,L);else S=_(S)?!!S.capture:!!S,y=eu(y),c&&c[Ce]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],y=Yr(F,y,S,L),-1<y&&(Ct(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Qs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Yr(p,y,S,L)),(y=-1<c?p[c]:null)&&Ks(y))}function Ks(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ce])Gn(p.i,c);else{var y=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(y,S,c.capture):p.detachEvent?p.detachEvent($r(y),S):p.addListener&&p.removeListener&&p.removeListener(S),(y=Qs(p))?(Gn(y,c),y.h==0&&(y.src=null,p[Xr]=null)):Ct(c)}}}function $r(c){return c in oo?oo[c]:oo[c]="on"+c}function Nh(c,p){if(c.da)c=!0;else{p=new K(p,this);var y=c.listener,S=c.ha||c.src;c.fa&&Ks(c),c=y.call(S,p)}return c}function Qs(c){return c=c[Xr],c instanceof rn?c:null}var uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(c){return typeof c=="function"?c:(c[uo]||(c[uo]=function(p){return c.handleEvent(p)}),c[uo])}function lt(){oe.call(this),this.i=new rn(this),this.M=this,this.F=null}H(lt,oe),lt.prototype[Ce]=!0,lt.prototype.removeEventListener=function(c,p,y,S){lo(this,c,p,y,S)};function Qe(c,p){var y,S=c.F;if(S)for(y=[];S;S=S.F)y.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new ie(p,c);else if(p instanceof ie)p.target=p.target||c;else{var L=p;p=new ie(S,c),C(p,L)}if(L=!0,y)for(var F=y.length-1;0<=F;F--){var ae=p.g=y[F];L=cn(ae,S,!0,p)&&L}if(ae=p.g=c,L=cn(ae,S,!0,p)&&L,L=cn(ae,S,!1,p)&&L,y)for(F=0;F<y.length;F++)ae=p.g=y[F],L=cn(ae,S,!1,p)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],S=0;S<y.length;S++)Ct(y[S]);delete c.g[p],c.h--}}this.F=null},lt.prototype.K=function(c,p,y,S){return this.i.add(String(c),p,!1,y,S)},lt.prototype.L=function(c,p,y,S){return this.i.add(String(c),p,!0,y,S)};function cn(c,p,y,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var ae=p[F];if(ae&&!ae.da&&ae.capture==y){var je=ae.listener,At=ae.ha||ae.src;ae.fa&&Gn(c.i,ae),L=je.call(At,S)!==!1&&L}}return L&&!S.defaultPrevented}function Kt(c,p,y){if(typeof c=="function")y&&(c=x(c,y));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function tu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,tu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Dh extends oe{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(c){oe.call(this),this.h=c,this.g={}}H(Zr,oe);var Wr=[];function Jr(c){ee(c.g,function(p,y){this.g.hasOwnProperty(y)&&Ks(p)},c),c.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),Jr(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,Ys=m.JSON.parse,es=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function co(){}co.prototype.h=null;function ho(c){return c.h||(c.h=c.i())}function fo(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){ie.call(this,"d")}H(Ti,ie);function mo(){ie.call(this,"c")}H(mo,ie);var Kn={},go=null;function Ji(){return go=go||new lt}Kn.La="serverreachability";function Xs(c){ie.call(this,Kn.La,c)}H(Xs,ie);function er(c){const p=Ji();Qe(p,new Xs(p))}Kn.STAT_EVENT="statevent";function nu(c,p){ie.call(this,Kn.STAT_EVENT,c),this.stat=p}H(nu,ie);function rt(c){const p=Ji();Qe(p,new nu(p,c))}Kn.Ma="timingevent";function Tt(c,p){ie.call(this,Kn.Ma,c),this.size=p}H(Tt,ie);function gt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function po(c,p,y,S,L,F){c.info(function(){if(c.g)if(F)for(var ae="",je=F.split("&"),At=0;At<je.length;At++){var Be=je[At].split("=");if(1<Be.length){var Dt=Be[0];Be=Be[1];var St=Dt.split("_");ae=2<=St.length&&St[1]=="type"?ae+(Dt+"="+Be+"&"):ae+(Dt+"=redacted&")}}else ae=null;else ae=F;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+p+`
`+y+`
`+ae})}function Oh(c,p,y,S,L,F,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+p+`
`+y+`
`+F+" "+ae})}function tr(c,p,y,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ts(c,y)+(S?" "+S:"")})}function iu(c,p){c.info(function(){return"TIMEOUT: "+p})}Tn.prototype.info=function(){};function ts(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var S=y[c];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ae=1;ae<L.length;ae++)L[ae]=""}}}}return Vn(y)}catch{return p}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Yn(){}H(Yn,co),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Qn=new Yn;function Jt(c,p,y,S){this.j=c,this.i=p,this.l=y,this.R=S||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var _o={},$s={};function Pn(c,p,y){c.L=1,c.v=as(hn(p)),c.m=y,c.P=!0,Si(c,null)}function Si(c,p){c.F=Date.now(),ns(c),c.A=hn(c.v);var y=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),So(y.i,"t",S),c.C=0,y=c.j.J,c.h=new ht,c.g=vu(c.j,y?p:null,!c.m),0<c.O&&(c.M=new Dh(x(c.Y,c,c.g),c.O)),p=c.U,y=c.g,S=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Wr[0]=L.toString()),L=Wr);for(var F=0;F<L.length;F++){var ae=Jl(y,L[F],S||p.handleEvent,!1,p.h||p);if(!ae)break;p.g[ae.key]=ae}p=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),er(),po(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const p=this.M;p&&wn(c)==3?p.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const St=wn(this.g);var p=this.g.Ba();const Oi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||St!=4||p==7||(p==8||0>=Oi?er(3):er(2)),ir(this);var y=this.g.Z();this.X=y;t:if(ru(this)){var S=hu(this.g);c="";var L=S.length,F=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),Xn(this);var ae="";break t}this.h.i=new m.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(F&&p==L-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=y==200,Oh(this.i,this.u,this.A,this.l,this.R,St,y),this.o){if(this.T&&!this.K){t:{if(this.g){var je,At=this.g;if((je=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(je)){var Be=je;break t}}Be=null}if(y=Be)tr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,y);else{this.o=!1,this.s=3,rt(12),kt(this),Xn(this);break e}}if(this.P){y=!0;let Ut;for(;!this.J&&this.C<ae.length;)if(Ut=su(this,ae),Ut==$s){St==4&&(this.s=4,rt(14),y=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==_o){this.s=4,rt(15),tr(this.i,this.l,ae,"[Invalid Chunk]"),y=!1;break}else tr(this.i,this.l,Ut,null),is(this,Ut);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ae.length!=0||this.h.h||(this.s=1,rt(16),y=!1),this.o=this.o&&y,!y)tr(this.i,this.l,ae,"[Invalid Chunked Response]"),kt(this),Xn(this);else if(0<ae.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ms(Dt),Dt.M=!0,rt(11))}}else tr(this.i,this.l,ae,null),is(this,ae);St==4&&kt(this),this.o&&!this.J&&(St==4?pu(this.j,this):(this.o=!1,ns(this)))}else kh(this.g),y==400&&0<ae.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),kt(this),Xn(this)}}}catch{}finally{}};function ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function su(c,p){var y=c.C,S=p.indexOf(`
`,y);return S==-1?$s:(y=Number(p.substring(y,S)),isNaN(y)?_o:(S+=1,S+y>p.length?$s:(p=p.slice(S,S+y),c.C=S+y,p)))}Jt.prototype.cancel=function(){this.J=!0,kt(this)};function ns(c){c.S=Date.now()+c.I,au(c,c.I)}function au(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(x(c.ba,c),p)}function ir(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(iu(this.i,this.A),this.L!=2&&(er(),rt(17)),kt(this),this.s=2,Xn(this)):au(this,this.S-c)};function Xn(c){c.j.G==0||c.J||pu(c.j,c)}function kt(c){ir(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Jr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function is(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||yo(y.h,c))){if(!c.K&&yo(y.h,c)&&y.G==3){try{var S=y.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)la(y),aa(y);else break e;Co(y),rt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=gt(x(y.Za,y),6e3));if(1>=Ws(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Di(y,11)}else if((c.K||y.g==c)&&la(y),!le(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let Be=L[p];if(y.T=Be[0],Be=Be[1],y.G==2)if(Be[0]=="c"){y.K=Be[1],y.ia=Be[2];const Dt=Be[3];Dt!=null&&(y.la=Dt,y.j.info("VER="+y.la));const St=Be[4];St!=null&&(y.Aa=St,y.j.info("SVER="+y.Aa));const Oi=Be[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(S=1.5*Oi,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Ut=c.g;if(Ut){const ni=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var F=S.h;F.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Js(F,F.h),F.h=null))}if(S.D){const Do=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(S.ya=Do,$e(S.I,S.D,Do))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var ae=c;if(S.qa=yu(S,S.J?S.ia:null,S.W),ae.K){en(S.h,ae);var je=ae,At=S.L;At&&(je.I=At),je.B&&(ir(je),ns(je)),S.g=ae}else mu(S);0<y.i.length&&oa(y)}else Be[0]!="stop"&&Be[0]!="close"||Di(y,7);else y.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Di(y,7):Ro(y):Be[0]!="noop"&&y.l&&y.l.ta(Be),y.v=0)}}er(4)}catch{}}var ou=class{constructor(c,p){this.g=c,this.map=p}};function bi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ws(c){return c.h?1:c.g?c.g.size:0}function yo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Js(c,p){c.g?c.g.add(p):c.h=p}function en(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}bi.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return Q(c.i)}function Mh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],y=c.length,S=0;S<y;S++)p.push(c[S]);return p}p=[],y=0;for(S in c)p[y++]=c[S];return p}function ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const S in c)p[y++]=S;return p}}}function Eo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=ea(c),S=Mh(c),L=S.length,F=0;F<L;F++)p.call(void 0,S[F],y&&y[F],c)}var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xh(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var S=c[y].indexOf("="),L=null;if(0<=S){var F=c[y].substring(0,S);L=c[y].substring(S+1)}else F=c[y];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,ss(this,c.j),this.o=c.o,this.g=c.g,rr(this,c.s),this.l=c.l;var p=c.i,y=new Ri;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),wi(this,y),this.m=c.m}else c&&(p=String(c).match(rs))?(this.h=!1,ss(this,p[1]||"",!0),this.o=An(p[2]||""),this.g=An(p[3]||"",!0),rr(this,p[4]),this.l=An(p[5]||"",!0),wi(this,p[6]||"",!0),this.m=An(p[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}pt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(os(p,To,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(os(p,To,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(os(y,y.charAt(0)=="/"?Vh:Ao,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",os(y,ta)),c.join("")};function hn(c){return new pt(c)}function ss(c,p,y){c.j=y?An(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function rr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function wi(c,p,y){p instanceof Ri?(c.i=p,uu(c.i,c.h)):(y||(p=os(p,Ph)),c.i=new Ri(p,c.h))}function $e(c,p,y){c.i.set(p,y)}function as(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function os(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,lu),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,Ao=/[#\?:]/g,Vh=/[#\?]/g,Ph=/[#\?@]/g,ta=/#/g;function Ri(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&xh(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Ri.prototype,r.add=function(c,p){Sn(this),this.i=null,c=$n(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function Ii(c,p){Sn(c),p=$n(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ci(c,p){return Sn(c),p=$n(c,p),c.g.has(p)}r.forEach=function(c,p){Sn(this),this.g.forEach(function(y,S){y.forEach(function(L){c.call(p,L,S,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let S=0;S<p.length;S++){const L=c[S];for(let F=0;F<L.length;F++)y.push(p[S])}return y},r.V=function(c){Sn(this);let p=[];if(typeof c=="string")Ci(this,c)&&(p=p.concat(this.g.get($n(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},r.set=function(c,p){return Sn(this),this.i=null,c=$n(this,c),Ci(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function So(c,p,y){Ii(c,p),0<y.length&&(c.i=null,c.g.set($n(c,p),Q(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var S=p[y];const F=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var L=F;ae[S]!==""&&(L+="="+encodeURIComponent(String(ae[S]))),c.push(L)}}return this.i=c.join("&")};function $n(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function uu(c,p){p&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(y,S){var L=S.toLowerCase();S!=L&&(Ii(this,S),So(this,L,y))},c)),c.j=p}function ls(c,p){const y=new Tn;if(m.Image){const S=new Image;S.onload=k(bn,y,"TestLoadImage: loaded",!0,p,S),S.onerror=k(bn,y,"TestLoadImage: error",!1,p,S),S.onabort=k(bn,y,"TestLoadImage: abort",!1,p,S),S.ontimeout=k(bn,y,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function kn(c,p){const y=new Tn,S=new AbortController,L=setTimeout(()=>{S.abort(),bn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(L),F.ok?bn(y,"TestPingServer: ok",!0,p):bn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),bn(y,"TestPingServer: error",!1,p)})}function bn(c,p,y,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(y)}catch{}}function us(){this.g=new es}function Zn(c,p,y){const S=y||"";try{Eo(c,function(L,F){let ae=L;_(L)&&(ae=Vn(L)),p.push(S+F+"="+encodeURIComponent(ae))})}catch(L){throw p.push(S+"type="+encodeURIComponent("_badmap")),L}}function sr(c){this.l=c.Ub||null,this.j=c.eb||!1}H(sr,co),sr.prototype.g=function(){return new Ni(this.l,this.j)},sr.prototype.i=function(c){return function(){return c}}({});function Ni(c,p){lt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Ni,lt),r=Ni.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Wn(this):Jn(this),this.readyState==3&&bo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},r.Qa=function(c){this.g&&(this.response=c,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wo(c){let p="";return ee(c,function(y,S){p+=S,p+=":",p+=y,p+=`\r
`}),p}function Nt(c,p,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=wo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):$e(c,p,y))}function Ge(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Ge,lt);var na=/^https?$/i,cs=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?ho(this.o):ho(Qn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){cu(this,F);return}if(c=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)y.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())y.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(cs,p,void 0))||S||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ae]of y)this.g.setRequestHeader(F,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){cu(this,F)}};function cu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ia(c),ei(c)}function ia(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},r.bb=function(){ra(this)};function ra(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Kt(c.Ea,0,c);else if(Qe(c,"readystatechange"),wn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var S;if(S=ae===0){var L=String(c.D).match(rs)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),S=!na.test(L?L.toLowerCase():"")}y=S}if(y)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var F=2<wn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ia(c)}}finally{ei(c)}}}}function ei(c,p){if(c.g){hs(c);const y=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qe(c,"ready");try{y.onreadystatechange=S}catch{}}}function hs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ys(p)}};function hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kh(c){const p={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(le(c[S]))continue;var y=D(c[S]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[L]||[];p[L]=F,F.push(y)}N(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function sa(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,c),this.cb=fs("retryDelaySeedMs",1e4,c),this.Wa=fs("forwardChannelMaxRetries",2,c),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sa.prototype,r.la=8,r.G=1,r.connect=function(c,p,y,S){rt(0),this.W=c,this.H=p||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=yu(this,null,this.W),oa(this)};function Ro(c){if(fu(c),c.G==3){var p=c.U++,y=hn(c.I);if($e(y,"SID",c.K),$e(y,"RID",p),$e(y,"TYPE","terminate"),ds(c,y),p=new Jt(c,c.j,p),p.L=2,p.v=as(hn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=p.v,y=!0),y||(p.g=vu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ns(p)}_u(c)}function aa(c){c.g&&(ms(c),c.g.cancel(),c.g=null)}function fu(c){aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),la(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function oa(c){if(!Zs(c.h)&&!c.s){c.s=!0;var p=c.Ga;ue||V(),pe||(ue(),pe=!0),Ue.add(p,c),c.B=0}}function Uh(c,p){return Ws(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(x(c.Ga,c,p),No(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Jt(this,this.j,c);let F=this.o;if(this.S&&(F?(F=b(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=du(this,L,p),y=hn(this.I),$e(y,"RID",c),$e(y,"CVER",22),this.D&&$e(y,"X-HTTP-Session-Id",this.D),ds(this,y),F&&(this.O?p="headers="+encodeURIComponent(String(wo(F)))+"&"+p:this.m&&Nt(y,this.m,F)),Js(this.h,L),this.Ua&&$e(y,"TYPE","init"),this.P?($e(y,"$req",p),$e(y,"SID","null"),L.T=!0,Pn(L,y,null)):Pn(L,y,p),this.G=2}}else this.G==3&&(c?Io(this,c):this.i.length==0||Zs(this.h)||Io(this))};function Io(c,p){var y;p?y=p.l:y=c.U++;const S=hn(c.I);$e(S,"SID",c.K),$e(S,"RID",y),$e(S,"AID",c.T),ds(c,S),c.m&&c.o&&Nt(S,c.m,c.o),y=new Jt(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=du(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Js(c.h,y),Pn(y,S,p)}function ds(c,p){c.H&&ee(c.H,function(y,S){$e(p,S,y)}),c.l&&Eo({},function(y,S){$e(p,S,y)})}function du(c,p,y){y=Math.min(c.i.length,y);var S=c.l?x(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const ae=["count="+y];F==-1?0<y?(F=L[0].g,ae.push("ofs="+F)):F=0:ae.push("ofs="+F);let je=!0;for(let At=0;At<y;At++){let Be=L[At].g;const Dt=L[At].map;if(Be-=F,0>Be)F=Math.max(0,L[At].g-100),je=!1;else try{Zn(Dt,ae,"req"+Be+"_")}catch{S&&S(Dt)}}if(je){S=ae.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,S}function mu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ue||V(),pe||(ue(),pe=!0),Ue.add(p,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(x(c.Fa,c),No(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),aa(this),gu(this))};function ms(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function gu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=hn(c.qa);$e(p,"RID","rpc"),$e(p,"SID",c.K),$e(p,"AID",c.T),$e(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(p,"TO",c.ja),$e(p,"TYPE","xmlhttp"),ds(c,p),c.m&&c.o&&Nt(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=as(hn(p)),y.m=null,y.P=!0,Si(y,c)}r.Za=function(){this.C!=null&&(this.C=null,aa(this),Co(this),rt(19))};function la(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function pu(c,p){var y=null;if(c.g==p){la(c),ms(c),c.g=null;var S=2}else if(yo(c.h,p))y=p.D,en(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;S=Ji(),Qe(S,new Tt(S,y)),oa(c)}else mu(c);else if(L=p.s,L==3||L==0&&0<p.X||!(S==1&&Uh(c,p)||S==2&&Co(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),L){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function No(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function Di(c,p){if(c.j.info("Error code "+p),p==2){var y=x(c.fb,c),S=c.Xa;const L=!S;S=new pt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ss(S,"https"),as(S),L?ls(S.toString(),y):kn(S.toString(),y)}else rt(2);c.G=0,c.l&&c.l.sa(p),_u(c),fu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function _u(c){if(c.G=0,c.ka=[],c.l){const p=vo(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ka,p),X(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function yu(c,p,y){var S=y instanceof pt?hn(y):new pt(y);if(S.g!="")p&&(S.g=p+"."+S.g),rr(S,S.s);else{var L=m.location;S=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new pt(null);S&&ss(F,S),p&&(F.g=p),L&&rr(F,L),y&&(F.l=y),S=F}return y=c.D,p=c.ya,y&&p&&$e(S,y,p),$e(S,"VER",c.la),ds(c,S),S}function vu(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ge(new sr({eb:y})):new Ge(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ua(){}ua.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){lt.call(this),this.g=new sa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!le(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!le(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ti(this)}H(tn,lt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ro(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Vn(c),c=y);p.i.push(new ou(p.Ya++,c)),p.G==3&&oa(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,tn.aa.N.call(this)};function Tu(c){Ti.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}H(Tu,Ti);function Au(){mo.call(this),this.status=1}H(Au,mo);function ti(c){this.g=c}H(ti,Eu),ti.prototype.ua=function(){Qe(this.g,"a")},ti.prototype.ta=function(c){Qe(this.g,new Tu(c))},ti.prototype.sa=function(c){Qe(this.g,new Au)},ti.prototype.ra=function(){Qe(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,pT=function(){return new ua},gT=function(){return Ji()},mT=Kn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,Pc=nr,Ai.COMPLETE="complete",dT=Ai,fo.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Sl=fo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,fT=Ge}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const Uv="@firebase/firestore",Lv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Km("@firebase/firestore");function ja(){return ks.logLevel}function fe(r,...e){if(ks.logLevel<=Pe.DEBUG){const n=e.map(sg);ks.debug(`Firestore (${no}): ${r}`,...n)}}function Zi(r,...e){if(ks.logLevel<=Pe.ERROR){const n=e.map(sg);ks.error(`Firestore (${no}): ${r}`,...n)}}function Ya(r,...e){if(ks.logLevel<=Pe.WARN){const n=e.map(sg);ks.warn(`Firestore (${no}): ${r}`,...n)}}function sg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: `+r;throw Zi(e),new Error(e)}function Ke(r,e){r||we()}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class xI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VI{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Yi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Yi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new _T(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new $t(e)}}class PI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new PI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function Cm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=yT(),f=jI(u.encode(Bv(r,n)),u.encode(Bv(e,n)));return f!==0?f:Oe(s,o)}}n+=s>65535?2:1}return Oe(r.length,e.length)}function Bv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function jI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Oe(r[n],e[n]);return Oe(r.length,e.length)}function Xa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=-62135596800,qv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*qv);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zv)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qv}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Rt(0,0))}static max(){return new Re(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="__name__";class ui{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ui?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ui.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=ui.isNumericId(e),o=ui.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ui.extractNumericId(e).compare(ui.extractNumericId(n)):Cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class nt extends ui{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends ui{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return BI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hv}static keyField(){return new Ht([Hv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(nt.fromString(e))}static fromName(e){return new ve(nt.fromString(e).popFirst(5))}static empty(){return new ve(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function zI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new jr(o,ve.empty(),e)}function qI(r){return new jr(r.readTime,r.key,Pl)}class jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new jr(Re.min(),ve.empty(),Pl)}static max(){return new jr(Re.max(),ve.empty(),Pl)}}function HI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==FI)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next(E=>{f[_]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function KI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=-1;function gh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function QI(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="";function YI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Fv(e)),e=XI(r.get(n),e);return Fv(e)}function XI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ET:n+="";break;default:n+=u}}return n}function Fv(r){return r+ET+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Bs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function TT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new zn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new AT("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const $I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=$I.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="server_timestamp",bT="__type__",wT="__previous_value__",RT="__local_write_time__";function og(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||n===void 0?void 0:n.stringValue)===ST}function ph(r){const e=r.mapValue.fields[wT];return og(e)?ph(e):e}function kl(r){const e=Br(r.mapValue.fields[RT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,s,o,u,f,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}const $c="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||$c}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__type__",WI="__max__",Rc={mapValue:{}},CT="__vector__",Zc="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?og(r)?4:eC(r)?9007199254740991:JI(r)?10:11:we()}function pi(r,e){if(r===e)return!0;const n=qr(r);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return kl(r).isEqual(kl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Br(o.timestampValue),m=Br(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return zr(o.bytesValue).isEqual(zr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?Xc(f)===Xc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Gv(f)!==Gv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!pi(f[g],m[g])))return!1;return!0}(r,e);default:return we()}}function Ll(r,e){return(r.values||[]).find(n=>pi(n,e))!==void 0}function $a(r,e){if(r===e)return 0;const n=qr(r),s=qr(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),g=mt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return Qv(r.timestampValue,e.timestampValue);case 4:return Qv(kl(r),kl(e));case 5:return Cm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=zr(u),g=zr(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let _=0;_<m.length&&_<g.length;_++){const E=Oe(m[_],g[_]);if(E!==0)return E}return Oe(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Oe(mt(u.latitude),mt(f.latitude));return m!==0?m:Oe(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Yv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,_,E;const I=u.fields||{},x=f.fields||{},k=(m=I[Zc])===null||m===void 0?void 0:m.arrayValue,H=(g=x[Zc])===null||g===void 0?void 0:g.arrayValue,Q=Oe(((_=k==null?void 0:k.values)===null||_===void 0?void 0:_.length)||0,((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:Yv(k,H)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Rc.mapValue&&f===Rc.mapValue)return 0;if(u===Rc.mapValue)return 1;if(f===Rc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),_=f.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const x=Cm(g[I],E[I]);if(x!==0)return x;const k=$a(m[g[I]],_[E[I]]);if(k!==0)return k}return Oe(g.length,E.length)}(r.mapValue,e.mapValue);default:throw we()}}function Qv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=Br(r),s=Br(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function Yv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=$a(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function Za(r){return Nm(r)}function Nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Br(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return zr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Nm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"}(r.mapValue):we()}function kc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+kc(e):16;case 5:return 2*r.stringValue.length;case 6:return zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+kc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Bs(s.fields,(u,f)=>{o+=u.length+kc(f)}),o}(r.mapValue);default:throw we()}}function Xv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Dm(r){return!!r&&"integerValue"in r}function lg(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function JI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[IT])===null||n===void 0?void 0:n.stringValue)===CT}function Cl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Bs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Cl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function eC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Cl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Bs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new xn(Cl(this.value))}}function NT(r){const e=[];return Bs(r.fields,(n,s)=>{const o=new Ht([n]);if(Uc(s)){const u=NT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),xn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Re.min(),Re.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Re.min(),Re.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.position=e,this.inclusive=n}}function Wv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=$a(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function tC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{}class Et extends DT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new iC(e,n,s):n==="array-contains"?new aC(e,s):n==="in"?new oC(e,s):n==="not-in"?new lC(e,s):n==="array-contains-any"?new uC(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new rC(e,s):new sC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($a(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends DT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Fn(e,n)}matches(e){return OT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function OT(r){return r.op==="and"}function MT(r){return nC(r)&&OT(r)}function nC(r){for(const e of r.filters)if(e instanceof Fn)return!1;return!0}function Om(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(MT(r))return r.filters.map(e=>Om(e)).join(",");{const e=r.filters.map(n=>Om(n)).join(",");return`${r.op}(${e})`}}function xT(r,e){return r instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)}(r,e):r instanceof Fn?function(s,o){return o instanceof Fn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&xT(f,o.filters[m]),!0):!1}(r,e):void we()}function VT(r){return r instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(r):r instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(VT).join(" ,")+"}"}(r):"Filter"}class iC extends Et{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class rC extends Et{constructor(e,n){super(e,"in",n),this.keys=PT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sC extends Et{constructor(e,n){super(e,"not-in",n),this.keys=PT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class aC extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&Ll(n.arrayValue,this.value)}}class oC extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class lC extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ll(this.value.arrayValue,n)}}class uC extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ll(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function e0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new cC(r,e,n,s,o,u,f)}function ug(r){const e=Ie(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Om(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Za(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Za(s)).join(",")),e.le=n}return e.le}function cg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!tC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!xT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Jv(r.startAt,e.startAt)&&Jv(r.endAt,e.endAt)}function Mm(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hC(r,e,n,s,o,u,f,m){return new Ql(r,e,n,s,o,u,f,m)}function hg(r){return new Ql(r)}function t0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kT(r){return r.collectionGroup!==null}function Nl(r){const e=Ie(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Jc(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new Jc(Ht.keyField(),s))}return e.he}function di(r){const e=Ie(r);return e.Pe||(e.Pe=fC(e,Nl(r))),e.Pe}function fC(r,e){if(r.limitType==="F")return e0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Jc(o.field,u)});const n=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return e0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function xm(r,e){const n=r.filters.concat([e]);return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Vm(r,e,n){return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function _h(r,e){return cg(di(r),di(e))&&r.limitType===e.limitType}function UT(r){return`${ug(di(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>VT(o)).join(", ")}]`),gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Za(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Za(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function yh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Nl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const _=Wv(f,m,g);return f.inclusive?_<=0:_<0}(s.startAt,Nl(s),o)||s.endAt&&!function(f,m,g){const _=Wv(f,m,g);return f.inclusive?_>=0:_>0}(s.endAt,Nl(s),o))}(r,e)}function dC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LT(r){return(e,n)=>{let s=!1;for(const o of Nl(r)){const u=mC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mC(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),_=m.data.field(u);return g!==null&&_!==null?$a(g,_):we()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new ot(ve.comparator);function Wi(){return gC}const jT=new ot(ve.comparator);function bl(...r){let e=jT;for(const n of r)e=e.insert(n.key,n);return e}function BT(r){let e=jT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Os(){return Dl()}function zT(){return Dl()}function Dl(){return new zs(r=>r.toString(),(r,e)=>r.isEqual(e))}const pC=new ot(ve.comparator),_C=new It(ve.comparator);function ke(...r){let e=_C;for(const n of r)e=e.add(n);return e}const yC=new It(Oe);function vC(){return yC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function qT(r){return{integerValue:""+r}}function EC(r,e){return QI(e)?qT(e):fg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function TC(r,e,n){return r instanceof eh?function(o,u){const f={fields:{[bT]:{stringValue:ST},[RT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=ph(u)),u&&(f.fields[wT]=u),{mapValue:f}}(n,e):r instanceof jl?FT(r,e):r instanceof Bl?GT(r,e):function(o,u){const f=HT(o,u),m=n0(f)+n0(o.Ie);return Dm(f)&&Dm(o.Ie)?qT(m):fg(o.serializer,m)}(r,e)}function AC(r,e,n){return r instanceof jl?FT(r,e):r instanceof Bl?GT(r,e):n}function HT(r,e){return r instanceof th?function(s){return Dm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class eh extends vh{}class jl extends vh{constructor(e){super(),this.elements=e}}function FT(r,e){const n=KT(e);for(const s of r.elements)n.some(o=>pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Bl extends vh{constructor(e){super(),this.elements=e}}function GT(r,e){let n=KT(e);for(const s of r.elements)n=n.filter(o=>!pi(o,s));return{arrayValue:{values:n}}}class th extends vh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function n0(r){return mt(r.integerValue||r.doubleValue)}function KT(r){return lg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function SC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof jl&&o instanceof jl||s instanceof Bl&&o instanceof Bl?Xa(s.elements,o.elements,pi):s instanceof th&&o instanceof th?pi(s.Ie,o.Ie):s instanceof eh&&o instanceof eh}(r.transform,e.transform)}class bC{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Eh{}function QT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new XT(r.key,mi.none()):new Yl(r.key,r.data,mi.none());{const n=r.data,s=xn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new qs(r.key,s,new zn(o.toArray()),mi.none())}}function wC(r,e,n){r instanceof Yl?function(o,u,f){const m=o.value.clone(),g=r0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof qs?function(o,u,f){if(!Lc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=r0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(YT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ol(r,e,n,s){return r instanceof Yl?function(u,f,m,g){if(!Lc(u.precondition,f))return m;const _=u.value.clone(),E=s0(u.fieldTransforms,g,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof qs?function(u,f,m,g){if(!Lc(u.precondition,f))return m;const _=s0(u.fieldTransforms,g,f),E=f.data;return E.setAll(YT(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(r,e,n,s):function(u,f,m){return Lc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function RC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=HT(s.transform,o||null);u!=null&&(n===null&&(n=xn.empty()),n.set(s.field,u))}return n||null}function i0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(u,f)=>SC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yl extends Eh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qs extends Eh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function YT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function r0(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,AC(f,m,n[o]))}return s}function s0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,TC(u,f,e))}return s}class XT extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ol(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ol(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=QT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,s)=>i0(n,s))&&Xa(this.baseMutations,e.baseMutations,(n,s)=>i0(n,s))}}class dg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return pC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new dg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,qe;function OC(r){switch(r){case te.OK:return we();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we()}}function $T(r){if(r===void 0)return Zi("GRPC error has no .code"),te.UNKNOWN;switch(r){case vt.OK:return te.OK;case vt.CANCELLED:return te.CANCELLED;case vt.UNKNOWN:return te.UNKNOWN;case vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case vt.INTERNAL:return te.INTERNAL;case vt.UNAVAILABLE:return te.UNAVAILABLE;case vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case vt.NOT_FOUND:return te.NOT_FOUND;case vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case vt.ABORTED:return te.ABORTED;case vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case vt.DATA_LOSS:return te.DATA_LOSS;default:return we()}}(qe=vt||(vt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new kr([4294967295,4294967295],0);function a0(r){const e=yT().encode(r),n=new hT;return n.update(e),new Uint8Array(n.digest())}function o0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new kr([n,s],0),new kr([o,u],0)]}class mg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=kr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(kr.fromNumber(s)));return o.compare(MC)===1&&(o=new kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=a0(e),[s,o]=o0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new mg(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=a0(e),[s,o]=o0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Th(Re.min(),o,new ot(Oe),Wi(),ke())}}class Xl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Xl(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class ZT{constructor(e,n){this.targetId=e,this.ge=n}}class WT{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class l0{constructor(){this.pe=0,this.ye=u0(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),n=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Xl(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=u0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class xC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wi(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new ot(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Mm(u))if(s===0){const f=new ve(u.path);this.ze(n,f,Zt.newNoDocument(f,Re.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=zr(s).toUint8Array()}catch(g){if(g instanceof AT)return Ya("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new mg(f,o,u)}catch(g){return Ya(g instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Mm(m.target)){const g=new ve(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Zt.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ke();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Th(e,n,this.Ke,this.Qe,s);return this.Qe=Wi(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new ot(Oe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new l0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new It(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new It(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new l0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ic(){return new ot(ve.comparator)}function u0(){return new ot(ve.comparator)}const VC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kC={and:"AND",or:"OR"};class UC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LC(r,e){return nh(r,e.toTimestamp())}function gi(r){return Ke(!!r),Re.fromTimestamp(function(n){const s=Br(n);return new Rt(s.seconds,s.nanos)}(r))}function gg(r,e){return km(r,e).canonicalString()}function km(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function eA(r){const e=nt.fromString(r);return Ke(sA(e)),e}function Um(r,e){return gg(r.databaseId,e.path)}function qd(r,e){const n=eA(e);if(n.get(1)!==r.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(nA(n))}function tA(r,e){return gg(r.databaseId,e)}function jC(r){const e=eA(r);return e.length===4?nt.emptyPath():nA(e)}function Lm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nA(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function c0(r,e,n){return{name:Um(r,e),fields:n.value.mapValue.fields}}function BC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(Ke(E===void 0||typeof E=="string"),Gt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Gt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const E=_.code===void 0?te.UNKNOWN:$T(_.code);return new me(E,_.message||"")}(f);n=new WT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qd(r,s.document.name),u=gi(s.document.updateTime),f=s.document.createTime?gi(s.document.createTime):Re.min(),m=new xn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,f,m),_=s.targetIds||[],E=s.removedTargetIds||[];n=new jc(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qd(r,s.document),u=s.readTime?gi(s.readTime):Re.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new jc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qd(r,s.document),u=s.removedTargetIds||[];n=new jc([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new DC(o,u),m=s.targetId;n=new ZT(m,f)}}return n}function zC(r,e){let n;if(e instanceof Yl)n={update:c0(r,e.key,e.value)};else if(e instanceof XT)n={delete:Um(r,e.key)};else if(e instanceof qs)n={update:c0(r,e.key,e.data),updateMask:$C(e.fieldMask)};else{if(!(e instanceof IC))return we();n={verify:Um(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof eh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof th)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:LC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),n}function qC(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(Re.min())&&(f=gi(u)),new bC(f,o.transformResults||[])}(n,e))):[]}function HC(r,e){return{documents:[tA(r,e.path)]}}function FC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tA(r,o);const u=function(_){if(_.length!==0)return rA(Fn.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(x){return{field:za(x.field),direction:QC(x.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function GC(r){let e=jC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(I){const x=iA(I);return x instanceof Fn&&MT(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(x=>function(H){return new Jc(qa(H.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(I){let x;return x=typeof I=="object"?I.value:I,gh(x)?null:x}(n.limit));let g=null;n.startAt&&(g=function(I){const x=!!I.before,k=I.values||[];return new Wc(k,x)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const x=!I.before,k=I.values||[];return new Wc(k,x)}(n.endAt)),hC(e,o,f,u,m,"F",g,_)}function KC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qa(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(n){return Et.create(qa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(s=>iA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(r):we()}function QC(r){return VC[r]}function YC(r){return PC[r]}function XC(r){return kC[r]}function za(r){return{fieldPath:r.canonicalString()}}function qa(r){return Ht.fromServerFormat(r.fieldPath)}function rA(r){return r instanceof Et?function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:YC(n.op),value:n.value}}}(r):r instanceof Fn?function(n){const s=n.getFilters().map(o=>rA(o));return s.length===1?s[0]:{compositeFilter:{op:XC(n.op),filters:s}}}(r):we()}function $C(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Gt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.Tt=e}}function WC(r){const e=GC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.Tn=new eN}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(jr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class eN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aA=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(aA,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Wa(0)}static Kn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="LruGarbageCollector",tN=1048576;function d0([r,e],[n,s]){const o=Oe(r,n);return o===0?Oe(e,s):o}class nN{constructor(e){this.Hn=e,this.buffer=new It(d0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();d0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(f0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?fe(f0,"Ignoring IndexedDB error during garbage collection: ",n):await io(n)}await this.er(3e5)})}}class rN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(mh.ae);const s=new nN(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(h0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,f=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,m=Date.now(),this.removeTargets(e,s,n))).next(I=>(u=I,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(_=Date.now(),ja()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${I} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}function sN(r,e){return new rN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.changes=new zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ol(s.mutation,o,zn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=Os();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=bl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Os();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Wi();const f=Dl(),m=function(){return Dl()}();return n.forEach((g,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof qs)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),Ol(E.mutation,_,E.mutation.getFieldMask(),Rt.now())):f.set(_.key,zn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>{var I;return m.set(_,new oN(E,(I=f.get(_))!==null&&I!==void 0?I:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Dl();let o=new ot((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let E=s.get(g)||zn.empty();E=m.applyToLocalView(_,E),s.set(g,E);const I=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,I)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,E=g.value,I=zT();E.forEach(x=>{if(!u.has(x)){const k=QT(n.get(x),s.get(x));k!==null&&I.set(x,k),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,I))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Os());let m=Pl,g=u;return f.next(_=>J.forEach(_,(E,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{g=g.insert(E,x)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,ke())).next(E=>({batchId:m,changes:BT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=bl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,g=>{const _=function(I,x){return new Ql(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(E=>{E.forEach((I,x)=>{f=f.insert(I,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=bl();return f.forEach((g,_)=>{const E=u.get(g);E!==void 0&&Ol(E.mutation,_,zn.empty(),Rt.now()),yh(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:WC(o.bundledQuery),readTime:gi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.overlays=new ot(ve.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Os();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Os(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=Os(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=Os(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new NC(n,s));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Vr=new It(Pt.mr),this.gr=new It(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Pt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ve(new nt([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ve(new nt([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=ke();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new It(Pt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new CC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ag:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Oe);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ve(u),0);let m=new It(Oe);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.kr=e,this.docs=function(){return new ot(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=Wi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Wi();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||HI(qI(E),s)<=0||(o.has(E.key)||yh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new mN(this)}getSize(e){return J.resolve(this.size)}}class mN extends aN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.persistence=e,this.Qr=new zs(n=>ug(n),cg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new pg,this.targetCount=0,this.Kr=Wa.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Wa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new mh(0),this.zr=!1,this.zr=!0,this.jr=new hN,this.referenceDelegate=e(this),this.Hr=new gN(this),this.indexManager=new JC,this.remoteDocumentCache=function(o){return new dN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new ZC(n),this.Yr=new uN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new fN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new pN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class pN extends GI{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.ti=new pg,this.ni=null}static ri(e){return new _g(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.oi=new zs(s=>YI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sN(this,n)}static ri(e,n){return new ih(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kc(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Zb()?8:KI(Wt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new _N;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(ja()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(ja()<=Pe.DEBUG&&fe("QueryEngine","Query:",Ba(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ja()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):J.resolve())}rs(e,n){if(t0(n))return J.resolve(null);let s=di(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.cs(n,m);return this.ls(n,_,f,g.readTime)?this.rs(e,Vm(n,null,"F")):this.hs(e,_,n,g)}))})))}ss(e,n,s,o){return t0(n)||o.isEqual(Re.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(ja()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(n)),this.hs(e,f,n,zI(o,Pl)).next(m=>m))})}cs(e,n){let s=new It(LT(e));return n.forEach((o,u)=>{yh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return ja()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.ns.getDocumentsMatchingQuery(e,n,jr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",vN=3e8;class EN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ot(Oe),this.Is=new zs(u=>ug(u),cg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function TN(r,e,n,s){return new EN(r,e,n,s)}async function lA(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=ke();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function AN(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,_,E){const I=_.batch,x=I.keys();let k=J.resolve();return x.forEach(H=>{k=k.next(()=>E.getEntry(g,H)).next(Q=>{const X=_.docVersions.get(H);Ke(X!==null),Q.version.compareTo(X)<0&&(I.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),E.addEntry(Q)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(g,I))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=ke();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function uA(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function SN(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,I)=>{const x=o.get(I);if(!x)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,I)));let k=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?k=k.withResumeToken(Gt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(I,k),function(Q,X,se){return Q.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=vN?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0}(x,k,E)&&m.push(n.Hr.updateTargetData(u,k))});let g=Wi(),_=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(bN(u,f,e.documentUpdates).next(E=>{g=E.Vs,_=E.fs})),!s.isEqual(Re.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(I=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.Ts=o,u))}function bN(r,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Wi();return n.forEach((m,g)=>{const _=u.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):fe(vg,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function wN(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ag),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function RN(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function jm(r,e,n){const s=Ie(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ro(f))throw f;fe(vg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function m0(r,e,n){const s=Ie(r);let o=Re.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,E){const I=Ie(g),x=I.Is.get(E);return x!==void 0?J.resolve(I.Ts.get(x)):I.Hr.getTargetData(_,E)}(s,f,di(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:ke())).next(m=>(IN(s,dC(e),m),{documents:m,gs:u})))}function IN(r,e,n){let s=r.Es.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class g0{constructor(){this.activeTargetIds=vC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CN{constructor(){this.ho=new g0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new g0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="ConnectivityMonitor";class _0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(p0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(p0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function Bm(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",DN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ON{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===$c?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Bm(),m=this.bo(e,n.toUriEncodedString());fe(Hd,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,s).then(_=>(fe(Hd,`Received RPC '${e}' ${f}: `,_),_),_=>{throw Ya(Hd,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=DN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class xN extends ON{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Bm();return new Promise((f,m)=>{const g=new fT;g.setWithCredentials(!0),g.listenOnce(dT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Pc.NO_ERROR:const E=g.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Pc.TIMEOUT:fe(Xt,`RPC '${e}' ${u} timed out`),m(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const I=g.getStatus();if(fe(Xt,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x==null?void 0:x.error;if(k&&k.status&&k.message){const H=function(X){const se=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(se)>=0?se:te.UNKNOWN}(k.status);m(new me(H,k.message))}else m(new me(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(te.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{fe(Xt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);fe(Xt,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=Bm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pT(),m=gT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");fe(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const I=f.createWebChannel(E,g);let x=!1,k=!1;const H=new MN({Fo:X=>{k?fe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(x||(fe(Xt,`Opening RPC '${e}' stream ${o} transport.`),I.open(),x=!0),fe(Xt,`RPC '${e}' stream ${o} sending:`,X),I.send(X))},Mo:()=>I.close()}),Q=(X,se,le)=>{X.listen(se,ne=>{try{le(ne)}catch(re){setTimeout(()=>{throw re},0)}})};return Q(I,Sl.EventType.OPEN,()=>{k||(fe(Xt,`RPC '${e}' stream ${o} transport opened.`),H.Qo())}),Q(I,Sl.EventType.CLOSE,()=>{k||(k=!0,fe(Xt,`RPC '${e}' stream ${o} transport closed`),H.Uo())}),Q(I,Sl.EventType.ERROR,X=>{k||(k=!0,Ya(Xt,`RPC '${e}' stream ${o} transport errored:`,X),H.Uo(new me(te.UNAVAILABLE,"The operation could not be completed")))}),Q(I,Sl.EventType.MESSAGE,X=>{var se;if(!k){const le=X.data[0];Ke(!!le);const ne=le,re=(ne==null?void 0:ne.error)||((se=ne[0])===null||se===void 0?void 0:se.error);if(re){fe(Xt,`RPC '${e}' stream ${o} received error:`,re);const ce=re.status;let ee=function(w){const C=vt[w];if(C!==void 0)return $T(C)}(ce),N=re.message;ee===void 0&&(ee=te.INTERNAL,N="Unknown error status: "+ce+" with message "+re.message),k=!0,H.Uo(new me(ee,N)),I.close()}else fe(Xt,`RPC '${e}' stream ${o} received:`,le),H.Ko(le)}}),Q(m,mT.STAT_EVENT,X=>{X.stat===Im.PROXY?fe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):X.stat===Im.NOPROXY&&fe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.$o()},0),H}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r){return new UC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="PersistentStream";class hA{constructor(e,n,s,o,u,f,m,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new me(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(fe(y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VN extends hA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=BC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?gi(f.readTime):Re.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Lm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Mm(g)?{documents:HC(u,g)}:{query:FC(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=JT(u,f.resumeToken);const _=Pm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=nh(u,f.snapshotVersion.toTimestamp());const _=Pm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=KC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Lm(this.serializer),n.removeTarget=e,this.I_(n)}}class PN extends hA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=qC(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Lm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>zC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{}class UN extends kN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,km(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,km(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class LN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zi(n),this.N_=!1):fe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class jN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Hs(this)&&(fe(Us,"Restarting streams for network reachability change."),await async function(g){const _=Ie(g);_.W_.add(4),await $l(_),_.j_.set("Unknown"),_.W_.delete(4),await Sh(_)}(this))})}),this.j_=new LN(s,o)}}async function Sh(r){if(Hs(r))for(const e of r.G_)await e(!0)}async function $l(r){for(const e of r.G_)await e(!1)}function fA(r,e){const n=Ie(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Sg(n)?Ag(n):so(n).c_()&&Tg(n,e))}function Eg(r,e){const n=Ie(r),s=so(n);n.K_.delete(e),s.c_()&&dA(n,e),n.K_.size===0&&(s.c_()?s.P_():Hs(n)&&n.j_.set("Unknown"))}function Tg(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(r).y_(e)}function dA(r,e){r.H_.Ne(e),so(r).w_(e)}function Ag(r){r.H_=new xC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),so(r).start(),r.j_.B_()}function Sg(r){return Hs(r)&&!so(r).u_()&&r.K_.size>0}function Hs(r){return Ie(r).W_.size===0}function mA(r){r.H_=void 0}async function BN(r){r.j_.set("Online")}async function zN(r){r.K_.forEach((e,n)=>{Tg(r,e)})}async function qN(r,e){mA(r),Sg(r)?(r.j_.q_(e),Ag(r)):r.j_.set("Unknown")}async function HN(r,e,n){if(r.j_.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){fe(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rh(r,s)}else if(e instanceof jc?r.H_.We(e):e instanceof ZT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Re.min()))try{const s=await uA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.K_.get(_);E&&u.K_.set(_,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,_)=>{const E=u.K_.get(g);if(!E)return;u.K_.set(g,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),dA(u,g);const I=new xr(E.target,g,_,E.sequenceNumber);Tg(u,I)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){fe(Us,"Failed to raise snapshot:",s),await rh(r,s)}}async function rh(r,e,n){if(!ro(e))throw e;r.W_.add(1),await $l(r),r.j_.set("Offline"),n||(n=()=>uA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(Us,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Sh(r)})}function gA(r,e){return e().catch(n=>rh(r,n,e))}async function bh(r){const e=Ie(r),n=Hr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:ag;for(;FN(e);)try{const o=await wN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,GN(e,o)}catch(o){await rh(e,o)}pA(e)&&_A(e)}function FN(r){return Hs(r)&&r.U_.length<10}function GN(r,e){r.U_.push(e);const n=Hr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function pA(r){return Hs(r)&&!Hr(r).u_()&&r.U_.length>0}function _A(r){Hr(r).start()}async function KN(r){Hr(r).C_()}async function QN(r){const e=Hr(r);for(const n of r.U_)e.b_(n.mutations)}async function YN(r,e,n){const s=r.U_.shift(),o=dg.from(s,e,n);await gA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await bh(r)}async function XN(r,e){e&&Hr(r).S_&&await async function(s,o){if(function(f){return OC(f)&&f!==te.ABORTED}(o.code)){const u=s.U_.shift();Hr(s).h_(),await gA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await bh(s)}}(r,e),pA(r)&&_A(r)}async function v0(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),fe(Us,"RemoteStore received new credentials");const s=Hs(n);n.W_.add(3),await $l(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Sh(n)}async function $N(r,e){const n=Ie(r);e?(n.W_.delete(2),await Sh(n)):e||(n.W_.add(2),await $l(n),n.j_.set("Unknown"))}function so(r){return r.J_||(r.J_=function(n,s,o){const u=Ie(n);return u.M_(),new VN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:BN.bind(null,r),No:zN.bind(null,r),Lo:qN.bind(null,r),p_:HN.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Sg(r)?Ag(r):r.j_.set("Unknown")):(await r.J_.stop(),mA(r))})),r.J_}function Hr(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ie(n);return u.M_(),new PN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:KN.bind(null,r),Lo:XN.bind(null,r),D_:QN.bind(null,r),v_:YN.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await bh(r)):(await r.Y_.stop(),r.U_.length>0&&(fe(Us,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new bg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),ro(r))return new me(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=bl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.Z_=new ot(ve.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ja{constructor(e,n,s,o,u,f,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ja(e,n,Qa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WN{constructor(){this.queries=T0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=T0(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function T0(){return new zs(r=>UT(r),_h)}async function yA(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new ZN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=wg(f,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Rg(n)}async function vA(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JN(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Rg(n)}function e2(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Rg(r){r.ia.forEach(e=>{e.next()})}var zm,A0;(A0=zm||(zm={}))._a="default",A0.Cache="cache";class EA{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ja(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.key=e}}class AA{constructor(e){this.key=e}}class t2{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=LT(e),this.wa=new Qa(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new E0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,I)=>{const x=o.get(E),k=yh(this.query,I)?I:null,H=!!x&&this.mutatedKeys.has(x.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let X=!1;x&&k?x.data.isEqual(k.data)?H!==Q&&(s.track({type:3,doc:k}),X=!0):this.va(x,k)||(s.track({type:2,doc:k}),X=!0,(g&&this.ya(k,g)>0||_&&this.ya(k,_)<0)&&(m=!0)):!x&&k?(s.track({type:0,doc:k}),X=!0):x&&!k&&(s.track({type:1,doc:x}),X=!0,(g||_)&&(m=!0)),X&&(k?(f=f.add(k),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,I)=>function(k,H){const Q=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return Q(k)-Q(H)}(E.type,I.type)||this.ya(E.doc,I.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,_=g!==this.ga;return this.ga=g,f.length!==0||_?{snapshot:new Ja(this.query,e.wa,u,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new E0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new AA(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new TA(s))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ja.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ig="SyncEngine";class n2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class i2{constructor(e){this.key=e,this.Ba=!1}}class r2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new zs(m=>UT(m),_h),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ve.comparator),this.Ua=new Map,this.Ka=new pg,this.Wa={},this.Ga=new Map,this.za=Wa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function s2(r,e,n=!0){const s=CA(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await SA(s,e,n,!0),o}async function a2(r,e){const n=CA(r);await SA(n,e,!0,!1)}async function SA(r,e,n,s){const o=await RN(r.localStore,di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await o2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&fA(r.remoteStore,o),m}async function o2(r,e,n,s,o){r.Ha=(I,x,k)=>async function(Q,X,se,le){let ne=X.view.ba(se);ne.ls&&(ne=await m0(Q.localStore,X.query,!1).then(({documents:N})=>X.view.ba(N,ne)));const re=le&&le.targetChanges.get(X.targetId),ce=le&&le.targetMismatches.get(X.targetId)!=null,ee=X.view.applyChanges(ne,Q.isPrimaryClient,re,ce);return b0(Q,X.targetId,ee.Ma),ee.snapshot}(r,I,x,k);const u=await m0(r.localStore,e,!0),f=new t2(e,u.gs),m=f.ba(u.documents),g=Xl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,g);b0(r,n,_.Ma);const E=new n2(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function l2(r,e,n){const s=Ie(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!_h(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Eg(s.remoteStore,o.targetId),qm(s,o.targetId)}).catch(io)):(qm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function u2(r,e){const n=Ie(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Eg(n.remoteStore,s.targetId))}async function c2(r,e,n){const s=_2(r);try{const o=await function(f,m){const g=Ie(f),_=Rt.now(),E=m.reduce((k,H)=>k.add(H.key),ke());let I,x;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let H=Wi(),Q=ke();return g.ds.getEntries(k,E).next(X=>{H=X,H.forEach((se,le)=>{le.isValidDocument()||(Q=Q.add(se))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,H)).next(X=>{I=X;const se=[];for(const le of m){const ne=RC(le,I.get(le.key).overlayedDocument);ne!=null&&se.push(new qs(le.key,ne,NT(ne.value.mapValue),mi.exists(!0)))}return g.mutationQueue.addMutationBatch(k,_,se,m)}).next(X=>{x=X;const se=X.applyToLocalDocumentSet(I,Q);return g.documentOverlayCache.saveOverlays(k,X.batchId,se)})}).then(()=>({batchId:x.batchId,changes:BT(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let _=f.Wa[f.currentUser.toKey()];_||(_=new ot(Oe)),_=_.insert(m,g),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await Zl(s,o.changes),await bh(s.remoteStore)}catch(o){const u=wg(o,"Failed to persist write");n.reject(u)}}async function bA(r,e){const n=Ie(r);try{const s=await SN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await Zl(n,s,e)}catch(s){await io(s)}}function S0(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Ie(f);g.onlineState=m;let _=!1;g.queries.forEach((E,I)=>{for(const x of I.ta)x.sa(m)&&(_=!0)}),_&&Rg(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h2(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ot(ve.comparator);f=f.insert(u,Zt.newNoDocument(u,Re.min()));const m=ke().add(u),g=new Th(Re.min(),new Map,new ot(Oe),f,m);await bA(s,g),s.$a=s.$a.remove(u),s.Ua.delete(e),Cg(s)}else await jm(s.localStore,e,!1).then(()=>qm(s,e,n)).catch(io)}async function f2(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await AN(n.localStore,e);RA(n,s,null),wA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,o)}catch(o){await io(o)}}async function d2(r,e,n){const s=Ie(r);try{const o=await function(f,m){const g=Ie(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,m).next(I=>(Ke(I!==null),E=I.keys(),g.mutationQueue.removeMutationBatch(_,I))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(s.localStore,e);RA(s,e,n),wA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zl(s,o)}catch(o){await io(o)}}function wA(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function RA(r,e,n){const s=Ie(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||IA(r,s)})}function IA(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Eg(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Cg(r))}function b0(r,e,n){for(const s of n)s instanceof TA?(r.Ka.addReference(s.key,e),m2(r,s)):s instanceof AA?(fe(Ig,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||IA(r,s.key)):we()}function m2(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(fe(Ig,"New document in limbo: "+n),r.Qa.add(s),Cg(r))}function Cg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ve(nt.fromString(e)),s=r.za.next();r.Ua.set(s,new i2(n)),r.$a=r.$a.insert(n,s),fA(r.remoteStore,new xr(di(hg(n.path)),s,"TargetPurposeLimboResolution",mh.ae))}}async function Zl(r,e,n){const s=Ie(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,e,n).then(_=>{var E;if((_||n)&&s.isPrimaryClient){const I=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(_){o.push(_);const I=yg.Yi(g.targetId,_);u.push(I)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,_){const E=Ie(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>J.forEach(_,x=>J.forEach(x.Hi,k=>E.persistence.referenceDelegate.addReference(I,x.targetId,k)).next(()=>J.forEach(x.Ji,k=>E.persistence.referenceDelegate.removeReference(I,x.targetId,k)))))}catch(I){if(!ro(I))throw I;fe(vg,"Failed to update sequence numbers: "+I)}for(const I of _){const x=I.targetId;if(!I.fromCache){const k=E.Ts.get(x),H=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(H);E.Ts=E.Ts.insert(x,Q)}}}(s.localStore,u))}async function g2(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){fe(Ig,"User change. New user:",e.toKey());const s=await lA(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new me(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Rs)}}function p2(r,e){const n=Ie(r),s=n.Ua.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function CA(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h2.bind(null,e),e.La.p_=JN.bind(null,e.eventManager),e.La.Ja=e2.bind(null,e.eventManager),e}function _2(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d2.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return TN(this.persistence,new yN,e.initialUser,this.serializer)}Xa(e){return new oA(_g.ri,this.serializer)}Za(e){return new CN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class y2 extends sh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof ih);const s=this.persistence.referenceDelegate.garbageCollector;return new iN(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new oA(s=>ih.ri(s,n),this.serializer)}}class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g2.bind(null,this.syncEngine),await $N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WN}()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),s=function(u){return new xN(u)}(e.databaseInfo);return function(u,f,m,g){return new UN(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new jN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>S0(this.syncEngine,n,0),function(){return _0.D()?new _0:new NN}())}createSyncEngine(e,n){return function(o,u,f,m,g,_,E){const I=new r2(o,u,f,m,g,_);return E&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);fe(Us,"RemoteStore shutting down."),u.W_.add(5),await $l(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class v2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=vT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(Fr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(Fr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Gd(r,e){r.asyncQueue.verifyOperationInProgress(),fe(Fr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await lA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function w0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await E2(r);fe(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>v0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>v0(e.remoteStore,o)),r._onlineComponents=e}async function E2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(Fr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Gd(r,new sh)}}else fe(Fr,"Using default OfflineComponentProvider"),await Gd(r,new y2(void 0));return r._offlineComponents}async function DA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(Fr,"Using user provided OnlineComponentProvider"),await w0(r,r._uninitializedComponentsProvider._online)):(fe(Fr,"Using default OnlineComponentProvider"),await w0(r,new Hm))),r._onlineComponents}function T2(r){return DA(r).then(e=>e.syncEngine)}async function OA(r){const e=await DA(r),n=e.eventManager;return n.onListen=s2.bind(null,e.syncEngine),n.onUnlisten=l2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u2.bind(null,e.syncEngine),n}function A2(r,e,n={}){const s=new Yi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,_){const E=new NA({next:x=>{E.su(),f.enqueueAndForget(()=>vA(u,I));const k=x.docs.has(m);!k&&x.fromCache?_.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&x.fromCache&&g&&g.source==="server"?_.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new EA(hg(m.path),E,{includeMetadataChanges:!0,Ta:!0});return yA(u,I)}(await OA(r),r.asyncQueue,e,n,s)),s.promise}function S2(r,e,n={}){const s=new Yi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,_){const E=new NA({next:x=>{E.su(),f.enqueueAndForget(()=>vA(u,I)),x.fromCache&&g.source==="server"?_.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new EA(m,E,{includeMetadataChanges:!0,Ta:!0});return yA(u,I)}(await OA(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r,e,n){if(!n)throw new me(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function b2(r,e,n,s){if(e===!0&&s===!0)throw new me(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function I0(r){if(!ve.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function C0(r){if(ve.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function Gr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(r);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firestore.googleapis.com",N0=!0;class D0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VA,this.ssl=N0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:N0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tN)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new MI;switch(s.type){case"firstParty":return new kI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=R0.get(n);s&&(fe("ComponentProvider","Removing Datastore"),R0.delete(n),s.terminate())}(this),Promise.resolve()}}function w2(r,e,n,s={}){var o;const u=(r=Gr(r,Rh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==VA&&u.host!==m&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ms(g,f)&&(r._setSettings(g),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=$t.MOCK_USER;else{_=wE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(I)}r._authCredentials=new xI(new _T(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class un{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Ur extends ao{constructor(e,n,s){super(e,n,hg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ve(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function Kd(r,e,...n){if(r=Ft(r),xA("collection","path",e),r instanceof Rh){const s=nt.fromString(e,...n);return C0(s),new Ur(r,null,s)}{if(!(r instanceof un||r instanceof Ur))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return C0(s),new Ur(r.firestore,null,s)}}function Fm(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=vT.newId()),xA("doc","path",e),r instanceof Rh){const s=nt.fromString(e,...n);return I0(s),new un(r,null,new ve(s))}{if(!(r instanceof un||r instanceof Ur))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return I0(s),new un(r.firestore,r instanceof Ur?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="AsyncQueue";class M0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cA(this,"async_queue_retry"),this.Su=()=>{const s=Fd();s&&fe(O0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Fd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Yi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ro(e))throw e;fe(O0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Zi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=bg.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Wl extends Rh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new M0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M0(e),this._firestoreClient=void 0,await e}}}function R2(r,e){const n=typeof r=="object"?r:Ym(),s=typeof r=="string"?r:$c,o=ch(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=AE("firestore");u&&w2(o,...u)}return o}function Ng(r){if(r._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||I2(r),r._firestoreClient}function I2(r){var e,n,s;const o=r._freezeSettings(),u=function(m,g,_,E){return new ZI(m,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,MA(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new v2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(Gt.fromBase64String(e))}catch(n){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^__.*__$/;class N2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}function kA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class xg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ah(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(kA(this.Lu)&&C2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class D2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ah(e)}ju(e,n,s,o=!1){return new xg({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vg(r){const e=r._freezeSettings(),n=Ah(r._databaseId);return new D2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function UA(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);BA("Data must be an object, but it was:",f,s);const m=LA(s,f);let g,_;if(u.merge)g=new zn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const I of u.mergeFields){const x=M2(e,I,n);if(!f.contains(x))throw new me(te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);V2(E,x)||E.push(x)}g=new zn(E),_=f.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,_=f.fieldTransforms;return new N2(new xn(m),g,_)}function O2(r,e,n,s=!1){return Pg(n,r.ju(s?4:3,e))}function Pg(r,e){if(jA(r=Ft(r)))return BA("Unsupported field value:",e,r),LA(r,e);if(r instanceof PA)return function(s,o){if(!kA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=Pg(m,o.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:nh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nh(o.serializer,u)}}if(s instanceof Og)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof eo)return{bytesValue:JT(o.serializer,s._byteString)};if(s instanceof un){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mg)return function(f,m){return{mapValue:{fields:{[IT]:{stringValue:CT},[Zc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return fg(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${wh(s)}`)}(r,e)}function LA(r,e){const n={};return TT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(r,(s,o)=>{const u=Pg(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function jA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Og||r instanceof eo||r instanceof un||r instanceof PA||r instanceof Mg)}function BA(r,e,n){if(!jA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=wh(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function M2(r,e,n){if((e=Ft(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return zA(r,e);throw ah("Field path arguments must be of type string or ",r,!1,void 0,n)}const x2=new RegExp("[~\\*/\\[\\]]");function zA(r,e,n){if(e.search(x2)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ah(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new me(te.INVALID_ARGUMENT,m+r+g)}function V2(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P2 extends qA{data(){return super.data()}}function kg(r,e){return typeof e=="string"?zA(r,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class U2 extends Ug{}function x0(r,e,...n){let s=[];e instanceof Ug&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof Lg).length,m=u.filter(g=>g instanceof Ih).length;if(f>1||f>0&&m>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Ih extends U2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ih(e,n,s)}_apply(e){const n=this._parse(e);return HA(e._query,n),new ao(e.firestore,e.converter,xm(e._query,n))}_parse(e){const n=Vg(e.firestore);return function(u,f,m,g,_,E,I){let x;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){k0(I,E);const H=[];for(const Q of I)H.push(P0(g,u,Q));x={arrayValue:{values:H}}}else x=P0(g,u,I)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||k0(I,E),x=O2(m,f,I,E==="in"||E==="not-in");return Et.create(_,E,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V0(r,e,n){const s=e,o=kg("where",r);return Ih._create(o,s,n)}class Lg extends Ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)HA(f,g),f=xm(f,g)}(e._query,n),new ao(e.firestore,e.converter,xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P0(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kT(e)&&n.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ve.isDocumentKey(s))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xv(r,new ve(s))}if(n instanceof un)return Xv(r,n._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function k0(r,e){if(!Array.isArray(r)||r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HA(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L2{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Bs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Zc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new Mg(u)}convertGeoPoint(e){return new Og(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=Br(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ke(sA(s));const o=new Ul(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GA extends qA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(kg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bc extends GA{data(e={}){return super.data(e)}}class j2{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Rl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new Rl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Rl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Rl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:B2(m.type),doc:g,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function B2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){r=Gr(r,un);const e=Gr(r.firestore,Wl);return A2(Ng(e),r._key).then(n=>F2(e,r,n))}class KA extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function U0(r){r=Gr(r,ao);const e=Gr(r.firestore,Wl),n=Ng(e),s=new KA(e);return k2(r._query),S2(n,r._query).then(o=>new j2(e,s,r,o))}function q2(r,e,n){r=Gr(r,un);const s=Gr(r.firestore,Wl),o=FA(r.converter,e);return QA(s,[UA(Vg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,mi.none())])}function H2(r,e){const n=Gr(r.firestore,Wl),s=Fm(r),o=FA(r.converter,e);return QA(n,[UA(Vg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,mi.exists(!1))]).then(()=>s)}function QA(r,e){return function(s,o){const u=new Yi;return s.asyncQueue.enqueueAndForget(async()=>c2(await T2(s),o,u)),u.promise}(Ng(r),e)}function F2(r,e,n){const s=n.docs.get(e._key),o=new KA(r);return new GA(r,o,e._key,s,new Rl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){no=o})(Ls),xs(new Lr("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Wl(new VI(s.getProvider("auth-internal")),new UI(f,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(_.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ci(Uv,Lv,e),ci(Uv,Lv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebasestorage.googleapis.com",G2="storageBucket",K2=2*60*1e3,Q2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends yi{constructor(e,n,s=0){super(Qd(e),`Firebase Storage: ${n} (${Qd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _i;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_i||(_i={}));function Qd(r){return"storage/"+r}function Y2(){const r="An unknown error occurred, please check the error payload for server response.";return new vi(_i.UNKNOWN,r)}function X2(){return new vi(_i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $2(){return new vi(_i.CANCELED,"User canceled the upload/download.")}function Z2(r){return new vi(_i.INVALID_URL,"Invalid URL '"+r+"'.")}function W2(r){return new vi(_i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function L0(r){return new vi(_i.INVALID_ARGUMENT,r)}function XA(){return new vi(_i.APP_DELETED,"The Firebase app was deleted.")}function J2(r){return new vi(_i.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=qn.makeFromUrl(e,n)}catch{return new qn(e,"")}if(s.path==="")return s;throw W2(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function _(re){re.path_=decodeURIComponent(re.path)}const E="v[A-Za-z0-9_]+",I=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",k=new RegExp(`^https?://${I}/${E}/b/${o}/o${x}`,"i"),H={bucket:1,path:3},Q=n===YA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,X="([^?#]*)",se=new RegExp(`^https?://${Q}/${o}/${X}`,"i"),ne=[{regex:m,indices:g,postModify:u},{regex:k,indices:H,postModify:_},{regex:se,indices:{bucket:1,path:2},postModify:_}];for(let re=0;re<ne.length;re++){const ce=ne[re],ee=ce.regex.exec(e);if(ee){const N=ee[ce.indices.bucket];let b=ee[ce.indices.path];b||(b=""),s=new qn(N,b),ce.postModify(s);break}}if(s==null)throw Z2(e);return s}}class eD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let _=!1;function E(...X){_||(_=!0,e.apply(null,X))}function I(X){o=setTimeout(()=>{o=null,r(k,g())},X)}function x(){u&&clearTimeout(u)}function k(X,...se){if(_){x();return}if(X){x(),E.call(null,X,...se);return}if(g()||f){x(),E.call(null,X,...se);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,I(ne)}let H=!1;function Q(X){H||(H=!0,x(),!_&&(o!==null?(X||(m=2),clearTimeout(o),I(0)):X||(m=1)))}return I(0),u=setTimeout(()=>{f=!0,Q(!0)},n),Q}function nD(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(r){return r!==void 0}function j0(r,e,n,s){if(s<e)throw L0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw L0(`Invalid value for '${r}'. Expected ${n} or less.`)}function rD(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var oh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(oh||(oh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,s,o,u,f,m,g,_,E,I,x=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=I,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,H)=>{this.resolve_=k,this.reject_=H,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Nc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,_)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===oh.NO_ERROR,g=u.getStatus();if(!m||sD(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===oh.ABORT;s(!1,new Nc(!1,null,E));return}const _=this.successCodes_.indexOf(g)!==-1;s(!0,new Nc(_,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());iD(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=Y2();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?XA():$2();f(g)}else{const g=X2();f(g)}};this.canceled_?n(!1,new Nc(!1,null,!0)):this.backoffId_=tD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function oD(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function lD(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uD(r,e){e&&(r["X-Firebase-GMPID"]=e)}function cD(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function hD(r,e,n,s,o,u,f=!0){const m=rD(r.urlParams),g=r.url+m,_=Object.assign({},r.headers);return uD(_,e),oD(_,n),lD(_,u),cD(_,s),new aD(g,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function dD(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this._service=e,n instanceof qn?this._location=n:this._location=qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lh(e,n)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dD(this._location.path)}get storage(){return this._service}get parent(){const e=fD(this._location.path);if(e===null)return null;const n=new qn(this._location.bucket,e);return new lh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw J2(e)}}function B0(r,e){const n=e==null?void 0:e[G2];return n==null?null:qn.makeFromBucketSpec(n,r)}function mD(r,e,n,s={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:wE(o,r.app.options.projectId))}class gD{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=YA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K2,this._maxUploadRetryTime=Q2,this._requests=new Set,o!=null?this._bucket=qn.makeFromBucketSpec(o,this._host):this._bucket=B0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=B0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new eD(XA());{const f=hD(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const z0="@firebase/storage",q0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="storage";function pD(r=Ym(),e){r=Ft(r);const s=ch(r,$A).getImmediate({identifier:e}),o=AE("storage");return o&&_D(s,...o),s}function _D(r,e,n,s={}){mD(r,e,n,s)}function yD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new gD(n,s,o,e,Ls)}function vD(){xs(new Lr($A,yD,"PUBLIC").setMultipleInstances(!0)),ci(z0,q0,""),ci(z0,q0,"esm2017")}vD();const ED={apiKey:"AIzaSyALi3aD4f5MLqlRbL-sk2s2ReSgoxc6sW8",authDomain:"projeto-pet-746d8.firebaseapp.com",projectId:"projeto-pet-746d8",storageBucket:"projeto-pet-746d8.firebasestorage.app",messagingSenderId:"618638980041",appId:"1:618638980041:web:1b6c597b9c6e49bd156e18",measurementId:"G-4QVDJS3EVX"},jg=CE(ED),yl=DI(jg),vl=R2(jg);pD(jg);const zt=[];for(let r=0;r<256;++r)zt.push((r+256).toString(16).slice(1));function TD(r,e=0){return(zt[r[e+0]]+zt[r[e+1]]+zt[r[e+2]]+zt[r[e+3]]+"-"+zt[r[e+4]]+zt[r[e+5]]+"-"+zt[r[e+6]]+zt[r[e+7]]+"-"+zt[r[e+8]]+zt[r[e+9]]+"-"+zt[r[e+10]]+zt[r[e+11]]+zt[r[e+12]]+zt[r[e+13]]+zt[r[e+14]]+zt[r[e+15]]).toLowerCase()}let Yd;const AD=new Uint8Array(16);function SD(){if(!Yd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yd=crypto.getRandomValues.bind(crypto)}return Yd(AD)}const bD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H0={randomUUID:bD};function wD(r,e,n){var o;if(H0.randomUUID&&!r)return H0.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??SD();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,TD(s)}const RD="/assets/adoption-pets-BN1g8zAC.png";var La={},Xd,F0;function ID(){return F0||(F0=1,Xd=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Xd}var $d={},Cr={},G0;function Fs(){if(G0)return Cr;G0=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Cr.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return s*4+17},Cr.getSymbolTotalCodewords=function(s){return e[s]},Cr.getBCHDigit=function(n){let s=0;for(;n!==0;)s++,n>>>=1;return s},Cr.setToSJISFunction=function(s){if(typeof s!="function")throw new Error('"toSJISFunc" is not a valid function.');r=s},Cr.isKanjiModeEnabled=function(){return typeof r<"u"},Cr.toSJIS=function(s){return r(s)},Cr}var Zd={},K0;function Bg(){return K0||(K0=1,function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},r.from=function(s,o){if(r.isValid(s))return s;try{return e(s)}catch{return o}}}(Zd)),Zd}var Wd,Q0;function CD(){if(Q0)return Wd;Q0=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let s=0;s<n;s++)this.putBit((e>>>n-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Wd=r,Wd}var Jd,Y0;function ND(){if(Y0)return Jd;Y0=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,n,s,o){const u=e*this.size+n;this.data[u]=s,o&&(this.reservedBit[u]=!0)},r.prototype.get=function(e,n){return this.data[e*this.size+n]},r.prototype.xor=function(e,n,s){this.data[e*this.size+n]^=s},r.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Jd=r,Jd}var em={},X0;function DD(){return X0||(X0=1,function(r){const e=Fs().getSymbolSize;r.getRowColCoords=function(s){if(s===1)return[];const o=Math.floor(s/7)+2,u=e(s),f=u===145?26:Math.ceil((u-13)/(2*o-2))*2,m=[u-7];for(let g=1;g<o-1;g++)m[g]=m[g-1]-f;return m.push(6),m.reverse()},r.getPositions=function(s){const o=[],u=r.getRowColCoords(s),f=u.length;for(let m=0;m<f;m++)for(let g=0;g<f;g++)m===0&&g===0||m===0&&g===f-1||m===f-1&&g===0||o.push([u[m],u[g]]);return o}}(em)),em}var tm={},$0;function OD(){if($0)return tm;$0=1;const r=Fs().getSymbolSize,e=7;return tm.getPositions=function(s){const o=r(s);return[[0,0],[o-e,0],[0,o-e]]},tm}var nm={},Z0;function MD(){return Z0||(Z0=1,function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},r.from=function(o){return r.isValid(o)?parseInt(o,10):void 0},r.getPenaltyN1=function(o){const u=o.size;let f=0,m=0,g=0,_=null,E=null;for(let I=0;I<u;I++){m=g=0,_=E=null;for(let x=0;x<u;x++){let k=o.get(I,x);k===_?m++:(m>=5&&(f+=e.N1+(m-5)),_=k,m=1),k=o.get(x,I),k===E?g++:(g>=5&&(f+=e.N1+(g-5)),E=k,g=1)}m>=5&&(f+=e.N1+(m-5)),g>=5&&(f+=e.N1+(g-5))}return f},r.getPenaltyN2=function(o){const u=o.size;let f=0;for(let m=0;m<u-1;m++)for(let g=0;g<u-1;g++){const _=o.get(m,g)+o.get(m,g+1)+o.get(m+1,g)+o.get(m+1,g+1);(_===4||_===0)&&f++}return f*e.N2},r.getPenaltyN3=function(o){const u=o.size;let f=0,m=0,g=0;for(let _=0;_<u;_++){m=g=0;for(let E=0;E<u;E++)m=m<<1&2047|o.get(_,E),E>=10&&(m===1488||m===93)&&f++,g=g<<1&2047|o.get(E,_),E>=10&&(g===1488||g===93)&&f++}return f*e.N3},r.getPenaltyN4=function(o){let u=0;const f=o.data.length;for(let g=0;g<f;g++)u+=o.data[g];return Math.abs(Math.ceil(u*100/f/5)-10)*e.N4};function n(s,o,u){switch(s){case r.Patterns.PATTERN000:return(o+u)%2===0;case r.Patterns.PATTERN001:return o%2===0;case r.Patterns.PATTERN010:return u%3===0;case r.Patterns.PATTERN011:return(o+u)%3===0;case r.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(u/3))%2===0;case r.Patterns.PATTERN101:return o*u%2+o*u%3===0;case r.Patterns.PATTERN110:return(o*u%2+o*u%3)%2===0;case r.Patterns.PATTERN111:return(o*u%3+(o+u)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}r.applyMask=function(o,u){const f=u.size;for(let m=0;m<f;m++)for(let g=0;g<f;g++)u.isReserved(g,m)||u.xor(g,m,n(o,g,m))},r.getBestMask=function(o,u){const f=Object.keys(r.Patterns).length;let m=0,g=1/0;for(let _=0;_<f;_++){u(_),r.applyMask(_,o);const E=r.getPenaltyN1(o)+r.getPenaltyN2(o)+r.getPenaltyN3(o)+r.getPenaltyN4(o);r.applyMask(_,o),E<g&&(g=E,m=_)}return m}}(nm)),nm}var Dc={},W0;function ZA(){if(W0)return Dc;W0=1;const r=Bg(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Dc.getBlocksCount=function(o,u){switch(u){case r.L:return e[(o-1)*4+0];case r.M:return e[(o-1)*4+1];case r.Q:return e[(o-1)*4+2];case r.H:return e[(o-1)*4+3];default:return}},Dc.getTotalCodewordsCount=function(o,u){switch(u){case r.L:return n[(o-1)*4+0];case r.M:return n[(o-1)*4+1];case r.Q:return n[(o-1)*4+2];case r.H:return n[(o-1)*4+3];default:return}},Dc}var im={},El={},J0;function xD(){if(J0)return El;J0=1;const r=new Uint8Array(512),e=new Uint8Array(256);return function(){let s=1;for(let o=0;o<255;o++)r[o]=s,e[s]=o,s<<=1,s&256&&(s^=285);for(let o=255;o<512;o++)r[o]=r[o-255]}(),El.log=function(s){if(s<1)throw new Error("log("+s+")");return e[s]},El.exp=function(s){return r[s]},El.mul=function(s,o){return s===0||o===0?0:r[e[s]+e[o]]},El}var eE;function VD(){return eE||(eE=1,function(r){const e=xD();r.mul=function(s,o){const u=new Uint8Array(s.length+o.length-1);for(let f=0;f<s.length;f++)for(let m=0;m<o.length;m++)u[f+m]^=e.mul(s[f],o[m]);return u},r.mod=function(s,o){let u=new Uint8Array(s);for(;u.length-o.length>=0;){const f=u[0];for(let g=0;g<o.length;g++)u[g]^=e.mul(o[g],f);let m=0;for(;m<u.length&&u[m]===0;)m++;u=u.slice(m)}return u},r.generateECPolynomial=function(s){let o=new Uint8Array([1]);for(let u=0;u<s;u++)o=r.mul(o,new Uint8Array([1,e.exp(u)]));return o}}(im)),im}var rm,tE;function PD(){if(tE)return rm;tE=1;const r=VD();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(s){this.degree=s,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(s){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(s.length+this.degree);o.set(s);const u=r.mod(o,this.genPoly),f=this.degree-u.length;if(f>0){const m=new Uint8Array(this.degree);return m.set(u,f),m}return u},rm=e,rm}var sm={},am={},om={},nE;function WA(){return nE||(nE=1,om.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),om}var li={},iE;function JA(){if(iE)return li;iE=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;li.KANJI=new RegExp(n,"g"),li.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),li.BYTE=new RegExp(s,"g"),li.NUMERIC=new RegExp(r,"g"),li.ALPHANUMERIC=new RegExp(e,"g");const o=new RegExp("^"+n+"$"),u=new RegExp("^"+r+"$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return li.testKanji=function(g){return o.test(g)},li.testNumeric=function(g){return u.test(g)},li.testAlphanumeric=function(g){return f.test(g)},li}var rE;function Gs(){return rE||(rE=1,function(r){const e=WA(),n=JA();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(u,f){if(!u.ccBits)throw new Error("Invalid mode: "+u);if(!e.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?u.ccBits[0]:f<27?u.ccBits[1]:u.ccBits[2]},r.getBestModeForData=function(u){return n.testNumeric(u)?r.NUMERIC:n.testAlphanumeric(u)?r.ALPHANUMERIC:n.testKanji(u)?r.KANJI:r.BYTE},r.toString=function(u){if(u&&u.id)return u.id;throw new Error("Invalid mode")},r.isValid=function(u){return u&&u.bit&&u.ccBits};function s(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+o)}}r.from=function(u,f){if(r.isValid(u))return u;try{return s(u)}catch{return f}}}(am)),am}var sE;function kD(){return sE||(sE=1,function(r){const e=Fs(),n=ZA(),s=Bg(),o=Gs(),u=WA(),f=7973,m=e.getBCHDigit(f);function g(x,k,H){for(let Q=1;Q<=40;Q++)if(k<=r.getCapacity(Q,H,x))return Q}function _(x,k){return o.getCharCountIndicator(x,k)+4}function E(x,k){let H=0;return x.forEach(function(Q){const X=_(Q.mode,k);H+=X+Q.getBitsLength()}),H}function I(x,k){for(let H=1;H<=40;H++)if(E(x,H)<=r.getCapacity(H,k,o.MIXED))return H}r.from=function(k,H){return u.isValid(k)?parseInt(k,10):H},r.getCapacity=function(k,H,Q){if(!u.isValid(k))throw new Error("Invalid QR Code version");typeof Q>"u"&&(Q=o.BYTE);const X=e.getSymbolTotalCodewords(k),se=n.getTotalCodewordsCount(k,H),le=(X-se)*8;if(Q===o.MIXED)return le;const ne=le-_(Q,k);switch(Q){case o.NUMERIC:return Math.floor(ne/10*3);case o.ALPHANUMERIC:return Math.floor(ne/11*2);case o.KANJI:return Math.floor(ne/13);case o.BYTE:default:return Math.floor(ne/8)}},r.getBestVersionForData=function(k,H){let Q;const X=s.from(H,s.M);if(Array.isArray(k)){if(k.length>1)return I(k,X);if(k.length===0)return 1;Q=k[0]}else Q=k;return g(Q.mode,Q.getLength(),X)},r.getEncodedBits=function(k){if(!u.isValid(k)||k<7)throw new Error("Invalid QR Code version");let H=k<<12;for(;e.getBCHDigit(H)-m>=0;)H^=f<<e.getBCHDigit(H)-m;return k<<12|H}}(sm)),sm}var lm={},aE;function UD(){if(aE)return lm;aE=1;const r=Fs(),e=1335,n=21522,s=r.getBCHDigit(e);return lm.getEncodedBits=function(u,f){const m=u.bit<<3|f;let g=m<<10;for(;r.getBCHDigit(g)-s>=0;)g^=e<<r.getBCHDigit(g)-s;return(m<<10|g)^n},lm}var um={},cm,oE;function LD(){if(oE)return cm;oE=1;const r=Gs();function e(n){this.mode=r.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(s){let o,u,f;for(o=0;o+3<=this.data.length;o+=3)u=this.data.substr(o,3),f=parseInt(u,10),s.put(f,10);const m=this.data.length-o;m>0&&(u=this.data.substr(o),f=parseInt(u,10),s.put(f,m*3+1))},cm=e,cm}var hm,lE;function jD(){if(lE)return hm;lE=1;const r=Gs(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(s){this.mode=r.ALPHANUMERIC,this.data=s}return n.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let u;for(u=0;u+2<=this.data.length;u+=2){let f=e.indexOf(this.data[u])*45;f+=e.indexOf(this.data[u+1]),o.put(f,11)}this.data.length%2&&o.put(e.indexOf(this.data[u]),6)},hm=n,hm}var fm,uE;function BD(){if(uE)return fm;uE=1;const r=Gs();function e(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(s){return s*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let s=0,o=this.data.length;s<o;s++)n.put(this.data[s],8)},fm=e,fm}var dm,cE;function zD(){if(cE)return dm;cE=1;const r=Gs(),e=Fs();function n(s){this.mode=r.KANJI,this.data=s}return n.getBitsLength=function(o){return o*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let o;for(o=0;o<this.data.length;o++){let u=e.toSJIS(this.data[o]);if(u>=33088&&u<=40956)u-=33088;else if(u>=57408&&u<=60351)u-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);u=(u>>>8&255)*192+(u&255),s.put(u,13)}},dm=n,dm}var mm={exports:{}},hE;function qD(){return hE||(hE=1,function(r){var e={single_source_shortest_paths:function(n,s,o){var u={},f={};f[s]=0;var m=e.PriorityQueue.make();m.push(s,0);for(var g,_,E,I,x,k,H,Q,X;!m.empty();){g=m.pop(),_=g.value,I=g.cost,x=n[_]||{};for(E in x)x.hasOwnProperty(E)&&(k=x[E],H=I+k,Q=f[E],X=typeof f[E]>"u",(X||Q>H)&&(f[E]=H,m.push(E,H),u[E]=_))}if(typeof o<"u"&&typeof f[o]>"u"){var se=["Could not find a path from ",s," to ",o,"."].join("");throw new Error(se)}return u},extract_shortest_path_from_predecessor_list:function(n,s){for(var o=[],u=s;u;)o.push(u),n[u],u=n[u];return o.reverse(),o},find_path:function(n,s,o){var u=e.single_source_shortest_paths(n,s,o);return e.extract_shortest_path_from_predecessor_list(u,o)},PriorityQueue:{make:function(n){var s=e.PriorityQueue,o={},u;n=n||{};for(u in s)s.hasOwnProperty(u)&&(o[u]=s[u]);return o.queue=[],o.sorter=n.sorter||s.default_sorter,o},default_sorter:function(n,s){return n.cost-s.cost},push:function(n,s){var o={value:n,cost:s};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e}(mm)),mm.exports}var fE;function HD(){return fE||(fE=1,function(r){const e=Gs(),n=LD(),s=jD(),o=BD(),u=zD(),f=JA(),m=Fs(),g=qD();function _(se){return unescape(encodeURIComponent(se)).length}function E(se,le,ne){const re=[];let ce;for(;(ce=se.exec(ne))!==null;)re.push({data:ce[0],index:ce.index,mode:le,length:ce[0].length});return re}function I(se){const le=E(f.NUMERIC,e.NUMERIC,se),ne=E(f.ALPHANUMERIC,e.ALPHANUMERIC,se);let re,ce;return m.isKanjiModeEnabled()?(re=E(f.BYTE,e.BYTE,se),ce=E(f.KANJI,e.KANJI,se)):(re=E(f.BYTE_KANJI,e.BYTE,se),ce=[]),le.concat(ne,re,ce).sort(function(N,b){return N.index-b.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function x(se,le){switch(le){case e.NUMERIC:return n.getBitsLength(se);case e.ALPHANUMERIC:return s.getBitsLength(se);case e.KANJI:return u.getBitsLength(se);case e.BYTE:return o.getBitsLength(se)}}function k(se){return se.reduce(function(le,ne){const re=le.length-1>=0?le[le.length-1]:null;return re&&re.mode===ne.mode?(le[le.length-1].data+=ne.data,le):(le.push(ne),le)},[])}function H(se){const le=[];for(let ne=0;ne<se.length;ne++){const re=se[ne];switch(re.mode){case e.NUMERIC:le.push([re,{data:re.data,mode:e.ALPHANUMERIC,length:re.length},{data:re.data,mode:e.BYTE,length:re.length}]);break;case e.ALPHANUMERIC:le.push([re,{data:re.data,mode:e.BYTE,length:re.length}]);break;case e.KANJI:le.push([re,{data:re.data,mode:e.BYTE,length:_(re.data)}]);break;case e.BYTE:le.push([{data:re.data,mode:e.BYTE,length:_(re.data)}])}}return le}function Q(se,le){const ne={},re={start:{}};let ce=["start"];for(let ee=0;ee<se.length;ee++){const N=se[ee],b=[];for(let w=0;w<N.length;w++){const C=N[w],D=""+ee+w;b.push(D),ne[D]={node:C,lastCount:0},re[D]={};for(let M=0;M<ce.length;M++){const R=ce[M];ne[R]&&ne[R].node.mode===C.mode?(re[R][D]=x(ne[R].lastCount+C.length,C.mode)-x(ne[R].lastCount,C.mode),ne[R].lastCount+=C.length):(ne[R]&&(ne[R].lastCount=C.length),re[R][D]=x(C.length,C.mode)+4+e.getCharCountIndicator(C.mode,le))}}ce=b}for(let ee=0;ee<ce.length;ee++)re[ce[ee]].end=0;return{map:re,table:ne}}function X(se,le){let ne;const re=e.getBestModeForData(se);if(ne=e.from(le,re),ne!==e.BYTE&&ne.bit<re.bit)throw new Error('"'+se+'" cannot be encoded with mode '+e.toString(ne)+`.
 Suggested mode is: `+e.toString(re));switch(ne===e.KANJI&&!m.isKanjiModeEnabled()&&(ne=e.BYTE),ne){case e.NUMERIC:return new n(se);case e.ALPHANUMERIC:return new s(se);case e.KANJI:return new u(se);case e.BYTE:return new o(se)}}r.fromArray=function(le){return le.reduce(function(ne,re){return typeof re=="string"?ne.push(X(re,null)):re.data&&ne.push(X(re.data,re.mode)),ne},[])},r.fromString=function(le,ne){const re=I(le,m.isKanjiModeEnabled()),ce=H(re),ee=Q(ce,ne),N=g.find_path(ee.map,"start","end"),b=[];for(let w=1;w<N.length-1;w++)b.push(ee.table[N[w]].node);return r.fromArray(k(b))},r.rawSplit=function(le){return r.fromArray(I(le,m.isKanjiModeEnabled()))}}(um)),um}var dE;function FD(){if(dE)return $d;dE=1;const r=Fs(),e=Bg(),n=CD(),s=ND(),o=DD(),u=OD(),f=MD(),m=ZA(),g=PD(),_=kD(),E=UD(),I=Gs(),x=HD();function k(ee,N){const b=ee.size,w=u.getPositions(N);for(let C=0;C<w.length;C++){const D=w[C][0],M=w[C][1];for(let R=-1;R<=7;R++)if(!(D+R<=-1||b<=D+R))for(let de=-1;de<=7;de++)M+de<=-1||b<=M+de||(R>=0&&R<=6&&(de===0||de===6)||de>=0&&de<=6&&(R===0||R===6)||R>=2&&R<=4&&de>=2&&de<=4?ee.set(D+R,M+de,!0,!0):ee.set(D+R,M+de,!1,!0))}}function H(ee){const N=ee.size;for(let b=8;b<N-8;b++){const w=b%2===0;ee.set(b,6,w,!0),ee.set(6,b,w,!0)}}function Q(ee,N){const b=o.getPositions(N);for(let w=0;w<b.length;w++){const C=b[w][0],D=b[w][1];for(let M=-2;M<=2;M++)for(let R=-2;R<=2;R++)M===-2||M===2||R===-2||R===2||M===0&&R===0?ee.set(C+M,D+R,!0,!0):ee.set(C+M,D+R,!1,!0)}}function X(ee,N){const b=ee.size,w=_.getEncodedBits(N);let C,D,M;for(let R=0;R<18;R++)C=Math.floor(R/3),D=R%3+b-8-3,M=(w>>R&1)===1,ee.set(C,D,M,!0),ee.set(D,C,M,!0)}function se(ee,N,b){const w=ee.size,C=E.getEncodedBits(N,b);let D,M;for(D=0;D<15;D++)M=(C>>D&1)===1,D<6?ee.set(D,8,M,!0):D<8?ee.set(D+1,8,M,!0):ee.set(w-15+D,8,M,!0),D<8?ee.set(8,w-D-1,M,!0):D<9?ee.set(8,15-D-1+1,M,!0):ee.set(8,15-D-1,M,!0);ee.set(w-8,8,1,!0)}function le(ee,N){const b=ee.size;let w=-1,C=b-1,D=7,M=0;for(let R=b-1;R>0;R-=2)for(R===6&&R--;;){for(let de=0;de<2;de++)if(!ee.isReserved(C,R-de)){let Le=!1;M<N.length&&(Le=(N[M]>>>D&1)===1),ee.set(C,R-de,Le),D--,D===-1&&(M++,D=7)}if(C+=w,C<0||b<=C){C-=w,w=-w;break}}}function ne(ee,N,b){const w=new n;b.forEach(function(de){w.put(de.mode.bit,4),w.put(de.getLength(),I.getCharCountIndicator(de.mode,ee)),de.write(w)});const C=r.getSymbolTotalCodewords(ee),D=m.getTotalCodewordsCount(ee,N),M=(C-D)*8;for(w.getLengthInBits()+4<=M&&w.put(0,4);w.getLengthInBits()%8!==0;)w.putBit(0);const R=(M-w.getLengthInBits())/8;for(let de=0;de<R;de++)w.put(de%2?17:236,8);return re(w,ee,N)}function re(ee,N,b){const w=r.getSymbolTotalCodewords(N),C=m.getTotalCodewordsCount(N,b),D=w-C,M=m.getBlocksCount(N,b),R=w%M,de=M-R,Le=Math.floor(w/M),G=Math.floor(D/M),ue=G+1,pe=Le-G,Ue=new g(pe);let V=0;const W=new Array(M),oe=new Array(M);let ie=0;const _e=new Uint8Array(ee.buffer);for(let it=0;it<M;it++){const Ct=it<de?G:ue;W[it]=_e.slice(V,V+Ct),oe[it]=Ue.encode(W[it]),V+=Ct,ie=Math.max(ie,Ct)}const K=new Uint8Array(w);let he=0,Ce,Ee;for(Ce=0;Ce<ie;Ce++)for(Ee=0;Ee<M;Ee++)Ce<W[Ee].length&&(K[he++]=W[Ee][Ce]);for(Ce=0;Ce<pe;Ce++)for(Ee=0;Ee<M;Ee++)K[he++]=oe[Ee][Ce];return K}function ce(ee,N,b,w){let C;if(Array.isArray(ee))C=x.fromArray(ee);else if(typeof ee=="string"){let Le=N;if(!Le){const G=x.rawSplit(ee);Le=_.getBestVersionForData(G,b)}C=x.fromString(ee,Le||40)}else throw new Error("Invalid data");const D=_.getBestVersionForData(C,b);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!N)N=D;else if(N<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const M=ne(N,b,C),R=r.getSymbolSize(N),de=new s(R);return k(de,N),H(de),Q(de,N),se(de,b,0),N>=7&&X(de,N),le(de,M),isNaN(w)&&(w=f.getBestMask(de,se.bind(null,de,b))),f.applyMask(w,de),se(de,b,w),{modules:de,version:N,errorCorrectionLevel:b,maskPattern:w,segments:C}}return $d.create=function(N,b){if(typeof N>"u"||N==="")throw new Error("No input text");let w=e.M,C,D;return typeof b<"u"&&(w=e.from(b.errorCorrectionLevel,e.M),C=_.from(b.version),D=f.from(b.maskPattern),b.toSJISFunc&&r.setToSJISFunction(b.toSJISFunc)),ce(N,C,w,D)},$d}var gm={},pm={},mE;function eS(){return mE||(mE=1,function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let s=n.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+n);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(u){return[u,u]}))),s.length===6&&s.push("F","F");const o=parseInt(s.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+s.slice(0,6).join("")}}r.getOptions=function(s){s||(s={}),s.color||(s.color={});const o=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,u=s.width&&s.width>=21?s.width:void 0,f=s.scale||4;return{width:u,scale:u?4:f,margin:o,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},r.getScale=function(s,o){return o.width&&o.width>=s+o.margin*2?o.width/(s+o.margin*2):o.scale},r.getImageWidth=function(s,o){const u=r.getScale(s,o);return Math.floor((s+o.margin*2)*u)},r.qrToImageData=function(s,o,u){const f=o.modules.size,m=o.modules.data,g=r.getScale(f,u),_=Math.floor((f+u.margin*2)*g),E=u.margin*g,I=[u.color.light,u.color.dark];for(let x=0;x<_;x++)for(let k=0;k<_;k++){let H=(x*_+k)*4,Q=u.color.light;if(x>=E&&k>=E&&x<_-E&&k<_-E){const X=Math.floor((x-E)/g),se=Math.floor((k-E)/g);Q=I[m[X*f+se]?1:0]}s[H++]=Q.r,s[H++]=Q.g,s[H++]=Q.b,s[H]=Q.a}}}(pm)),pm}var gE;function GD(){return gE||(gE=1,function(r){const e=eS();function n(o,u,f){o.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=f,u.width=f,u.style.height=f+"px",u.style.width=f+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(u,f,m){let g=m,_=f;typeof g>"u"&&(!f||!f.getContext)&&(g=f,f=void 0),f||(_=s()),g=e.getOptions(g);const E=e.getImageWidth(u.modules.size,g),I=_.getContext("2d"),x=I.createImageData(E,E);return e.qrToImageData(x.data,u,g),n(I,_,E),I.putImageData(x,0,0),_},r.renderToDataURL=function(u,f,m){let g=m;typeof g>"u"&&(!f||!f.getContext)&&(g=f,f=void 0),g||(g={});const _=r.render(u,f,g),E=g.type||"image/png",I=g.rendererOpts||{};return _.toDataURL(E,I.quality)}}(gm)),gm}var _m={},pE;function KD(){if(pE)return _m;pE=1;const r=eS();function e(o,u){const f=o.a/255,m=u+'="'+o.hex+'"';return f<1?m+" "+u+'-opacity="'+f.toFixed(2).slice(1)+'"':m}function n(o,u,f){let m=o+u;return typeof f<"u"&&(m+=" "+f),m}function s(o,u,f){let m="",g=0,_=!1,E=0;for(let I=0;I<o.length;I++){const x=Math.floor(I%u),k=Math.floor(I/u);!x&&!_&&(_=!0),o[I]?(E++,I>0&&x>0&&o[I-1]||(m+=_?n("M",x+f,.5+k+f):n("m",g,0),g=0,_=!1),x+1<u&&o[I+1]||(m+=n("h",E),E=0)):g++}return m}return _m.render=function(u,f,m){const g=r.getOptions(f),_=u.modules.size,E=u.modules.data,I=_+g.margin*2,x=g.color.light.a?"<path "+e(g.color.light,"fill")+' d="M0 0h'+I+"v"+I+'H0z"/>':"",k="<path "+e(g.color.dark,"stroke")+' d="'+s(E,_,g.margin)+'"/>',H='viewBox="0 0 '+I+" "+I+'"',X='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+H+' shape-rendering="crispEdges">'+x+k+`</svg>
`;return typeof m=="function"&&m(null,X),X},_m}var _E;function QD(){if(_E)return La;_E=1;const r=ID(),e=FD(),n=GD(),s=KD();function o(u,f,m,g,_){const E=[].slice.call(arguments,1),I=E.length,x=typeof E[I-1]=="function";if(!x&&!r())throw new Error("Callback required as last argument");if(x){if(I<2)throw new Error("Too few arguments provided");I===2?(_=m,m=f,f=g=void 0):I===3&&(f.getContext&&typeof _>"u"?(_=g,g=void 0):(_=g,g=m,m=f,f=void 0))}else{if(I<1)throw new Error("Too few arguments provided");return I===1?(m=f,f=g=void 0):I===2&&!f.getContext&&(g=m,m=f,f=void 0),new Promise(function(k,H){try{const Q=e.create(m,g);k(u(Q,f,g))}catch(Q){H(Q)}})}try{const k=e.create(m,g);_(null,u(k,f,g))}catch(k){_(k)}}return La.create=e.create,La.toCanvas=o.bind(null,n.render),La.toDataURL=o.bind(null,n.renderToDataURL),La.toString=o.bind(null,function(u,f,m){return s.render(u,m)}),La}var YD=QD();const XD=wb(YD),$D="f54f446538856c6595086ab3bf8aa9dc",ZD=()=>{const[r,e]=Vt.useState(""),[n,s]=Vt.useState(""),[o,u]=Vt.useState(""),[f,m]=Vt.useState(""),[g,_]=Vt.useState(""),[E,I]=Vt.useState(null),[x,k]=Vt.useState(!1),[H,Q]=Vt.useState({mostrarLogin:!1,mostrarCadastro:!1,mostrarCadastroPet:!1,painelAdmin:!1,exibirModal:!1}),[X,se]=Vt.useState(!1),[le,ne]=Vt.useState(""),[re,ce]=Vt.useState(null),[ee,N]=Vt.useState({nomePet:"",tipo:"",raca:"",cor:"",dataNascimento:"",sexo:"",descricao:""}),[b,w]=Vt.useState(!1),[C,D]=Vt.useState(null),[M,R]=Vt.useState(""),[de,Le]=Vt.useState(null),G=K=>{const{name:he,value:Ce}=K.target;N(Ee=>({...Ee,[he]:Ce}))},ue=async()=>{let K,he=!0;for(;he;){K=wD();const Ce=x0(Kd(vl,"pets"),V0("id","==",K));he=!(await U0(Ce)).empty}return K},pe=async K=>{if(K.preventDefault(),!re){alert("Escolha uma imagem primeiro");return}se(!0);const he=new FormData;he.append("image",re);try{const Ee=await(await fetch(`https://api.imgbb.com/1/upload?key=${$D}`,{method:"POST",body:he})).json();console.log("Resposta da API ImgBB:",Ee);const it=await ue(),Ct=`https://seusite.com/pet/${it}`,rn=await XD.toDataURL(Ct);if(Ee.success===!0||Ee.success==="true"){const Gn=Ee.data.url;ne(Gn),await H2(Kd(vl,"pets"),{id:it,tipo:ee.tipo,sexo:ee.sexo,descricao:ee.descricao,nomePet:ee.nomePet,imagem:Gn,raca:ee.raca,cor:ee.cor,dataNascimento:ee.dataNascimento,qrcondeUrl:Ct,qrcodeImage:rn,dataCadastro:new Date}),alert("Cadastro efetuado com sucesso!")}else alert("Erro ao enviar imagem")}catch(Ce){console.error("Erro no upload:",Ce),alert("Erro ao enviar imagem")}finally{se(!1)}};Vt.useEffect(()=>{v1(yl,he=>{Le(he||null)});function K(){window.innerWidth<=768?I(768):I(null)}return K(),window.addEventListener("resize",K),()=>{window.removeEventListener("resize",K)}},[]);const Ue=()=>{E1(yl).then(()=>{console.log("Deslogado"),alert("Deslogado com sucesso! ")}).catch(K=>{console.error("Erro ao deslogar",K)})},V=async K=>{if(K.preventDefault(),n!==o){alert("As senhas não conferem!");return}try{const Ce=(await m1(yl,r,n)).user;await q2(Fm(vl,"usuarios",Ce.uid),{nome:g,email:r,telefone:f,tipo:"comum",dataCriacao:new Date}),alert("Cadastro realizado com sucesso! "),Q(Ee=>({...Ee,mostrarCadastro:!1}))}catch(he){console.error("Erro ao se cadastrar",he),alert("Erro ao se cadastrar por favor tente novamente")}},W=async K=>{if(K.preventDefault(),!r||!n){alert("Por favor preencha todos os campos");return}try{await p1(yl,b?iT:ng);const Ee=(await g1(yl,r,n)).user,it=Fm(vl,"usuarios",Ee.uid),Ct=await z2(it);Ct.exists()&&(Ct.data().tipo==="admin"?(k(!0),console.log("Usuário é admin")):(console.log("Usuário comum"),k(!1))),Q(rn=>({...rn,mostrarLogin:!1})),alert("Login realizado com sucesso! "+Ee.displayName)}catch(he){console.error("Erro ao fazer login",he),alert("Erro ao fazer login por favor tenten novamente")}},oe=K=>{K.preventDefault(),ie(M)},ie=async K=>{try{const he=x0(Kd(vl,"pets"),V0("id","==",K)),Ce=await U0(he);if(Ce.empty)alert("Pet não encontrado!");else{const Ee=Ce.docs[0].data();D(Ee),Q(it=>({...it,exibirModal:!0}))}}catch(he){console.error("Erro na consulta do pet:",he),alert("Não foi possível buscar o pet, tente novamente.")}},_e=()=>Q(K=>({...K,mostrarCampanhas:!1}));return A.jsxs(A.Fragment,{children:[A.jsxs("nav",{className:"navbar",children:[A.jsxs("div",{className:"navbar-container",children:[A.jsxs("div",{className:"navbar-logo",children:[A.jsx("i",{className:"fas fa-paw"}),A.jsx("a",{href:"#",className:"logo-text",children:"PetFinder"})]}),!E&&A.jsxs("div",{className:"navbar-links",children:[A.jsx("a",{href:"#inicio",children:"Início"}),A.jsx("a",{href:"#encontrar-pet",children:"Encontrar Pet"}),A.jsx("a",{href:"#meus-pets",children:"Meus Pets"}),A.jsx("a",{href:"#campanhas",children:"Campanhas"}),A.jsx("a",{href:"#sobre",children:"Sobre"})]}),A.jsxs("div",{className:"navbar-buttons",children:[!de&&!E&&A.jsx("button",{className:"btn login-btn",onClick:K=>Q({...K,mostrarLogin:!0}),children:"Entrar"}),!de&&!E&&A.jsx("button",{className:"btn register-btn",onClick:K=>Q({...K,mostrarCadastro:!0}),children:"Cadastrar"}),de&&x&&A.jsx("button",{className:"btn admin-btn",onClick:()=>Q(K=>({...K,painelAdmin:!0})),children:"Área Admin"}),de&&A.jsx("button",{className:"btn logout-btn",onClick:()=>Ue(),children:"Sair"})]}),E&&A.jsx("button",{className:"mobile-menu-button",children:A.jsx("i",{className:"fas fa-bars"})})]}),E&&A.jsxs("div",{className:"mobile-menu",children:[A.jsx("a",{href:"#inicio",children:"Início"}),A.jsx("a",{href:"#encontrar-pet",children:"Encontrar Pet"}),A.jsx("a",{href:"#meus-pets",children:"Meus Pets"}),A.jsx("a",{href:"#campanhas",children:"Campanhas"}),A.jsx("a",{href:"#sobre",children:"Sobre"})]})]}),H.mostrarCampanhas&&A.jsx("div",{className:"modal campaigns-modal",onClick:_e,children:A.jsxs("div",{className:"modal-content large",onClick:K=>K.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Gerenciar Campanhas"}),A.jsx("button",{className:"modal-close",onClick:_e,children:A.jsx("i",{className:"fas fa-times"})})]}),A.jsxs("div",{className:"modal-section",children:[A.jsxs("form",{className:"grid-form admin-form",children:[A.jsxs("div",{className:"form-group vertical-group",children:[A.jsx("label",{htmlFor:"campanha-titulo",children:"Título"}),A.jsx("input",{type:"text",id:"campanha-titulo",name:"titulo"})]}),A.jsxs("div",{className:"form-group vertical-group",children:[A.jsx("label",{htmlFor:"campanha-data",children:"Data"}),A.jsx("input",{type:"date",id:"campanha-data",name:"data"})]}),A.jsxs("div",{className:"form-group vertical-group",children:[A.jsx("label",{htmlFor:"campanha-local",children:"Local"}),A.jsx("input",{type:"text",id:"campanha-local",name:"local"})]}),A.jsxs("div",{className:"form-group form-textarea vertical-group",children:[A.jsx("label",{htmlFor:"campanha-descricao",children:"Descrição"}),A.jsx("textarea",{id:"campanha-descricao",name:"descricao",rows:"3",placeholder:"Descreva aqui"})]}),A.jsx("div",{className:"form-group vertical-group",children:A.jsx("button",{type:"submit",className:"btn submit-btn",children:"Adicionar Campanha"})})]}),A.jsx("div",{className:"list-section",children:campanhas.map(K=>A.jsxs("div",{className:"campaign-card",children:[A.jsx("h3",{children:K.titulo}),A.jsxs("p",{className:"campaign-date",children:[A.jsx("i",{className:"fas fa-calendar-day"}),K.data]}),A.jsxs("p",{className:"campaign-location",children:[A.jsx("i",{className:"fas fa-map-marker-alt"}),K.local]}),A.jsx("p",{className:"campaign-description",children:K.descricao})]},K.id))})]})]})}),H.mostrarLogin&&A.jsx("div",{className:`modal login-modal  ${H.mostrarLogin?"":"hidden"} `,onClick:()=>Q(K=>({...K,mostrarLogin:!1})),children:A.jsxs("div",{className:"modal-content small",onClick:K=>K.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Entrar na Conta"}),A.jsx("button",{className:"modal-close",onClick:()=>Q(K=>({...K,mostrarLogin:!1})),children:A.jsx("i",{className:"fas fa-times"})})]}),A.jsxs("form",{className:"modal-form",onSubmit:W,children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"login-email",children:"E-mail"}),A.jsx("input",{type:"email",id:"login-email",name:"login-email",value:r,onChange:K=>e(K.target.value)})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"login-senha",children:"Senha"}),A.jsx("input",{type:"password",id:"login-senha",name:"login-senha",value:n,onChange:K=>s(K.target.value)})]}),A.jsx("div",{className:"form-group form-inline",children:A.jsxs("div",{className:"lembrar",children:[A.jsx("div",{children:A.jsxs("label",{htmlFor:"lembrar-me",className:"checkbox-labe",children:[" ",A.jsx("span",{children:"Lembrar de mim"})," ",A.jsx("input",{id:"lembrar-me",type:"checkbox",checked:b,onChange:K=>w(K.target.checked)})]})}),A.jsx("div",{children:A.jsx("a",{href:"#",children:"Esqueceu a senha?"})})]})}),A.jsx("button",{type:"submit",className:"btn submit-btn",children:"Entrar"}),A.jsxs("p",{className:"form-footer",children:["Não tem uma conta? ",A.jsx("a",{href:"#",className:"switch-link",onClick:()=>Q(K=>({...K,mostrarCadastro:!0,mostrarLogin:!1})),children:"Cadastre-se"})]})]})]})}),H.mostrarCadastro&&A.jsx("div",{className:`modal register-modal ${H.mostrarCadastro?"":"hidden"}`,onClick:()=>Q(K=>({...K,mostrarCadastro:!1})),children:A.jsxs("div",{className:"modal-content small",onClick:K=>K.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Criar Conta"}),A.jsx("button",{className:"modal-close",onClick:()=>Q(K=>({...K,mostrarCadastro:!1})),children:A.jsx("i",{className:"fas fa-times"})})]}),A.jsxs("form",{className:"modal-form",onSubmit:V,children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"register-nome",children:"Nome Completo"}),A.jsx("input",{type:"text",id:"register-nome",name:"register-nome",value:g,onChange:K=>_(K.target.value)})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"register-email",children:"E-mail"}),A.jsx("input",{type:"email",id:"register-email",name:"register-email",value:r,onChange:K=>e(K.target.value)})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"register-telefone",children:"Telefone"}),A.jsx("input",{type:"tel",id:"register-telefone",name:"register-telefone",value:f,onChange:K=>m(K.target.value)})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"register-senha",children:"Senha"}),A.jsx("input",{type:"password",id:"register-senha",name:"register-senha",value:n,onChange:K=>s(K.target.value)})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"register-confirmar-senha",children:"Confirmar Senha"}),A.jsx("input",{type:"password",id:"register-confirmar-senha",name:"register-confirmar-senha",value:o,onChange:K=>u(K.target.value)})]}),A.jsx("button",{type:"submit",className:"btn submit-btn teste",children:"Cadastrar"}),A.jsxs("p",{className:"form-footer",children:["Já tem uma conta? ",A.jsx("a",{href:"#",className:"switch-link",onClick:()=>Q(K=>({...K,mostrarLogin:!0,mostrarCadastro:!1})),children:"Entrar"})]})]})]})}),de&&x&&A.jsx("div",{className:`modal admin-modal  ${H.painelAdmin?"":"hidden"} `,onClick:()=>Q(K=>({...K,painelAdmin:!1})),children:A.jsxs("div",{className:"modal-content large ",onClick:K=>K.stopPropagation(),children:[A.jsxs("div",{className:"modal-header ",children:[A.jsx("h3",{children:"Área Administrativa"}),A.jsx("button",{className:"modal-close",onClick:()=>Q(K=>({...K,painelAdmin:!1})),children:A.jsx("i",{className:"fas fa-times"})})]}),A.jsxs("div",{className:"modal-section",children:[A.jsx("h4",{children:"Gerenciar Campanhas de Vacinação"}),A.jsxs("form",{className:"grid-form admin-form",children:[A.jsxs("div",{className:"form-group vertical-group ",children:[A.jsx("label",{htmlFor:"campanha-titulo",children:"Título"}),A.jsx("input",{type:"text",id:"campanha-titulo"})]}),A.jsxs("div",{className:"form-group vertical-group",children:[A.jsx("label",{htmlFor:"campanha-data",children:"Data"}),A.jsx("input",{type:"date",id:"campanha-data"})]}),A.jsxs("div",{className:"form-group vertical-group",children:[A.jsx("label",{htmlFor:"campanha-local",children:"Local"}),A.jsx("input",{type:"text",id:"campanha-local"})]}),A.jsxs("div",{className:"form-group form-textarea vertical-group",children:[A.jsx("label",{htmlFor:"campanha-descricao",children:"Descrição"}),A.jsx("textarea",{id:"campanha-descricao",rows:"2",placeholder:"descreva algo aqui"})]}),A.jsx("div",{className:"form-group vertical-group",children:A.jsx("button",{type:"submit",className:"btn submit-btn",children:"Adicionar Campanha"})})]}),A.jsx("div",{className:"list-section"})]})]})}),de&&H.mostrarCadastroPet&&A.jsx("div",{className:`modal add-pet-modal ${H.mostrarCadastroPet?"":"hidden"}`,onClick:()=>Q(K=>({...K,mostrarCadastroPet:!1})),children:A.jsxs("div",{className:"modal-content small",onClick:K=>K.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Adicionar Novo Pet"}),A.jsx("button",{className:"modal-close",onClick:()=>Q(K=>({...K,mostrarCadastroPet:!1})),children:A.jsx("i",{className:"fas fa-times"})})]}),de&&H.mostrarCadastroPet&&A.jsxs("form",{className:"modal-form",onSubmit:pe,children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"pet-nome",children:"Nome do Pet"}),A.jsx("input",{type:"text",id:"pet-nome",name:"nomePet",value:ee.nomePet,onChange:G})]}),A.jsxs("div",{className:"grid-form-2",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"pet-tipo",children:"Tipo"}),A.jsxs("select",{id:"pet-tipo",name:"tipo",value:ee.tipo,onChange:G,children:[A.jsx("option",{value:"",children:"-Selecionar-"}),A.jsx("option",{value:"cachorro",children:"Cachorro"}),A.jsx("option",{value:"gato",children:"Gato"}),A.jsx("option",{value:"outro",children:"Outro"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"pet-raca",children:"Raça"}),A.jsx("input",{type:"text",id:"pet-raca",name:"raca",value:ee.raca,onChange:G})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"pet-cor",children:"Cor Principal"}),A.jsx("input",{type:"text",id:"pet-cor",name:"cor",value:ee.cor,onChange:G})]}),A.jsxs("div",{className:"grid-form-2",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"pet-nascimento",children:"Data de Nascimento"}),A.jsx("input",{type:"date",id:"pet-nascimento",name:"dataNascimento",value:ee.dataNascimento,onChange:G})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"pet-sexo",children:"Sexo"}),A.jsxs("select",{id:"pet-sexo",name:"sexo",value:ee.sexo,onChange:G,children:[A.jsx("option",{value:"",children:"-Selecionar-"}),A.jsx("option",{value:"macho",children:"Macho"}),A.jsx("option",{value:"femea",children:"Fêmea"})]})]})]}),A.jsxs("div",{className:"form-group form-textarea",children:[A.jsx("label",{htmlFor:"pet-descricao",children:"Descrição/Detalhes"}),A.jsx("textarea",{id:"pet-descricao",rows:"3",name:"descricao",value:ee.descricao,onChange:G,maxLength:150})]}),A.jsxs("div",{className:"form-group file-upload",children:[A.jsx("label",{children:"Foto do Pet"}),A.jsxs("div",{className:"file-upload-area",children:[A.jsx("label",{htmlFor:"pet-foto",className:"file-label",children:"Enviar uma foto"}),A.jsx("input",{type:"file",id:"pet-foto",className:"file-input",accept:"image/*",onChange:K=>ce(K.target.files[0])}),A.jsx("p",{children:"ou arraste e solte"}),A.jsx("p",{className:"file-hint",children:"PNG, JPG, GIF até 10MB"})]})]}),A.jsx("button",{type:"submit",className:"btn submit-btn",children:"Cadastrar Pet"})]})]})}),H.exibirModal&&C&&A.jsx("div",{className:`modal view-pet-modal ${H.exibirModal?"":"hidden"}`,onClick:()=>Q(K=>({...K,exibirModal:!1})),children:A.jsxs("div",{className:"modal-content  modal-pet",onClick:K=>K.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{id:"view-pet-nome",children:C.nomePet}),A.jsx("button",{className:"modal-close",onClick:()=>Q(K=>({...K,exibirModal:!1})),children:A.jsx("i",{className:"fas fa-times"})})]}),A.jsxs("div",{className:"view-pet-body",children:[A.jsx("div",{className:"view-pet-image",children:A.jsx("img",{id:"view-pet-imagem",src:C.imagem,alt:"Foto do Pet"})}),A.jsx("div",{id:"qr-code-container"})]}),A.jsxs("div",{className:"view-pet-info grid-2",children:[A.jsxs("div",{children:[A.jsx("p",{className:"info-label",children:"Tipo"}),A.jsx("p",{id:"view-pet-tipo",className:"info-text",children:C.tipo})]}),A.jsxs("div",{children:[A.jsx("p",{className:"info-label",children:"Raça"}),A.jsx("p",{id:"view-pet-raca",className:"info-text",children:C.raca})]}),A.jsxs("div",{children:[A.jsx("p",{className:"info-label",children:"Cor"}),A.jsx("p",{id:"view-pet-cor",className:"info-text",children:C.cor})]}),A.jsxs("div",{children:[A.jsx("p",{className:"info-label",children:"Sexo"}),A.jsx("p",{id:"view-pet-sexo",className:"info-text",children:C.sexo})]}),A.jsxs("div",{children:[A.jsx("p",{className:"info-label",children:"Nascimento"}),A.jsx("p",{id:"view-pet-nascimento",className:"info-text",children:C.dataNascimento})]})]}),A.jsxs("div",{className:"view-pet-descricao",children:[A.jsx("p",{children:"Descrição"}),A.jsx("p",{id:"view-pet-descricao",children:C.descricao})]})]})}),A.jsx("div",{className:"modal find-pet-modal hidden",children:A.jsxs("div",{className:"modal-content small",children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Encontrei um Pet"}),A.jsx("button",{className:"modal-close",children:A.jsx("i",{className:"fas fa-times"})})]}),A.jsxs("form",{className:"modal-form",onSubmit:oe,children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"pet-codigo",children:"Código do Pet"}),A.jsx("input",{type:"text",id:"pet-codigo",placeholder:"Digite o código da coleira",value:M,onChange:K=>R(K.target.value)})]}),A.jsx("button",{type:"submit",className:"btn submit-btn",children:"Buscar Tutor"})]}),A.jsxs("div",{id:"tutor-info",className:"tutor-info hidden",children:[A.jsx("h4",{children:"Informações do Tutor"}),A.jsxs("div",{className:"grid-2 tutor-details",children:[A.jsxs("div",{children:[A.jsx("p",{className:"info-label",children:"Nome"}),A.jsx("p",{id:"tutor-nome",className:"info-text"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"info-label",children:"Telefone"}),A.jsx("p",{id:"tutor-telefone",className:"info-text"})]})]}),A.jsxs("a",{id:"btn-contatar-tutor",href:"#",className:"btn contact-btn",children:[A.jsx("i",{className:"fab fa-whatsapp"}),A.jsx("span",{children:"Contatar via WhatsApp"})]})]})]})}),A.jsxs("main",{className:"main-content",children:[A.jsx("section",{id:"inicio",className:"hero-section",children:A.jsxs("div",{className:"hero-grid",children:[A.jsxs("div",{className:"hero-text",children:[A.jsxs("h1",{children:["Proteja seu Pet com a ",A.jsx("span",{className:"highlight",children:"PetFinder"})]}),A.jsx("p",{children:"Cadastre seu pet, gere um código exclusivo com QR Code para a coleira. Caso ele se perca, quem o encontrar poderá acessar seus dados de contato facilmente."})]}),A.jsx("div",{className:"hero-image",children:A.jsx("img",{src:RD,alt:"Cachorro e gato felizes"})})]})}),A.jsxs("section",{id:"encontrar-pet",className:"find-pet-section",children:[A.jsxs("div",{className:"section-header center",children:[A.jsx("h2",{children:"Encontrou um Pet Perdido?"}),A.jsx("p",{children:"Digite o código da coleira abaixo para encontrar o tutor do pet e ajudá-lo a voltar para casa."})]}),A.jsx("div",{className:"find-pet-form-container",children:A.jsxs("form",{className:"find-pet-form",onSubmit:oe,children:[A.jsx("input",{type:"text",placeholder:"Digite o código do pet",value:M,onChange:K=>R(K.target.value)}),A.jsx("button",{type:"submit",className:"btn submit-btn",children:"Buscar"})]})})]}),A.jsxs("section",{id:"campanhas",className:"campaigns-section",children:[A.jsxs("div",{className:"section-header center",children:[A.jsx("h2",{children:"Campanhas de Vacinação"}),A.jsx("p",{children:"Confira as campanhas de vacinação que estão acontecendo na sua cidade."})]}),A.jsxs("div",{className:"campaigns-list",children:[A.jsxs("div",{className:"campaign-card",children:[A.jsx("h3",{children:"Campanha Antirrábica"}),A.jsxs("p",{className:"campaign-date",children:[A.jsx("i",{className:"fas fa-calendar-day"}),"15/10/2023"]}),A.jsxs("p",{className:"campaign-location",children:[A.jsx("i",{className:"fas fa-map-marker-alt"}),"Praça Central"]}),A.jsx("p",{className:"campaign-description",children:"Vacinação gratuita para cães e gatos a partir de 3 meses de idade."})]}),A.jsxs("div",{className:"campaign-card",children:[A.jsx("h3",{children:"Multivacinação Animal"}),A.jsxs("p",{className:"campaign-date",children:[A.jsx("i",{className:"fas fa-calendar-day"}),"22/10/2023"]}),A.jsxs("p",{className:"campaign-location",children:[A.jsx("i",{className:"fas fa-map-marker-alt"}),"Parque Municipal"]}),A.jsx("p",{className:"campaign-description",children:"Diversas vacinas disponíveis para proteger seu pet contra várias doenças."})]}),A.jsxs("div",{className:"campaign-card",children:[A.jsx("h3",{children:"Dia do Pet Saudável"}),A.jsxs("p",{className:"campaign-date",children:[A.jsx("i",{className:"fas fa-calendar-day"}),"05/11/2023"]}),A.jsxs("p",{className:"campaign-location",children:[A.jsx("i",{className:"fas fa-map-marker-alt"}),"Centro de Zoonoses"]}),A.jsx("p",{className:"campaign-description",children:"Além de vacinas, teremos serviços de microchipagem e orientações veterinárias."})]})]})]}),A.jsx("section",{id:"sobre",className:"about-section",children:A.jsxs("div",{className:"about-container",children:[A.jsx("h2",{children:"Sobre o PetFinder"}),A.jsxs("div",{className:"about-grid",children:[A.jsxs("div",{className:"about-item",children:[A.jsx("h3",{children:"Como Funciona?"}),A.jsx("p",{children:"O PetFinder é uma plataforma que ajuda tutores de pets a protegerem seus animais de estimação. Ao cadastrar seu pet, você recebe um código único e um QR Code que pode ser colocado na coleira do animal."}),A.jsx("p",{children:"Se seu pet se perder, quem encontrá-lo pode digitar o código ou escanear o QR Code em nosso site para acessar suas informações de contato e ajudá-lo a voltar para casa."})]}),A.jsxs("div",{className:"about-item",children:[A.jsx("h3",{children:"Por que usar?"}),A.jsxs("ul",{className:"about-list",children:[A.jsxs("li",{children:[A.jsx("i",{className:"fas fa-check-circle"})," Maior chance de recuperar seu pet caso ele se perca"]}),A.jsxs("li",{children:[A.jsx("i",{className:"fas fa-check-circle"})," Fácil acesso aos seus dados de contato por quem encontrar o animal"]}),A.jsxs("li",{children:[A.jsx("i",{className:"fas fa-check-circle"})," Contato direto via WhatsApp com quem encontrou seu pet"]}),A.jsxs("li",{children:[A.jsx("i",{className:"fas fa-check-circle"})," Acesso às campanhas de vacinação da sua cidade"]})]})]})]})]})})]}),A.jsxs("footer",{className:"footer",children:[A.jsxs("div",{className:"footer-container",children:[A.jsxs("div",{className:"footer-item",children:[A.jsxs("h3",{className:"footer-logo",children:[A.jsx("i",{className:"fas fa-paw"}),"PetFinder"]}),A.jsx("p",{children:"Protegendo seus pets e ajudando a reunir famílias."})]}),A.jsxs("div",{className:"footer-item",children:[A.jsx("h4",{children:"Links Úteis"}),A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx("a",{href:"#inicio",children:"Início"})}),A.jsx("li",{children:A.jsx("a",{href:"#encontrar-pet",children:"Encontrar Pet"})}),A.jsx("li",{children:A.jsx("a",{href:"#campanhas",children:"Campanhas"})}),A.jsx("li",{children:A.jsx("a",{href:"#sobre",children:"Sobre"})})]})]}),A.jsxs("div",{className:"footer-item",children:[A.jsx("h4",{children:"Contato"}),A.jsxs("ul",{children:[A.jsxs("li",{children:[A.jsx("i",{className:"fas fa-envelope"})," contato@petfinder.com.br"]}),A.jsxs("li",{children:[A.jsx("i",{className:"fas fa-phone"})," (11) 98765-4321"]}),A.jsxs("li",{children:[A.jsx("i",{className:"fab fa-whatsapp"})," (11) 98765-4321"]})]})]}),A.jsxs("div",{className:"footer-item",children:[A.jsx("h4",{children:"Redes Sociais"}),A.jsxs("div",{className:"social-links",children:[A.jsx("a",{href:"#",children:A.jsx("i",{className:"fab fa-facebook"})}),A.jsx("a",{href:"#",children:A.jsx("i",{className:"fab fa-instagram"})}),A.jsx("a",{href:"#",children:A.jsx("i",{className:"fab fa-twitter"})}),A.jsx("a",{href:"#",children:A.jsx("i",{className:"fab fa-youtube"})})]})]})]}),A.jsx("div",{className:"footer-bottom",children:A.jsx("p",{children:"© 2023 PetFinder. Todos os direitos reservados."})})]})]})};Pb.createRoot(document.getElementById("root")).render(A.jsx(Vt.StrictMode,{children:A.jsx(ZD,{})}));
