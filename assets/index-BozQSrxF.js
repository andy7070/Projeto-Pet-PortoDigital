var gw=t=>{throw TypeError(t)};var np=(t,e,n)=>e.has(t)||gw("Cannot "+n);var W=(t,e,n)=>(np(t,e,"read from private field"),n?n.call(t):e.get(t)),Ue=(t,e,n)=>e.has(t)?gw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(np(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Kt=(t,e,n)=>(np(t,e,"access private method"),n);var Eu=(t,e,n,r)=>({set _(s){Ee(t,e,s,n)},get _(){return W(t,e,r)}});function DN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function g1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y1={exports:{}},$h={},v1={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=Symbol.for("react.element"),ON=Symbol.for("react.portal"),MN=Symbol.for("react.fragment"),jN=Symbol.for("react.strict_mode"),LN=Symbol.for("react.profiler"),VN=Symbol.for("react.provider"),FN=Symbol.for("react.context"),UN=Symbol.for("react.forward_ref"),$N=Symbol.for("react.suspense"),zN=Symbol.for("react.memo"),BN=Symbol.for("react.lazy"),yw=Symbol.iterator;function HN(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var w1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_1=Object.assign,x1={};function Ba(t,e,n){this.props=t,this.context=e,this.refs=x1,this.updater=n||w1}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E1(){}E1.prototype=Ba.prototype;function Jg(t,e,n){this.props=t,this.context=e,this.refs=x1,this.updater=n||w1}var Zg=Jg.prototype=new E1;Zg.constructor=Jg;_1(Zg,Ba.prototype);Zg.isPureReactComponent=!0;var vw=Array.isArray,T1=Object.prototype.hasOwnProperty,ey={current:null},S1={key:!0,ref:!0,__self:!0,__source:!0};function C1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)T1.call(e,r)&&!S1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Lc,type:t,key:i,ref:o,props:s,_owner:ey.current}}function WN(t,e){return{$$typeof:Lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ty(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lc}function qN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ww=/\/+/g;function rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qN(""+t.key):e.toString(36)}function nd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lc:case ON:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rp(o,0):r,vw(s)?(n="",t!=null&&(n=t.replace(ww,"$&/")+"/"),nd(s,e,n,"",function(u){return u})):s!=null&&(ty(s)&&(s=WN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ww,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+rp(i,a);o+=nd(i,e,n,l,s)}else if(l=HN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+rp(i,a++),o+=nd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tu(t,e,n){if(t==null)return t;var r=[],s=0;return nd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function KN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},rd={transition:null},GN={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:rd,ReactCurrentOwner:ey};function b1(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Tu,forEach:function(t,e,n){Tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tu(t,function(){e++}),e},toArray:function(t){return Tu(t,function(e){return e})||[]},only:function(t){if(!ty(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Ba;Pe.Fragment=MN;Pe.Profiler=LN;Pe.PureComponent=Jg;Pe.StrictMode=jN;Pe.Suspense=$N;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GN;Pe.act=b1;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ey.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)T1.call(e,l)&&!S1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Lc,type:t.type,key:s,ref:i,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:FN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VN,_context:t},t.Consumer=t};Pe.createElement=C1;Pe.createFactory=function(t){var e=C1.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:UN,render:t}};Pe.isValidElement=ty;Pe.lazy=function(t){return{$$typeof:BN,_payload:{_status:-1,_result:t},_init:KN}};Pe.memo=function(t,e){return{$$typeof:zN,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=rd.transition;rd.transition={};try{t()}finally{rd.transition=e}};Pe.unstable_act=b1;Pe.useCallback=function(t,e){return fn.current.useCallback(t,e)};Pe.useContext=function(t){return fn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return fn.current.useEffect(t,e)};Pe.useId=function(){return fn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return fn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return fn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return fn.current.useReducer(t,e,n)};Pe.useRef=function(t){return fn.current.useRef(t)};Pe.useState=function(t){return fn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return fn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return fn.current.useTransition()};Pe.version="18.3.1";v1.exports=Pe;var w=v1.exports;const U=g1(w),I1=DN({__proto__:null,default:U},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN=w,YN=Symbol.for("react.element"),XN=Symbol.for("react.fragment"),JN=Object.prototype.hasOwnProperty,ZN=QN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ek={key:!0,ref:!0,__self:!0,__source:!0};function R1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JN.call(e,r)&&!ek.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:YN,type:t,key:i,ref:o,props:s,_owner:ZN.current}}$h.Fragment=XN;$h.jsx=R1;$h.jsxs=R1;y1.exports=$h;var f=y1.exports,P1={exports:{}},$n={},A1={exports:{}},N1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,G){var ne=V.length;V.push(G);e:for(;0<ne;){var ee=ne-1>>>1,oe=V[ee];if(0<s(oe,G))V[ee]=G,V[ne]=oe,ne=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],ne=V.pop();if(ne!==G){V[0]=ne;e:for(var ee=0,oe=V.length,ue=oe>>>1;ee<ue;){var Ae=2*(ee+1)-1,Ke=V[Ae],Se=Ae+1,de=V[Se];if(0>s(Ke,ne))Se<oe&&0>s(de,Ke)?(V[ee]=de,V[Se]=ne,ee=Se):(V[ee]=Ke,V[Ae]=ne,ee=Ae);else if(Se<oe&&0>s(de,ne))V[ee]=de,V[Se]=ne,ee=Se;else break e}}return G}function s(V,G){var ne=V.sortIndex-G.sortIndex;return ne!==0?ne:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,h=3,g=!1,_=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=V)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function I(V){if(y=!1,S(V),!_)if(n(l)!==null)_=!0,X(k);else{var G=n(u);G!==null&&se(I,G.startTime-V)}}function k(V,G){_=!1,y&&(y=!1,T(C),C=-1),g=!0;var ne=h;try{for(S(G),p=n(l);p!==null&&(!(p.expirationTime>G)||V&&!O());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,h=p.priorityLevel;var oe=ee(p.expirationTime<=G);G=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(l)&&r(l),S(G)}else r(l);p=n(l)}if(p!==null)var ue=!0;else{var Ae=n(u);Ae!==null&&se(I,Ae.startTime-G),ue=!1}return ue}finally{p=null,h=ne,g=!1}}var j=!1,b=null,C=-1,R=5,N=-1;function O(){return!(t.unstable_now()-N<R)}function D(){if(b!==null){var V=t.unstable_now();N=V;var G=!0;try{G=b(!0,V)}finally{G?A():(j=!1,b=null)}}else j=!1}var A;if(typeof v=="function")A=function(){v(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Z=B.port2;B.port1.onmessage=D,A=function(){Z.postMessage(null)}}else A=function(){x(D,0)};function X(V){b=V,j||(j=!0,A())}function se(V,G){C=x(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,X(k))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var ne=h;h=G;try{return V()}finally{h=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ne=h;h=V;try{return G()}finally{h=ne}},t.unstable_scheduleCallback=function(V,G,ne){var ee=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ee+ne:ee):ne=ee,V){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,V={id:d++,callback:G,priorityLevel:V,startTime:ne,expirationTime:oe,sortIndex:-1},ne>ee?(V.sortIndex=ne,e(u,V),n(l)===null&&V===n(u)&&(y?(T(C),C=-1):y=!0,se(I,ne-ee))):(V.sortIndex=oe,e(l,V),_||g||(_=!0,X(k))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var G=h;return function(){var ne=h;h=G;try{return V.apply(this,arguments)}finally{h=ne}}}})(N1);A1.exports=N1;var tk=A1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk=w,Un=tk;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k1=new Set,rc={};function wo(t,e){Sa(t,e),Sa(t+"Capture",e)}function Sa(t,e){for(rc[t]=e,t=0;t<e.length;t++)k1.add(e[t])}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=Object.prototype.hasOwnProperty,rk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_w={},xw={};function sk(t){return sm.call(xw,t)?!0:sm.call(_w,t)?!1:rk.test(t)?xw[t]=!0:(_w[t]=!0,!1)}function ik(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ok(t,e,n,r){if(e===null||typeof e>"u"||ik(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ny=/[\-:]([a-z])/g;function ry(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ny,ry);zt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ny,ry);zt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ny,ry);zt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function sy(t,e,n,r){var s=zt.hasOwnProperty(e)?zt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ok(e,n,s,r)&&(n=null),r||s===null?sk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ms=nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),$o=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),iy=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),D1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),oy=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),am=Symbol.for("react.suspense_list"),ay=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),M1=Symbol.for("react.offscreen"),Ew=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=Ew&&t[Ew]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,sp;function Pl(t){if(sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sp=e&&e[1]||""}return`
`+sp+t}var ip=!1;function op(t,e){if(!t||ip)return"";ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pl(t):""}function ak(t){switch(t.tag){case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return t=op(t.type,!1),t;case 11:return t=op(t.type.render,!1),t;case 1:return t=op(t.type,!0),t;default:return""}}function lm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case $o:return"Portal";case im:return"Profiler";case iy:return"StrictMode";case om:return"Suspense";case am:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O1:return(t.displayName||"Context")+".Consumer";case D1:return(t._context.displayName||"Context")+".Provider";case oy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ay:return e=t.displayName||null,e!==null?e:lm(t.type)||"Memo";case As:e=t._payload,t=t._init;try{return lm(t(e))}catch{}}return null}function lk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lm(e);case 8:return e===iy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ck(t){var e=j1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cu(t){t._valueTracker||(t._valueTracker=ck(t))}function L1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=j1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cm(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V1(t,e){e=e.checked,e!=null&&sy(t,"checked",e,!1)}function um(t,e){V1(t,e);var n=ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dm(t,e.type,n):e.hasOwnProperty("defaultValue")&&dm(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dm(t,e,n){(e!=="number"||Nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Al=Array.isArray;function na(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Al(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ci(n)}}function F1(t,e){var n=ci(e.value),r=ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,$1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uk=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(t){uk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ul[e]=Ul[t]})});function z1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ul.hasOwnProperty(t)&&Ul[t]?(""+e).trim():e+"px"}function B1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=z1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dk=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pm(t,e){if(e){if(dk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function mm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=null;function ly(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ym=null,ra=null,sa=null;function Iw(t){if(t=Uc(t)){if(typeof ym!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=qh(e),ym(t.stateNode,t.type,e))}}function H1(t){ra?sa?sa.push(t):sa=[t]:ra=t}function W1(){if(ra){var t=ra,e=sa;if(sa=ra=null,Iw(t),e)for(t=0;t<e.length;t++)Iw(e[t])}}function q1(t,e){return t(e)}function K1(){}var ap=!1;function G1(t,e,n){if(ap)return t(e,n);ap=!0;try{return q1(t,e,n)}finally{ap=!1,(ra!==null||sa!==null)&&(K1(),W1())}}function ic(t,e){var n=t.stateNode;if(n===null)return null;var r=qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var vm=!1;if(ss)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){vm=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{vm=!1}function hk(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var $l=!1,kd=null,Dd=!1,wm=null,fk={onError:function(t){$l=!0,kd=t}};function pk(t,e,n,r,s,i,o,a,l){$l=!1,kd=null,hk.apply(fk,arguments)}function mk(t,e,n,r,s,i,o,a,l){if(pk.apply(this,arguments),$l){if($l){var u=kd;$l=!1,kd=null}else throw Error(Y(198));Dd||(Dd=!0,wm=u)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rw(t){if(_o(t)!==t)throw Error(Y(188))}function gk(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rw(s),t;if(i===r)return Rw(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function Y1(t){return t=gk(t),t!==null?X1(t):null}function X1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X1(t);if(e!==null)return e;t=t.sibling}return null}var J1=Un.unstable_scheduleCallback,Pw=Un.unstable_cancelCallback,yk=Un.unstable_shouldYield,vk=Un.unstable_requestPaint,yt=Un.unstable_now,wk=Un.unstable_getCurrentPriorityLevel,cy=Un.unstable_ImmediatePriority,Z1=Un.unstable_UserBlockingPriority,Od=Un.unstable_NormalPriority,_k=Un.unstable_LowPriority,eT=Un.unstable_IdlePriority,zh=null,kr=null;function xk(t){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(zh,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Sk,Ek=Math.log,Tk=Math.LN2;function Sk(t){return t>>>=0,t===0?32:31-(Ek(t)/Tk|0)|0}var Iu=64,Ru=4194304;function Nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Nl(a):(i&=o,i!==0&&(r=Nl(i)))}else o=n&~s,o!==0?r=Nl(o):i!==0&&(r=Nl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),s=1<<n,r|=t[n],e&=~s;return r}function Ck(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Ck(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function _m(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tT(){var t=Iu;return Iu<<=1,!(Iu&4194240)&&(Iu=64),t}function lp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function Ik(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function uy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Be=0;function nT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rT,dy,sT,iT,oT,xm=!1,Pu=[],Gs=null,Qs=null,Ys=null,oc=new Map,ac=new Map,ks=[],Rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aw(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(e.pointerId)}}function wl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Uc(e),e!==null&&dy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Pk(t,e,n,r,s){switch(e){case"focusin":return Gs=wl(Gs,t,e,n,r,s),!0;case"dragenter":return Qs=wl(Qs,t,e,n,r,s),!0;case"mouseover":return Ys=wl(Ys,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return oc.set(i,wl(oc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ac.set(i,wl(ac.get(i)||null,t,e,n,r,s)),!0}return!1}function aT(t){var e=Bi(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=Q1(n),e!==null){t.blockedOn=e,oT(t.priority,function(){sT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Em(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gm=r,n.target.dispatchEvent(r),gm=null}else return e=Uc(n),e!==null&&dy(e),t.blockedOn=n,!1;e.shift()}return!0}function Nw(t,e,n){sd(t)&&n.delete(e)}function Ak(){xm=!1,Gs!==null&&sd(Gs)&&(Gs=null),Qs!==null&&sd(Qs)&&(Qs=null),Ys!==null&&sd(Ys)&&(Ys=null),oc.forEach(Nw),ac.forEach(Nw)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,xm||(xm=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,Ak)))}function lc(t){function e(s){return _l(s,t)}if(0<Pu.length){_l(Pu[0],t);for(var n=1;n<Pu.length;n++){var r=Pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gs!==null&&_l(Gs,t),Qs!==null&&_l(Qs,t),Ys!==null&&_l(Ys,t),oc.forEach(e),ac.forEach(e),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)aT(n),n.blockedOn===null&&ks.shift()}var ia=ms.ReactCurrentBatchConfig,jd=!0;function Nk(t,e,n,r){var s=Be,i=ia.transition;ia.transition=null;try{Be=1,hy(t,e,n,r)}finally{Be=s,ia.transition=i}}function kk(t,e,n,r){var s=Be,i=ia.transition;ia.transition=null;try{Be=4,hy(t,e,n,r)}finally{Be=s,ia.transition=i}}function hy(t,e,n,r){if(jd){var s=Em(t,e,n,r);if(s===null)vp(t,e,r,Ld,n),Aw(t,r);else if(Pk(s,t,e,n,r))r.stopPropagation();else if(Aw(t,r),e&4&&-1<Rk.indexOf(t)){for(;s!==null;){var i=Uc(s);if(i!==null&&rT(i),i=Em(t,e,n,r),i===null&&vp(t,e,r,Ld,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vp(t,e,r,null,n)}}var Ld=null;function Em(t,e,n,r){if(Ld=null,t=ly(r),t=Bi(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ld=t,null}function lT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wk()){case cy:return 1;case Z1:return 4;case Od:case _k:return 16;case eT:return 536870912;default:return 16}default:return 16}}var Hs=null,fy=null,id=null;function cT(){if(id)return id;var t,e=fy,n=e.length,r,s="value"in Hs?Hs.value:Hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return id=s.slice(t,1<r?1-r:void 0)}function od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Au(){return!0}function kw(){return!1}function zn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Au:kw,this.isPropagationStopped=kw,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},py=zn(Ha),Fc=at({},Ha,{view:0,detail:0}),Dk=zn(Fc),cp,up,xl,Bh=at({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:my,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(cp=t.screenX-xl.screenX,up=t.screenY-xl.screenY):up=cp=0,xl=t),cp)},movementY:function(t){return"movementY"in t?t.movementY:up}}),Dw=zn(Bh),Ok=at({},Bh,{dataTransfer:0}),Mk=zn(Ok),jk=at({},Fc,{relatedTarget:0}),dp=zn(jk),Lk=at({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Vk=zn(Lk),Fk=at({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uk=zn(Fk),$k=at({},Ha,{data:0}),Ow=zn($k),zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hk[t])?!!e[t]:!1}function my(){return Wk}var qk=at({},Fc,{key:function(t){if(t.key){var e=zk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:my,charCode:function(t){return t.type==="keypress"?od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kk=zn(qk),Gk=at({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mw=zn(Gk),Qk=at({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:my}),Yk=zn(Qk),Xk=at({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jk=zn(Xk),Zk=at({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e2=zn(Zk),t2=[9,13,27,32],gy=ss&&"CompositionEvent"in window,zl=null;ss&&"documentMode"in document&&(zl=document.documentMode);var n2=ss&&"TextEvent"in window&&!zl,uT=ss&&(!gy||zl&&8<zl&&11>=zl),jw=" ",Lw=!1;function dT(t,e){switch(t){case"keyup":return t2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bo=!1;function r2(t,e){switch(t){case"compositionend":return hT(e);case"keypress":return e.which!==32?null:(Lw=!0,jw);case"textInput":return t=e.data,t===jw&&Lw?null:t;default:return null}}function s2(t,e){if(Bo)return t==="compositionend"||!gy&&dT(t,e)?(t=cT(),id=fy=Hs=null,Bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uT&&e.locale!=="ko"?null:e.data;default:return null}}var i2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i2[t.type]:e==="textarea"}function fT(t,e,n,r){H1(r),e=Vd(e,"onChange"),0<e.length&&(n=new py("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bl=null,cc=null;function o2(t){ST(t,0)}function Hh(t){var e=qo(t);if(L1(e))return t}function a2(t,e){if(t==="change")return e}var pT=!1;if(ss){var hp;if(ss){var fp="oninput"in document;if(!fp){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),fp=typeof Fw.oninput=="function"}hp=fp}else hp=!1;pT=hp&&(!document.documentMode||9<document.documentMode)}function Uw(){Bl&&(Bl.detachEvent("onpropertychange",mT),cc=Bl=null)}function mT(t){if(t.propertyName==="value"&&Hh(cc)){var e=[];fT(e,cc,t,ly(t)),G1(o2,e)}}function l2(t,e,n){t==="focusin"?(Uw(),Bl=e,cc=n,Bl.attachEvent("onpropertychange",mT)):t==="focusout"&&Uw()}function c2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hh(cc)}function u2(t,e){if(t==="click")return Hh(e)}function d2(t,e){if(t==="input"||t==="change")return Hh(e)}function h2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:h2;function uc(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sm.call(e,s)||!mr(t[s],e[s]))return!1}return!0}function $w(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zw(t,e){var n=$w(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$w(n)}}function gT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yT(){for(var t=window,e=Nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nd(t.document)}return e}function yy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f2(t){var e=yT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gT(n.ownerDocument.documentElement,n)){if(r!==null&&yy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zw(n,i);var o=zw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p2=ss&&"documentMode"in document&&11>=document.documentMode,Ho=null,Tm=null,Hl=null,Sm=!1;function Bw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sm||Ho==null||Ho!==Nd(r)||(r=Ho,"selectionStart"in r&&yy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&uc(Hl,r)||(Hl=r,r=Vd(Tm,"onSelect"),0<r.length&&(e=new py("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wo={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},pp={},vT={};ss&&(vT=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Wh(t){if(pp[t])return pp[t];if(!Wo[t])return t;var e=Wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vT)return pp[t]=e[n];return t}var wT=Wh("animationend"),_T=Wh("animationiteration"),xT=Wh("animationstart"),ET=Wh("transitionend"),TT=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){TT.set(t,e),wo(e,[t])}for(var mp=0;mp<Hw.length;mp++){var gp=Hw[mp],m2=gp.toLowerCase(),g2=gp[0].toUpperCase()+gp.slice(1);Ei(m2,"on"+g2)}Ei(wT,"onAnimationEnd");Ei(_T,"onAnimationIteration");Ei(xT,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(ET,"onTransitionEnd");Sa("onMouseEnter",["mouseout","mouseover"]);Sa("onMouseLeave",["mouseout","mouseover"]);Sa("onPointerEnter",["pointerout","pointerover"]);Sa("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function Ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mk(r,e,void 0,t),t.currentTarget=null}function ST(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ww(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ww(s,a,u),i=l}}}if(Dd)throw t=wm,Dd=!1,wm=null,t}function tt(t,e){var n=e[Pm];n===void 0&&(n=e[Pm]=new Set);var r=t+"__bubble";n.has(r)||(CT(e,t,2,!1),n.add(r))}function yp(t,e,n){var r=0;e&&(r|=4),CT(n,t,r,e)}var ku="_reactListening"+Math.random().toString(36).slice(2);function dc(t){if(!t[ku]){t[ku]=!0,k1.forEach(function(n){n!=="selectionchange"&&(y2.has(n)||yp(n,!1,t),yp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ku]||(e[ku]=!0,yp("selectionchange",!1,e))}}function CT(t,e,n,r){switch(lT(e)){case 1:var s=Nk;break;case 4:s=kk;break;default:s=hy}n=s.bind(null,e,n,t),s=void 0,!vm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Bi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}G1(function(){var u=i,d=ly(n),p=[];e:{var h=TT.get(t);if(h!==void 0){var g=py,_=t;switch(t){case"keypress":if(od(n)===0)break e;case"keydown":case"keyup":g=Kk;break;case"focusin":_="focus",g=dp;break;case"focusout":_="blur",g=dp;break;case"beforeblur":case"afterblur":g=dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Yk;break;case wT:case _T:case xT:g=Vk;break;case ET:g=Jk;break;case"scroll":g=Dk;break;case"wheel":g=e2;break;case"copy":case"cut":case"paste":g=Uk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Mw}var y=(e&4)!==0,x=!y&&t==="scroll",T=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,S;v!==null;){S=v;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,T!==null&&(I=ic(v,T),I!=null&&y.push(hc(v,I,S)))),x)break;v=v.return}0<y.length&&(h=new g(h,_,null,n,d),p.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==gm&&(_=n.relatedTarget||n.fromElement)&&(Bi(_)||_[is]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Bi(_):null,_!==null&&(x=_o(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(y=Dw,I="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=Mw,I="onPointerLeave",T="onPointerEnter",v="pointer"),x=g==null?h:qo(g),S=_==null?h:qo(_),h=new y(I,v+"leave",g,n,d),h.target=x,h.relatedTarget=S,I=null,Bi(d)===u&&(y=new y(T,v+"enter",_,n,d),y.target=S,y.relatedTarget=x,I=y),x=I,g&&_)t:{for(y=g,T=_,v=0,S=y;S;S=ko(S))v++;for(S=0,I=T;I;I=ko(I))S++;for(;0<v-S;)y=ko(y),v--;for(;0<S-v;)T=ko(T),S--;for(;v--;){if(y===T||T!==null&&y===T.alternate)break t;y=ko(y),T=ko(T)}y=null}else y=null;g!==null&&qw(p,h,g,y,!1),_!==null&&x!==null&&qw(p,x,_,y,!0)}}e:{if(h=u?qo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=a2;else if(Vw(h))if(pT)k=d2;else{k=c2;var j=l2}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=u2);if(k&&(k=k(t,u))){fT(p,k,n,d);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&dm(h,"number",h.value)}switch(j=u?qo(u):window,t){case"focusin":(Vw(j)||j.contentEditable==="true")&&(Ho=j,Tm=u,Hl=null);break;case"focusout":Hl=Tm=Ho=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Bw(p,n,d);break;case"selectionchange":if(p2)break;case"keydown":case"keyup":Bw(p,n,d)}var b;if(gy)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Bo?dT(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(uT&&n.locale!=="ko"&&(Bo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Bo&&(b=cT()):(Hs=d,fy="value"in Hs?Hs.value:Hs.textContent,Bo=!0)),j=Vd(u,C),0<j.length&&(C=new Ow(C,t,null,n,d),p.push({event:C,listeners:j}),b?C.data=b:(b=hT(n),b!==null&&(C.data=b)))),(b=n2?r2(t,n):s2(t,n))&&(u=Vd(u,"onBeforeInput"),0<u.length&&(d=new Ow("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=b))}ST(p,e)})}function hc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ic(t,n),i!=null&&r.unshift(hc(t,i,s)),i=ic(t,e),i!=null&&r.push(hc(t,i,s))),t=t.return}return r}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ic(n,i),l!=null&&o.unshift(hc(n,l,a))):s||(l=ic(n,i),l!=null&&o.push(hc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var v2=/\r\n?/g,w2=/\u0000|\uFFFD/g;function Kw(t){return(typeof t=="string"?t:""+t).replace(v2,`
`).replace(w2,"")}function Du(t,e,n){if(e=Kw(e),Kw(t)!==e&&n)throw Error(Y(425))}function Fd(){}var Cm=null,bm=null;function Im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rm=typeof setTimeout=="function"?setTimeout:void 0,_2=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(t){return Gw.resolve(null).then(t).catch(E2)}:Rm;function E2(t){setTimeout(function(){throw t})}function wp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),lc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);lc(e)}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Wa,fc="__reactProps$"+Wa,is="__reactContainer$"+Wa,Pm="__reactEvents$"+Wa,T2="__reactListeners$"+Wa,S2="__reactHandles$"+Wa;function Bi(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[is]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qw(t);t!==null;){if(n=t[Pr])return n;t=Qw(t)}return e}t=n,n=t.parentNode}return null}function Uc(t){return t=t[Pr]||t[is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function qh(t){return t[fc]||null}var Am=[],Ko=-1;function Ti(t){return{current:t}}function rt(t){0>Ko||(t.current=Am[Ko],Am[Ko]=null,Ko--)}function Je(t,e){Ko++,Am[Ko]=t.current,t.current=e}var ui={},tn=Ti(ui),Tn=Ti(!1),to=ui;function Ca(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Sn(t){return t=t.childContextTypes,t!=null}function Ud(){rt(Tn),rt(tn)}function Yw(t,e,n){if(tn.current!==ui)throw Error(Y(168));Je(tn,e),Je(Tn,n)}function bT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,lk(t)||"Unknown",s));return at({},n,r)}function $d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,to=tn.current,Je(tn,t),Je(Tn,Tn.current),!0}function Xw(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=bT(t,e,to),r.__reactInternalMemoizedMergedChildContext=t,rt(Tn),rt(tn),Je(tn,t)):rt(Tn),Je(Tn,n)}var Yr=null,Kh=!1,_p=!1;function IT(t){Yr===null?Yr=[t]:Yr.push(t)}function C2(t){Kh=!0,IT(t)}function Si(){if(!_p&&Yr!==null){_p=!0;var t=0,e=Be;try{var n=Yr;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,Kh=!1}catch(s){throw Yr!==null&&(Yr=Yr.slice(t+1)),J1(cy,Si),s}finally{Be=e,_p=!1}}return null}var Go=[],Qo=0,zd=null,Bd=0,Wn=[],qn=0,no=null,Xr=1,Jr="";function Ui(t,e){Go[Qo++]=Bd,Go[Qo++]=zd,zd=t,Bd=e}function RT(t,e,n){Wn[qn++]=Xr,Wn[qn++]=Jr,Wn[qn++]=no,no=t;var r=Xr;t=Jr;var s=32-fr(r)-1;r&=~(1<<s),n+=1;var i=32-fr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-fr(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function vy(t){t.return!==null&&(Ui(t,1),RT(t,1,0))}function wy(t){for(;t===zd;)zd=Go[--Qo],Go[Qo]=null,Bd=Go[--Qo],Go[Qo]=null;for(;t===no;)no=Wn[--qn],Wn[qn]=null,Jr=Wn[--qn],Wn[qn]=null,Xr=Wn[--qn],Wn[qn]=null}var jn=null,On=null,st=!1,lr=null;function PT(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,On=Xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=no!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,On=null,!0):!1;default:return!1}}function Nm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function km(t){if(st){var e=On;if(e){var n=e;if(!Jw(t,e)){if(Nm(t))throw Error(Y(418));e=Xs(n.nextSibling);var r=jn;e&&Jw(t,e)?PT(r,n):(t.flags=t.flags&-4097|2,st=!1,jn=t)}}else{if(Nm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,st=!1,jn=t}}}function Zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function Ou(t){if(t!==jn)return!1;if(!st)return Zw(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Im(t.type,t.memoizedProps)),e&&(e=On)){if(Nm(t))throw AT(),Error(Y(418));for(;e;)PT(t,e),e=Xs(e.nextSibling)}if(Zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=Xs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=jn?Xs(t.stateNode.nextSibling):null;return!0}function AT(){for(var t=On;t;)t=Xs(t.nextSibling)}function ba(){On=jn=null,st=!1}function _y(t){lr===null?lr=[t]:lr.push(t)}var b2=ms.ReactCurrentBatchConfig;function El(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Mu(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function e_(t){var e=t._init;return e(t._payload)}function NT(t){function e(T,v){if(t){var S=T.deletions;S===null?(T.deletions=[v],T.flags|=16):S.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function s(T,v){return T=ti(T,v),T.index=0,T.sibling=null,T}function i(T,v,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<v?(T.flags|=2,v):S):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,v,S,I){return v===null||v.tag!==6?(v=Ip(S,T.mode,I),v.return=T,v):(v=s(v,S),v.return=T,v)}function l(T,v,S,I){var k=S.type;return k===zo?d(T,v,S.props.children,I,S.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===As&&e_(k)===v.type)?(I=s(v,S.props),I.ref=El(T,v,S),I.return=T,I):(I=fd(S.type,S.key,S.props,null,T.mode,I),I.ref=El(T,v,S),I.return=T,I)}function u(T,v,S,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Rp(S,T.mode,I),v.return=T,v):(v=s(v,S.children||[]),v.return=T,v)}function d(T,v,S,I,k){return v===null||v.tag!==7?(v=Zi(S,T.mode,I,k),v.return=T,v):(v=s(v,S),v.return=T,v)}function p(T,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ip(""+v,T.mode,S),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Su:return S=fd(v.type,v.key,v.props,null,T.mode,S),S.ref=El(T,null,v),S.return=T,S;case $o:return v=Rp(v,T.mode,S),v.return=T,v;case As:var I=v._init;return p(T,I(v._payload),S)}if(Al(v)||yl(v))return v=Zi(v,T.mode,S,null),v.return=T,v;Mu(T,v)}return null}function h(T,v,S,I){var k=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(T,v,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Su:return S.key===k?l(T,v,S,I):null;case $o:return S.key===k?u(T,v,S,I):null;case As:return k=S._init,h(T,v,k(S._payload),I)}if(Al(S)||yl(S))return k!==null?null:d(T,v,S,I,null);Mu(T,S)}return null}function g(T,v,S,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return T=T.get(S)||null,a(v,T,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Su:return T=T.get(I.key===null?S:I.key)||null,l(v,T,I,k);case $o:return T=T.get(I.key===null?S:I.key)||null,u(v,T,I,k);case As:var j=I._init;return g(T,v,S,j(I._payload),k)}if(Al(I)||yl(I))return T=T.get(S)||null,d(v,T,I,k,null);Mu(v,I)}return null}function _(T,v,S,I){for(var k=null,j=null,b=v,C=v=0,R=null;b!==null&&C<S.length;C++){b.index>C?(R=b,b=null):R=b.sibling;var N=h(T,b,S[C],I);if(N===null){b===null&&(b=R);break}t&&b&&N.alternate===null&&e(T,b),v=i(N,v,C),j===null?k=N:j.sibling=N,j=N,b=R}if(C===S.length)return n(T,b),st&&Ui(T,C),k;if(b===null){for(;C<S.length;C++)b=p(T,S[C],I),b!==null&&(v=i(b,v,C),j===null?k=b:j.sibling=b,j=b);return st&&Ui(T,C),k}for(b=r(T,b);C<S.length;C++)R=g(b,T,C,S[C],I),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?C:R.key),v=i(R,v,C),j===null?k=R:j.sibling=R,j=R);return t&&b.forEach(function(O){return e(T,O)}),st&&Ui(T,C),k}function y(T,v,S,I){var k=yl(S);if(typeof k!="function")throw Error(Y(150));if(S=k.call(S),S==null)throw Error(Y(151));for(var j=k=null,b=v,C=v=0,R=null,N=S.next();b!==null&&!N.done;C++,N=S.next()){b.index>C?(R=b,b=null):R=b.sibling;var O=h(T,b,N.value,I);if(O===null){b===null&&(b=R);break}t&&b&&O.alternate===null&&e(T,b),v=i(O,v,C),j===null?k=O:j.sibling=O,j=O,b=R}if(N.done)return n(T,b),st&&Ui(T,C),k;if(b===null){for(;!N.done;C++,N=S.next())N=p(T,N.value,I),N!==null&&(v=i(N,v,C),j===null?k=N:j.sibling=N,j=N);return st&&Ui(T,C),k}for(b=r(T,b);!N.done;C++,N=S.next())N=g(b,T,C,N.value,I),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?C:N.key),v=i(N,v,C),j===null?k=N:j.sibling=N,j=N);return t&&b.forEach(function(D){return e(T,D)}),st&&Ui(T,C),k}function x(T,v,S,I){if(typeof S=="object"&&S!==null&&S.type===zo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Su:e:{for(var k=S.key,j=v;j!==null;){if(j.key===k){if(k=S.type,k===zo){if(j.tag===7){n(T,j.sibling),v=s(j,S.props.children),v.return=T,T=v;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===As&&e_(k)===j.type){n(T,j.sibling),v=s(j,S.props),v.ref=El(T,j,S),v.return=T,T=v;break e}n(T,j);break}else e(T,j);j=j.sibling}S.type===zo?(v=Zi(S.props.children,T.mode,I,S.key),v.return=T,T=v):(I=fd(S.type,S.key,S.props,null,T.mode,I),I.ref=El(T,v,S),I.return=T,T=I)}return o(T);case $o:e:{for(j=S.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(T,v.sibling),v=s(v,S.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Rp(S,T.mode,I),v.return=T,T=v}return o(T);case As:return j=S._init,x(T,v,j(S._payload),I)}if(Al(S))return _(T,v,S,I);if(yl(S))return y(T,v,S,I);Mu(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(T,v.sibling),v=s(v,S),v.return=T,T=v):(n(T,v),v=Ip(S,T.mode,I),v.return=T,T=v),o(T)):n(T,v)}return x}var Ia=NT(!0),kT=NT(!1),Hd=Ti(null),Wd=null,Yo=null,xy=null;function Ey(){xy=Yo=Wd=null}function Ty(t){var e=Hd.current;rt(Hd),t._currentValue=e}function Dm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oa(t,e){Wd=t,xy=Yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(xy!==t)if(t={context:t,memoizedValue:e,next:null},Yo===null){if(Wd===null)throw Error(Y(308));Yo=t,Wd.dependencies={lanes:0,firstContext:t}}else Yo=Yo.next=t;return e}var Hi=null;function Sy(t){Hi===null?Hi=[t]:Hi.push(t)}function DT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Sy(e)):(n.next=s.next,s.next=n),e.interleaved=n,os(t,r)}function os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ns=!1;function Cy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Js(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,os(t,n)}return s=r.interleaved,s===null?(e.next=e,Sy(r)):(e.next=s.next,s.next=e),r.interleaved=e,os(t,n)}function ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uy(t,n)}}function t_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qd(t,e,n,r){var s=t.updateQueue;Ns=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(h=e,g=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){p=_.call(g,p,h);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,h=typeof _=="function"?_.call(g,p,h):_,h==null)break e;p=at({},p,h);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=p):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);so|=o,t.lanes=o,t.memoizedState=p}}function n_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var $c={},Dr=Ti($c),pc=Ti($c),mc=Ti($c);function Wi(t){if(t===$c)throw Error(Y(174));return t}function by(t,e){switch(Je(mc,e),Je(pc,t),Je(Dr,$c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fm(e,t)}rt(Dr),Je(Dr,e)}function Ra(){rt(Dr),rt(pc),rt(mc)}function MT(t){Wi(mc.current);var e=Wi(Dr.current),n=fm(e,t.type);e!==n&&(Je(pc,t),Je(Dr,n))}function Iy(t){pc.current===t&&(rt(Dr),rt(pc))}var it=Ti(0);function Kd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xp=[];function Ry(){for(var t=0;t<xp.length;t++)xp[t]._workInProgressVersionPrimary=null;xp.length=0}var ld=ms.ReactCurrentDispatcher,Ep=ms.ReactCurrentBatchConfig,ro=0,ot=null,It=null,Ot=null,Gd=!1,Wl=!1,gc=0,I2=0;function Gt(){throw Error(Y(321))}function Py(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}function Ay(t,e,n,r,s,i){if(ro=i,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ld.current=t===null||t.memoizedState===null?N2:k2,t=n(r,s),Wl){i=0;do{if(Wl=!1,gc=0,25<=i)throw Error(Y(301));i+=1,Ot=It=null,e.updateQueue=null,ld.current=D2,t=n(r,s)}while(Wl)}if(ld.current=Qd,e=It!==null&&It.next!==null,ro=0,Ot=It=ot=null,Gd=!1,e)throw Error(Y(300));return t}function Ny(){var t=gc!==0;return gc=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Jn(){if(It===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Ot===null?ot.memoizedState:Ot.next;if(e!==null)Ot=e,It=t;else{if(t===null)throw Error(Y(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function yc(t,e){return typeof e=="function"?e(t):e}function Tp(t){var e=Jn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=It,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((ro&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,ot.lanes|=d,so|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,mr(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ot.lanes|=i,so|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sp(t){var e=Jn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);mr(i,e.memoizedState)||(xn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function jT(){}function LT(t,e){var n=ot,r=Jn(),s=e(),i=!mr(r.memoizedState,s);if(i&&(r.memoizedState=s,xn=!0),r=r.queue,ky(UT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,vc(9,FT.bind(null,n,r,s,e),void 0,null),Mt===null)throw Error(Y(349));ro&30||VT(n,e,s)}return s}function VT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FT(t,e,n,r){e.value=n,e.getSnapshot=r,$T(e)&&zT(t)}function UT(t,e,n){return n(function(){$T(e)&&zT(t)})}function $T(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mr(t,n)}catch{return!0}}function zT(t){var e=os(t,1);e!==null&&pr(e,t,1,-1)}function r_(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:t},e.queue=t,t=t.dispatch=A2.bind(null,ot,t),[e.memoizedState,t]}function vc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BT(){return Jn().memoizedState}function cd(t,e,n,r){var s=Sr();ot.flags|=t,s.memoizedState=vc(1|e,n,void 0,r===void 0?null:r)}function Gh(t,e,n,r){var s=Jn();r=r===void 0?null:r;var i=void 0;if(It!==null){var o=It.memoizedState;if(i=o.destroy,r!==null&&Py(r,o.deps)){s.memoizedState=vc(e,n,i,r);return}}ot.flags|=t,s.memoizedState=vc(1|e,n,i,r)}function s_(t,e){return cd(8390656,8,t,e)}function ky(t,e){return Gh(2048,8,t,e)}function HT(t,e){return Gh(4,2,t,e)}function WT(t,e){return Gh(4,4,t,e)}function qT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KT(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4,4,qT.bind(null,e,t),n)}function Dy(){}function GT(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QT(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YT(t,e,n){return ro&21?(mr(n,e)||(n=tT(),ot.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function R2(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=Ep.transition;Ep.transition={};try{t(!1),e()}finally{Be=n,Ep.transition=r}}function XT(){return Jn().memoizedState}function P2(t,e,n){var r=ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JT(t))ZT(e,n);else if(n=DT(t,e,n,r),n!==null){var s=dn();pr(n,t,r,s),eS(n,e,r)}}function A2(t,e,n){var r=ei(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JT(t))ZT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,mr(a,o)){var l=e.interleaved;l===null?(s.next=s,Sy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=DT(t,e,s,r),n!==null&&(s=dn(),pr(n,t,r,s),eS(n,e,r))}}function JT(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function ZT(t,e){Wl=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uy(t,n)}}var Qd={readContext:Xn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},N2={readContext:Xn,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:s_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cd(4194308,4,qT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return cd(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P2.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:r_,useDebugValue:Dy,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=r_(!1),e=t[0];return t=R2.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,s=Sr();if(st){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Mt===null)throw Error(Y(349));ro&30||VT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,s_(UT.bind(null,r,i,t),[t]),r.flags|=2048,vc(9,FT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Mt.identifierPrefix;if(st){var n=Jr,r=Xr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=I2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k2={readContext:Xn,useCallback:GT,useContext:Xn,useEffect:ky,useImperativeHandle:KT,useInsertionEffect:HT,useLayoutEffect:WT,useMemo:QT,useReducer:Tp,useRef:BT,useState:function(){return Tp(yc)},useDebugValue:Dy,useDeferredValue:function(t){var e=Jn();return YT(e,It.memoizedState,t)},useTransition:function(){var t=Tp(yc)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:jT,useSyncExternalStore:LT,useId:XT,unstable_isNewReconciler:!1},D2={readContext:Xn,useCallback:GT,useContext:Xn,useEffect:ky,useImperativeHandle:KT,useInsertionEffect:HT,useLayoutEffect:WT,useMemo:QT,useReducer:Sp,useRef:BT,useState:function(){return Sp(yc)},useDebugValue:Dy,useDeferredValue:function(t){var e=Jn();return It===null?e.memoizedState=t:YT(e,It.memoizedState,t)},useTransition:function(){var t=Sp(yc)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:jT,useSyncExternalStore:LT,useId:XT,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Om(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qh={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),s=ei(t),i=ts(r,s);i.payload=e,n!=null&&(i.callback=n),e=Js(t,i,s),e!==null&&(pr(e,t,s,r),ad(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),s=ei(t),i=ts(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Js(t,i,s),e!==null&&(pr(e,t,s,r),ad(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=ei(t),s=ts(n,r);s.tag=2,e!=null&&(s.callback=e),e=Js(t,s,r),e!==null&&(pr(e,t,r,n),ad(e,t,r))}};function i_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!uc(n,r)||!uc(s,i):!0}function tS(t,e,n){var r=!1,s=ui,i=e.contextType;return typeof i=="object"&&i!==null?i=Xn(i):(s=Sn(e)?to:tn.current,r=e.contextTypes,i=(r=r!=null)?Ca(t,s):ui),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function o_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qh.enqueueReplaceState(e,e.state,null)}function Mm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xn(i):(i=Sn(e)?to:tn.current,s.context=Ca(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Om(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qh.enqueueReplaceState(s,s.state,null),qd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",r=e;do n+=ak(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var O2=typeof WeakMap=="function"?WeakMap:Map;function nS(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xd||(Xd=!0,qm=r),jm(t,e)},n}function rS(t,e,n){n=ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){jm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){jm(t,e),typeof r!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new O2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=G2.bind(null,t,e,n),e.then(t,t))}function l_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,Js(n,e,1))),n.lanes|=1),t)}var M2=ms.ReactCurrentOwner,xn=!1;function ln(t,e,n,r){e.child=t===null?kT(e,null,n,r):Ia(e,t.child,n,r)}function u_(t,e,n,r,s){n=n.render;var i=e.ref;return oa(e,s),r=Ay(t,e,n,r,i,s),n=Ny(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,as(t,e,s)):(st&&n&&vy(e),e.flags|=1,ln(t,e,r,s),e.child)}function d_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!$y(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sS(t,e,i,r,s)):(t=fd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:uc,n(o,r)&&t.ref===e.ref)return as(t,e,s)}return e.flags|=1,t=ti(i,r),t.ref=e.ref,t.return=e,e.child=t}function sS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(uc(i,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,as(t,e,s)}return Lm(t,e,n,r,s)}function iS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Jo,Nn),Nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Jo,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Je(Jo,Nn),Nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Je(Jo,Nn),Nn|=r;return ln(t,e,s,n),e.child}function oS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lm(t,e,n,r,s){var i=Sn(n)?to:tn.current;return i=Ca(e,i),oa(e,s),n=Ay(t,e,n,r,i,s),r=Ny(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,as(t,e,s)):(st&&r&&vy(e),e.flags|=1,ln(t,e,n,s),e.child)}function h_(t,e,n,r,s){if(Sn(n)){var i=!0;$d(e)}else i=!1;if(oa(e,s),e.stateNode===null)ud(t,e),tS(e,n,r),Mm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=Sn(n)?to:tn.current,u=Ca(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&o_(e,o,r,u),Ns=!1;var h=e.memoizedState;o.state=h,qd(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Tn.current||Ns?(typeof d=="function"&&(Om(e,n,d,r),l=e.memoizedState),(a=Ns||i_(e,n,a,r,h,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sr(e.type,a),o.props=u,p=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=Sn(n)?to:tn.current,l=Ca(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==l)&&o_(e,o,r,l),Ns=!1,h=e.memoizedState,o.state=h,qd(e,r,o,s);var _=e.memoizedState;a!==p||h!==_||Tn.current||Ns?(typeof g=="function"&&(Om(e,n,g,r),_=e.memoizedState),(u=Ns||i_(e,n,u,r,h,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Vm(t,e,n,r,i,s)}function Vm(t,e,n,r,s,i){oS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xw(e,n,!1),as(t,e,i);r=e.stateNode,M2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ia(e,t.child,null,i),e.child=Ia(e,null,a,i)):ln(t,e,a,i),e.memoizedState=r.state,s&&Xw(e,n,!0),e.child}function aS(t){var e=t.stateNode;e.pendingContext?Yw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yw(t,e.context,!1),by(t,e.containerInfo)}function f_(t,e,n,r,s){return ba(),_y(s),e.flags|=256,ln(t,e,n,r),e.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Um(t){return{baseLanes:t,cachePool:null,transitions:null}}function lS(t,e,n){var r=e.pendingProps,s=it.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Je(it,s&1),t===null)return km(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jh(o,r,0,null),t=Zi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Um(n),e.memoizedState=Fm,t):Oy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return j2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ti(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ti(a,i):(i=Zi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Um(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Fm,r}return i=t.child,t=i.sibling,r=ti(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Oy(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ju(t,e,n,r){return r!==null&&_y(r),Ia(e,t.child,null,n),t=Oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Cp(Error(Y(422))),ju(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jh({mode:"visible",children:r.children},s,0,null),i=Zi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ia(e,t.child,null,o),e.child.memoizedState=Um(o),e.memoizedState=Fm,i);if(!(e.mode&1))return ju(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=Cp(i,r,void 0),ju(t,e,o,r)}if(a=(o&t.childLanes)!==0,xn||a){if(r=Mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,os(t,s),pr(r,t,s,-1))}return Uy(),r=Cp(Error(Y(421))),ju(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Q2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,On=Xs(s.nextSibling),jn=e,st=!0,lr=null,t!==null&&(Wn[qn++]=Xr,Wn[qn++]=Jr,Wn[qn++]=no,Xr=t.id,Jr=t.overflow,no=e),e=Oy(e,r.children),e.flags|=4096,e)}function p_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dm(t.return,e,n)}function bp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ln(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,n,e);else if(t.tag===19)p_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(it,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Kd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),bp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Kd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}bp(e,!0,n,null,i);break;case"together":bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function as(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function L2(t,e,n){switch(e.tag){case 3:aS(e),ba();break;case 5:MT(e);break;case 1:Sn(e.type)&&$d(e);break;case 4:by(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Je(Hd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?lS(t,e,n):(Je(it,it.current&1),t=as(t,e,n),t!==null?t.sibling:null);Je(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Je(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,iS(t,e,n)}return as(t,e,n)}var uS,$m,dS,hS;uS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$m=function(){};dS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wi(Dr.current);var i=null;switch(n){case"input":s=cm(t,s),r=cm(t,r),i=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),i=[];break;case"textarea":s=hm(t,s),r=hm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fd)}pm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};hS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tl(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function V2(t,e,n){var r=e.pendingProps;switch(wy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return Sn(e.type)&&Ud(),Qt(e),null;case 3:return r=e.stateNode,Ra(),rt(Tn),rt(tn),Ry(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Qm(lr),lr=null))),$m(t,e),Qt(e),null;case 5:Iy(e);var s=Wi(mc.current);if(n=e.type,t!==null&&e.stateNode!=null)dS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Qt(e),null}if(t=Wi(Dr.current),Ou(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Pr]=e,r[fc]=i,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(s=0;s<kl.length;s++)tt(kl[s],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Tw(r,i),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tt("invalid",r);break;case"textarea":Cw(r,i),tt("invalid",r)}pm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Du(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Du(r.textContent,a,t),s=["children",""+a]):rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":Cu(r),Sw(r,i,!0);break;case"textarea":Cu(r),bw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pr]=e,t[fc]=r,uS(t,e,!1,!1),e.stateNode=t;e:{switch(o=mm(n,r),n){case"dialog":tt("cancel",t),tt("close",t),s=r;break;case"iframe":case"object":case"embed":tt("load",t),s=r;break;case"video":case"audio":for(s=0;s<kl.length;s++)tt(kl[s],t);s=r;break;case"source":tt("error",t),s=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),s=r;break;case"details":tt("toggle",t),s=r;break;case"input":Tw(t,r),s=cm(t,r),tt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),tt("invalid",t);break;case"textarea":Cw(t,r),s=hm(t,r),tt("invalid",t);break;default:s=r}pm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?B1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sc(t,l):typeof l=="number"&&sc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&tt("scroll",t):l!=null&&sy(t,i,l,o))}switch(n){case"input":Cu(t),Sw(t,r,!1);break;case"textarea":Cu(t),bw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ci(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?na(t,!!r.multiple,i,!1):r.defaultValue!=null&&na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)hS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Wi(mc.current),Wi(Dr.current),Ou(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(i=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:Du(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Du(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Qt(e),null;case 13:if(rt(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&On!==null&&e.mode&1&&!(e.flags&128))AT(),ba(),e.flags|=98560,i=!1;else if(i=Ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Pr]=e}else ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),i=!1}else lr!==null&&(Qm(lr),lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Rt===0&&(Rt=3):Uy())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Ra(),$m(t,e),t===null&&dc(e.stateNode.containerInfo),Qt(e),null;case 10:return Ty(e.type._context),Qt(e),null;case 17:return Sn(e.type)&&Ud(),Qt(e),null;case 19:if(rt(it),i=e.memoizedState,i===null)return Qt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Tl(i,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kd(t),o!==null){for(e.flags|=128,Tl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(it,it.current&1|2),e.child}t=t.sibling}i.tail!==null&&yt()>Aa&&(e.flags|=128,r=!0,Tl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Kd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!st)return Qt(e),null}else 2*yt()-i.renderingStartTime>Aa&&n!==1073741824&&(e.flags|=128,r=!0,Tl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=it.current,Je(it,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return Fy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function F2(t,e){switch(wy(e),e.tag){case 1:return Sn(e.type)&&Ud(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(),rt(Tn),rt(tn),Ry(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iy(e),null;case 13:if(rt(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(it),null;case 4:return Ra(),null;case 10:return Ty(e.type._context),null;case 22:case 23:return Fy(),null;case 24:return null;default:return null}}var Lu=!1,Zt=!1,U2=typeof WeakSet=="function"?WeakSet:Set,le=null;function Xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function zm(t,e,n){try{n()}catch(r){ft(t,e,r)}}var m_=!1;function $2(t,e){if(Cm=jd,t=yT(),yy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,h=null;t:for(;;){for(var g;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bm={focusedElem:t,selectionRange:n},jd=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,x=_.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?y:sr(e.type,y),x);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(I){ft(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return _=m_,m_=!1,_}function ql(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zm(e,n,i)}s=s.next}while(s!==r)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fS(t){var e=t.alternate;e!==null&&(t.alternate=null,fS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[fc],delete e[Pm],delete e[T2],delete e[S2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pS(t){return t.tag===5||t.tag===3||t.tag===4}function g_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fd));else if(r!==4&&(t=t.child,t!==null))for(Hm(t,e,n),t=t.sibling;t!==null;)Hm(t,e,n),t=t.sibling}function Wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wm(t,e,n),t=t.sibling;t!==null;)Wm(t,e,n),t=t.sibling}var Vt=null,ar=!1;function Ss(t,e,n){for(n=n.child;n!==null;)mS(t,e,n),n=n.sibling}function mS(t,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:Zt||Xo(n,e);case 6:var r=Vt,s=ar;Vt=null,Ss(t,e,n),Vt=r,ar=s,Vt!==null&&(ar?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(ar?(t=Vt,n=n.stateNode,t.nodeType===8?wp(t.parentNode,n):t.nodeType===1&&wp(t,n),lc(t)):wp(Vt,n.stateNode));break;case 4:r=Vt,s=ar,Vt=n.stateNode.containerInfo,ar=!0,Ss(t,e,n),Vt=r,ar=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zm(n,e,o),s=s.next}while(s!==r)}Ss(t,e,n);break;case 1:if(!Zt&&(Xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,e,a)}Ss(t,e,n);break;case 21:Ss(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,Ss(t,e,n),Zt=r):Ss(t,e,n);break;default:Ss(t,e,n)}}function y_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new U2),e.forEach(function(r){var s=Y2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,ar=!1;break e;case 3:Vt=a.stateNode.containerInfo,ar=!0;break e;case 4:Vt=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(Vt===null)throw Error(Y(160));mS(i,o,s),Vt=null,ar=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ft(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gS(e,t),e=e.sibling}function gS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),Tr(t),r&4){try{ql(3,t,t.return),Yh(3,t)}catch(y){ft(t,t.return,y)}try{ql(5,t,t.return)}catch(y){ft(t,t.return,y)}}break;case 1:tr(e,t),Tr(t),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(tr(e,t),Tr(t),r&512&&n!==null&&Xo(n,n.return),t.flags&32){var s=t.stateNode;try{sc(s,"")}catch(y){ft(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&V1(s,i),mm(a,o);var u=mm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?B1(s,p):d==="dangerouslySetInnerHTML"?$1(s,p):d==="children"?sc(s,p):sy(s,d,p,u)}switch(a){case"input":um(s,i);break;case"textarea":F1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?na(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?na(s,!!i.multiple,i.defaultValue,!0):na(s,!!i.multiple,i.multiple?[]:"",!1))}s[fc]=i}catch(y){ft(t,t.return,y)}}break;case 6:if(tr(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ft(t,t.return,y)}}break;case 3:if(tr(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(e.containerInfo)}catch(y){ft(t,t.return,y)}break;case 4:tr(e,t),Tr(t);break;case 13:tr(e,t),Tr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ly=yt())),r&4&&y_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(u=Zt)||d,tr(e,t),Zt=u):tr(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(p=le=d;le!==null;){switch(h=le,g=h.child,h.tag){case 0:case 11:case 14:case 15:ql(4,h,h.return);break;case 1:Xo(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){ft(r,n,y)}}break;case 5:Xo(h,h.return);break;case 22:if(h.memoizedState!==null){w_(p);continue}}g!==null?(g.return=h,le=g):w_(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=z1("display",o))}catch(y){ft(t,t.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){ft(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:tr(e,t),Tr(t),r&4&&y_(t);break;case 21:break;default:tr(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pS(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(sc(s,""),r.flags&=-33);var i=g_(t);Wm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g_(t);Hm(t,a,o);break;default:throw Error(Y(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z2(t,e,n){le=t,yS(t)}function yS(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Lu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Zt;a=Lu;var u=Zt;if(Lu=o,(Zt=l)&&!u)for(le=s;le!==null;)o=le,l=o.child,o.tag===22&&o.memoizedState!==null?__(s):l!==null?(l.return=o,le=l):__(s);for(;i!==null;)le=i,yS(i),i=i.sibling;le=s,Lu=a,Zt=u}v_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):v_(t)}}function v_(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||Yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&n_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}n_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&lc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Zt||e.flags&512&&Bm(e)}catch(h){ft(e,e.return,h)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function w_(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function __(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yh(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ft(e,s,l)}}var i=e.return;try{Bm(e)}catch(l){ft(e,i,l)}break;case 5:var o=e.return;try{Bm(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var B2=Math.ceil,Yd=ms.ReactCurrentDispatcher,My=ms.ReactCurrentOwner,Qn=ms.ReactCurrentBatchConfig,Le=0,Mt=null,Tt=null,$t=0,Nn=0,Jo=Ti(0),Rt=0,wc=null,so=0,Xh=0,jy=0,Kl=null,vn=null,Ly=0,Aa=1/0,Qr=null,Xd=!1,qm=null,Zs=null,Vu=!1,Ws=null,Jd=0,Gl=0,Km=null,dd=-1,hd=0;function dn(){return Le&6?yt():dd!==-1?dd:dd=yt()}function ei(t){return t.mode&1?Le&2&&$t!==0?$t&-$t:b2.transition!==null?(hd===0&&(hd=tT()),hd):(t=Be,t!==0||(t=window.event,t=t===void 0?16:lT(t.type)),t):1}function pr(t,e,n,r){if(50<Gl)throw Gl=0,Km=null,Error(Y(185));Vc(t,n,r),(!(Le&2)||t!==Mt)&&(t===Mt&&(!(Le&2)&&(Xh|=n),Rt===4&&Ds(t,$t)),Cn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Aa=yt()+500,Kh&&Si()))}function Cn(t,e){var n=t.callbackNode;bk(t,e);var r=Md(t,t===Mt?$t:0);if(r===0)n!==null&&Pw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pw(n),e===1)t.tag===0?C2(x_.bind(null,t)):IT(x_.bind(null,t)),x2(function(){!(Le&6)&&Si()}),n=null;else{switch(nT(r)){case 1:n=cy;break;case 4:n=Z1;break;case 16:n=Od;break;case 536870912:n=eT;break;default:n=Od}n=CS(n,vS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vS(t,e){if(dd=-1,hd=0,Le&6)throw Error(Y(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var r=Md(t,t===Mt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zd(t,r);else{e=r;var s=Le;Le|=2;var i=_S();(Mt!==t||$t!==e)&&(Qr=null,Aa=yt()+500,Ji(t,e));do try{q2();break}catch(a){wS(t,a)}while(!0);Ey(),Yd.current=i,Le=s,Tt!==null?e=0:(Mt=null,$t=0,e=Rt)}if(e!==0){if(e===2&&(s=_m(t),s!==0&&(r=s,e=Gm(t,s))),e===1)throw n=wc,Ji(t,0),Ds(t,r),Cn(t,yt()),n;if(e===6)Ds(t,r);else{if(s=t.current.alternate,!(r&30)&&!H2(s)&&(e=Zd(t,r),e===2&&(i=_m(t),i!==0&&(r=i,e=Gm(t,i))),e===1))throw n=wc,Ji(t,0),Ds(t,r),Cn(t,yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:$i(t,vn,Qr);break;case 3:if(Ds(t,r),(r&130023424)===r&&(e=Ly+500-yt(),10<e)){if(Md(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rm($i.bind(null,t,vn,Qr),e);break}$i(t,vn,Qr);break;case 4:if(Ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B2(r/1960))-r,10<r){t.timeoutHandle=Rm($i.bind(null,t,vn,Qr),r);break}$i(t,vn,Qr);break;case 5:$i(t,vn,Qr);break;default:throw Error(Y(329))}}}return Cn(t,yt()),t.callbackNode===n?vS.bind(null,t):null}function Gm(t,e){var n=Kl;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=Zd(t,e),t!==2&&(e=vn,vn=n,e!==null&&Qm(e)),t}function Qm(t){vn===null?vn=t:vn.push.apply(vn,t)}function H2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ds(t,e){for(e&=~jy,e&=~Xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function x_(t){if(Le&6)throw Error(Y(327));aa();var e=Md(t,0);if(!(e&1))return Cn(t,yt()),null;var n=Zd(t,e);if(t.tag!==0&&n===2){var r=_m(t);r!==0&&(e=r,n=Gm(t,r))}if(n===1)throw n=wc,Ji(t,0),Ds(t,e),Cn(t,yt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,vn,Qr),Cn(t,yt()),null}function Vy(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Aa=yt()+500,Kh&&Si())}}function io(t){Ws!==null&&Ws.tag===0&&!(Le&6)&&aa();var e=Le;Le|=1;var n=Qn.transition,r=Be;try{if(Qn.transition=null,Be=1,t)return t()}finally{Be=r,Qn.transition=n,Le=e,!(Le&6)&&Si()}}function Fy(){Nn=Jo.current,rt(Jo)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_2(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(wy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ud();break;case 3:Ra(),rt(Tn),rt(tn),Ry();break;case 5:Iy(r);break;case 4:Ra();break;case 13:rt(it);break;case 19:rt(it);break;case 10:Ty(r.type._context);break;case 22:case 23:Fy()}n=n.return}if(Mt=t,Tt=t=ti(t.current,null),$t=Nn=e,Rt=0,wc=null,jy=Xh=so=0,vn=Kl=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hi=null}return t}function wS(t,e){do{var n=Tt;try{if(Ey(),ld.current=Qd,Gd){for(var r=ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gd=!1}if(ro=0,Ot=It=ot=null,Wl=!1,gc=0,My.current=null,n===null||n.return===null){Rt=1,wc=e,Tt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=l_(o);if(g!==null){g.flags&=-257,c_(g,o,a,i,e),g.mode&1&&a_(i,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){a_(i,u,e),Uy();break e}l=Error(Y(426))}}else if(st&&a.mode&1){var x=l_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),c_(x,o,a,i,e),_y(Pa(l,a));break e}}i=l=Pa(l,a),Rt!==4&&(Rt=2),Kl===null?Kl=[i]:Kl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=nS(i,l,e);t_(i,T);break e;case 1:a=l;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Zs===null||!Zs.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=rS(i,a,e);t_(i,I);break e}}i=i.return}while(i!==null)}ES(n)}catch(k){e=k,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function _S(){var t=Yd.current;return Yd.current=Qd,t===null?Qd:t}function Uy(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Mt===null||!(so&268435455)&&!(Xh&268435455)||Ds(Mt,$t)}function Zd(t,e){var n=Le;Le|=2;var r=_S();(Mt!==t||$t!==e)&&(Qr=null,Ji(t,e));do try{W2();break}catch(s){wS(t,s)}while(!0);if(Ey(),Le=n,Yd.current=r,Tt!==null)throw Error(Y(261));return Mt=null,$t=0,Rt}function W2(){for(;Tt!==null;)xS(Tt)}function q2(){for(;Tt!==null&&!yk();)xS(Tt)}function xS(t){var e=SS(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?ES(t):Tt=e,My.current=null}function ES(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=F2(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Tt=null;return}}else if(n=V2(n,e,Nn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Rt===0&&(Rt=5)}function $i(t,e,n){var r=Be,s=Qn.transition;try{Qn.transition=null,Be=1,K2(t,e,n,r)}finally{Qn.transition=s,Be=r}return null}function K2(t,e,n,r){do aa();while(Ws!==null);if(Le&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ik(t,i),t===Mt&&(Tt=Mt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vu||(Vu=!0,CS(Od,function(){return aa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qn.transition,Qn.transition=null;var o=Be;Be=1;var a=Le;Le|=4,My.current=null,$2(t,n),gS(n,t),f2(bm),jd=!!Cm,bm=Cm=null,t.current=n,z2(n),vk(),Le=a,Be=o,Qn.transition=i}else t.current=n;if(Vu&&(Vu=!1,Ws=t,Jd=s),i=t.pendingLanes,i===0&&(Zs=null),xk(n.stateNode),Cn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xd)throw Xd=!1,t=qm,qm=null,t;return Jd&1&&t.tag!==0&&aa(),i=t.pendingLanes,i&1?t===Km?Gl++:(Gl=0,Km=t):Gl=0,Si(),null}function aa(){if(Ws!==null){var t=nT(Jd),e=Qn.transition,n=Be;try{if(Qn.transition=null,Be=16>t?16:t,Ws===null)var r=!1;else{if(t=Ws,Ws=null,Jd=0,Le&6)throw Error(Y(331));var s=Le;for(Le|=4,le=t.current;le!==null;){var i=le,o=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:ql(8,d,i)}var p=d.child;if(p!==null)p.return=d,le=p;else for(;le!==null;){d=le;var h=d.sibling,g=d.return;if(fS(d),d===u){le=null;break}if(h!==null){h.return=g,le=h;break}le=g}}}var _=i.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,le=o;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ql(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,le=T;break e}le=i.return}}var v=t.current;for(le=v;le!==null;){o=le;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,le=S;else e:for(o=v;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yh(9,a)}}catch(k){ft(a,a.return,k)}if(a===o){le=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,le=I;break e}le=a.return}}if(Le=s,Si(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(zh,t)}catch{}r=!0}return r}finally{Be=n,Qn.transition=e}}return!1}function E_(t,e,n){e=Pa(n,e),e=nS(t,e,1),t=Js(t,e,1),e=dn(),t!==null&&(Vc(t,1,e),Cn(t,e))}function ft(t,e,n){if(t.tag===3)E_(t,t,n);else for(;e!==null;){if(e.tag===3){E_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zs===null||!Zs.has(r))){t=Pa(n,t),t=rS(e,t,1),e=Js(e,t,1),t=dn(),e!==null&&(Vc(e,1,t),Cn(e,t));break}}e=e.return}}function G2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&($t&n)===n&&(Rt===4||Rt===3&&($t&130023424)===$t&&500>yt()-Ly?Ji(t,0):jy|=n),Cn(t,e)}function TS(t,e){e===0&&(t.mode&1?(e=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):e=1);var n=dn();t=os(t,e),t!==null&&(Vc(t,e,n),Cn(t,n))}function Q2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TS(t,n)}function Y2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),TS(t,n)}var SS;SS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,L2(t,e,n);xn=!!(t.flags&131072)}else xn=!1,st&&e.flags&1048576&&RT(e,Bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ud(t,e),t=e.pendingProps;var s=Ca(e,tn.current);oa(e,n),s=Ay(null,e,r,t,s,n);var i=Ny();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(i=!0,$d(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cy(e),s.updater=Qh,e.stateNode=s,s._reactInternals=e,Mm(e,r,t,n),e=Vm(null,e,r,!0,i,n)):(e.tag=0,st&&i&&vy(e),ln(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ud(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=J2(r),t=sr(r,t),s){case 0:e=Lm(null,e,r,t,n);break e;case 1:e=h_(null,e,r,t,n);break e;case 11:e=u_(null,e,r,t,n);break e;case 14:e=d_(null,e,r,sr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),Lm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),h_(t,e,r,s,n);case 3:e:{if(aS(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,OT(t,e),qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pa(Error(Y(423)),e),e=f_(t,e,r,n,s);break e}else if(r!==s){s=Pa(Error(Y(424)),e),e=f_(t,e,r,n,s);break e}else for(On=Xs(e.stateNode.containerInfo.firstChild),jn=e,st=!0,lr=null,n=kT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===s){e=as(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return MT(e),t===null&&km(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Im(r,s)?o=null:i!==null&&Im(r,i)&&(e.flags|=32),oS(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&km(e),null;case 13:return lS(t,e,n);case 4:return by(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),u_(t,e,r,s,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Je(Hd,r._currentValue),r._currentValue=o,i!==null)if(mr(i.value,o)){if(i.children===s.children&&!Tn.current){e=as(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ts(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Dm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ln(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oa(e,n),s=Xn(s),r=r(s),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,s=sr(r,e.pendingProps),s=sr(r.type,s),d_(t,e,r,s,n);case 15:return sS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),ud(t,e),e.tag=1,Sn(r)?(t=!0,$d(e)):t=!1,oa(e,n),tS(e,r,s),Mm(e,r,s,n),Vm(null,e,r,!0,t,n);case 19:return cS(t,e,n);case 22:return iS(t,e,n)}throw Error(Y(156,e.tag))};function CS(t,e){return J1(t,e)}function X2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new X2(t,e,n,r)}function $y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J2(t){if(typeof t=="function")return $y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oy)return 11;if(t===ay)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")$y(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zo:return Zi(n.children,s,i,e);case iy:o=8,s|=8;break;case im:return t=Gn(12,n,e,s|2),t.elementType=im,t.lanes=i,t;case om:return t=Gn(13,n,e,s),t.elementType=om,t.lanes=i,t;case am:return t=Gn(19,n,e,s),t.elementType=am,t.lanes=i,t;case M1:return Jh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D1:o=10;break e;case O1:o=9;break e;case oy:o=11;break e;case ay:o=14;break e;case As:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Zi(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Jh(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=M1,t.lanes=n,t.stateNode={isHidden:!1},t}function Ip(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Rp(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lp(0),this.expirationTimes=lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zy(t,e,n,r,s,i,o,a,l){return t=new Z2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Gn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cy(i),t}function eD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bS(t){if(!t)return ui;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Sn(n))return bT(t,n,e)}return e}function IS(t,e,n,r,s,i,o,a,l){return t=zy(n,r,!0,t,s,i,o,a,l),t.context=bS(null),n=t.current,r=dn(),s=ei(n),i=ts(r,s),i.callback=e??null,Js(n,i,s),t.current.lanes=s,Vc(t,s,r),Cn(t,r),t}function Zh(t,e,n,r){var s=e.current,i=dn(),o=ei(s);return n=bS(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Js(s,e,o),t!==null&&(pr(t,s,o,i),ad(t,s,o)),o}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function By(t,e){T_(t,e),(t=t.alternate)&&T_(t,e)}function tD(){return null}var RS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hy(t){this._internalRoot=t}ef.prototype.render=Hy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Zh(t,e,null,null)};ef.prototype.unmount=Hy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;io(function(){Zh(null,t,null,null)}),e[is]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=iT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&aT(t)}};function Wy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S_(){}function nD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=eh(o);i.call(u)}}var o=IS(e,r,t,0,null,!1,!1,"",S_);return t._reactRootContainer=o,t[is]=o.current,dc(t.nodeType===8?t.parentNode:t),io(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=eh(l);a.call(u)}}var l=zy(t,0,!1,null,null,!1,!1,"",S_);return t._reactRootContainer=l,t[is]=l.current,dc(t.nodeType===8?t.parentNode:t),io(function(){Zh(e,l,n,r)}),l}function nf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=eh(o);a.call(l)}}Zh(e,o,t,s)}else o=nD(n,e,t,s,r);return eh(o)}rT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nl(e.pendingLanes);n!==0&&(uy(e,n|1),Cn(e,yt()),!(Le&6)&&(Aa=yt()+500,Si()))}break;case 13:io(function(){var r=os(t,1);if(r!==null){var s=dn();pr(r,t,1,s)}}),By(t,1)}};dy=function(t){if(t.tag===13){var e=os(t,134217728);if(e!==null){var n=dn();pr(e,t,134217728,n)}By(t,134217728)}};sT=function(t){if(t.tag===13){var e=ei(t),n=os(t,e);if(n!==null){var r=dn();pr(n,t,e,r)}By(t,e)}};iT=function(){return Be};oT=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};ym=function(t,e,n){switch(e){case"input":if(um(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=qh(r);if(!s)throw Error(Y(90));L1(r),um(r,s)}}}break;case"textarea":F1(t,n);break;case"select":e=n.value,e!=null&&na(t,!!n.multiple,e,!1)}};q1=Vy;K1=io;var rD={usingClientEntryPoint:!1,Events:[Uc,qo,qh,H1,W1,Vy]},Sl={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sD={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y1(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||tD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{zh=Fu.inject(sD),kr=Fu}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rD;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wy(e))throw Error(Y(200));return eD(t,e,null,n)};$n.createRoot=function(t,e){if(!Wy(t))throw Error(Y(299));var n=!1,r="",s=RS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zy(t,1,!1,null,null,n,!1,r,s),t[is]=e.current,dc(t.nodeType===8?t.parentNode:t),new Hy(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=Y1(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return io(t)};$n.hydrate=function(t,e,n){if(!tf(e))throw Error(Y(200));return nf(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Wy(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=RS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IS(e,null,t,1,n??null,s,!1,i,o),t[is]=e.current,dc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ef(e)};$n.render=function(t,e,n){if(!tf(e))throw Error(Y(200));return nf(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!tf(t))throw Error(Y(40));return t._reactRootContainer?(io(function(){nf(null,null,t,!1,function(){t._reactRootContainer=null,t[is]=null})}),!0):!1};$n.unstable_batchedUpdates=Vy;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tf(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return nf(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(t){console.error(t)}}PS(),P1.exports=$n;var xo=P1.exports;const AS=g1(xo);var NS,C_=xo;NS=C_.createRoot,C_.hydrateRoot;const iD=1,oD=1e6;let Pp=0;function aD(){return Pp=(Pp+1)%Number.MAX_SAFE_INTEGER,Pp.toString()}const Ap=new Map,b_=t=>{if(Ap.has(t))return;const e=setTimeout(()=>{Ap.delete(t),Ql({type:"REMOVE_TOAST",toastId:t})},oD);Ap.set(t,e)},lD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,iD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?b_(n):t.toasts.forEach(r=>{b_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},pd=[];let md={toasts:[]};function Ql(t){md=lD(md,t),pd.forEach(e=>{e(md)})}function cD({...t}){const e=aD(),n=s=>Ql({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ql({type:"DISMISS_TOAST",toastId:e});return Ql({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function qy(){const[t,e]=w.useState(md);return w.useEffect(()=>(pd.push(e),()=>{const n=pd.indexOf(e);n>-1&&pd.splice(n,1)}),[t]),{...t,toast:cD,dismiss:n=>Ql({type:"DISMISS_TOAST",toastId:n})}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function uD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kS(...t){return e=>t.forEach(n=>uD(n,e))}function He(...t){return w.useCallback(kS(...t),t)}function dD(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:g,..._}=p,y=(h==null?void 0:h[t][l])||a,x=w.useMemo(()=>_,Object.values(_));return f.jsx(y.Provider,{value:x,children:g})}function d(p,h){const g=(h==null?void 0:h[t][l])||a,_=w.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,hD(s,...e)]}function hD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var oo=w.forwardRef((t,e)=>{const{children:n,...r}=t,s=w.Children.toArray(n),i=s.find(fD);if(i){const o=i.props.children,a=s.map(l=>l===i?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return f.jsx(Ym,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return f.jsx(Ym,{...r,ref:e,children:n})});oo.displayName="Slot";var Ym=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const s=mD(n);return w.cloneElement(n,{...pD(r,n.props),ref:e?kS(e,s):s})}return w.Children.count(n)>1?w.Children.only(null):null});Ym.displayName="SlotClone";var DS=({children:t})=>f.jsx(f.Fragment,{children:t});function fD(t){return w.isValidElement(t)&&t.type===DS}function pD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function mD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ky(t){const e=t+"CollectionProvider",[n,r]=dD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:y}=g,x=U.useRef(null),T=U.useRef(new Map).current;return f.jsx(s,{scope:_,itemMap:T,collectionRef:x,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=U.forwardRef((g,_)=>{const{scope:y,children:x}=g,T=i(a,y),v=He(_,T.collectionRef);return f.jsx(oo,{ref:v,children:x})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=U.forwardRef((g,_)=>{const{scope:y,children:x,...T}=g,v=U.useRef(null),S=He(_,v),I=i(u,y);return U.useEffect(()=>(I.itemMap.set(v,{ref:v,...T}),()=>void I.itemMap.delete(v))),f.jsx(oo,{[d]:"",ref:S,children:x})});p.displayName=u;function h(g){const _=i(t+"CollectionConsumer",g);return U.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const T=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((I,k)=>T.indexOf(I.ref.current)-T.indexOf(k.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},h,r]}function gD(t,e){const n=w.createContext(e),r=i=>{const{children:o,...a}=i,l=w.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Eo(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];const u=p=>{var T;const{scope:h,children:g,..._}=p,y=((T=h==null?void 0:h[t])==null?void 0:T[l])||a,x=w.useMemo(()=>_,Object.values(_));return f.jsx(y.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(p,h){var y;const g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,_=w.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,yD(s,...e)]}function yD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var vD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=vD.reduce((t,e)=>{const n=w.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?oo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function OS(t,e){t&&xo.flushSync(()=>t.dispatchEvent(e))}function bn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function wD(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _D="DismissableLayer",Xm="dismissableLayer.update",xD="dismissableLayer.pointerDownOutside",ED="dismissableLayer.focusOutside",I_,MS=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zc=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=w.useContext(MS),[d,p]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),_=He(e,b=>p(b)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=y.indexOf(x),v=d?y.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,I=v>=T,k=SD(b=>{const C=b.target,R=[...u.branches].some(N=>N.contains(C));!I||R||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),j=CD(b=>{const C=b.target;[...u.branches].some(N=>N.contains(C))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return wD(b=>{v===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(I_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),R_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=I_)}},[d,h,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),R_())},[d,u]),w.useEffect(()=>{const b=()=>g({});return document.addEventListener(Xm,b),()=>document.removeEventListener(Xm,b)},[]),f.jsx(Te.div,{...l,ref:_,style:{pointerEvents:S?I?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,j.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,k.onPointerDownCapture)})});zc.displayName=_D;var TD="DismissableLayerBranch",jS=w.forwardRef((t,e)=>{const n=w.useContext(MS),r=w.useRef(null),s=He(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(Te.div,{...t,ref:s})});jS.displayName=TD;function SD(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){LS(xD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function CD(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&LS(ED,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R_(){const t=new CustomEvent(Xm);document.dispatchEvent(t)}function LS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OS(s,i):s.dispatchEvent(i)}var bD=zc,ID=jS,nn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},RD="Portal",rf=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);nn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?AS.createPortal(f.jsx(Te.div,{...r,ref:e}),o):null});rf.displayName=RD;function PD(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Ci=t=>{const{present:e,children:n}=t,r=AD(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=He(r.ref,ND(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};Ci.displayName="Presence";function AD(t){const[e,n]=w.useState(),r=w.useRef({}),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=PD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Uu(r.current);i.current=a==="mounted"?u:"none"},[a]),nn(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,g=Uu(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),nn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=g=>{const y=Uu(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=g=>{g.target===e&&(i.current=Uu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Uu(t){return(t==null?void 0:t.animationName)||"none"}function ND(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ao({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=kD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=bn(n),l=w.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,l]}function kD({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,s=w.useRef(r),i=bn(e);return w.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var DD="VisuallyHidden",Bc=w.forwardRef((t,e)=>f.jsx(Te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Bc.displayName=DD;var OD=Bc,Gy="ToastProvider",[Qy,MD,jD]=Ky("Toast"),[VS,O8]=Eo("Toast",[jD]),[LD,sf]=VS(Gy),FS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=w.useState(null),[u,d]=w.useState(0),p=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gy}\`. Expected non-empty \`string\`.`),f.jsx(Qy.Provider,{scope:e,children:f.jsx(LD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};FS.displayName=Gy;var US="ToastViewport",VD=["F8"],Jm="toast.viewportPause",Zm="toast.viewportResume",$S=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=VD,label:s="Notifications ({hotkey})",...i}=t,o=sf(US,n),a=MD(n),l=w.useRef(null),u=w.useRef(null),d=w.useRef(null),p=w.useRef(null),h=He(e,p,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;w.useEffect(()=>{const x=T=>{var S;r.length!==0&&r.every(I=>T[I]||T.code===I)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),w.useEffect(()=>{const x=l.current,T=p.current;if(_&&x&&T){const v=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Jm);T.dispatchEvent(j),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Zm);T.dispatchEvent(j),o.isClosePausedRef.current=!1}},I=j=>{!x.contains(j.relatedTarget)&&S()},k=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",v),x.addEventListener("focusout",I),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",k),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",I),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[_,o.isClosePausedRef]);const y=w.useCallback(({tabbingDirection:x})=>{const v=a().map(S=>{const I=S.ref.current,k=[I,...XD(I)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?v.reverse():v).flat()},[a]);return w.useEffect(()=>{const x=p.current;if(x){const T=v=>{var k,j,b;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const C=document.activeElement,R=v.shiftKey;if(v.target===x&&R){(k=u.current)==null||k.focus();return}const D=y({tabbingDirection:R?"backwards":"forwards"}),A=D.findIndex(B=>B===C);Np(D.slice(A+1))?v.preventDefault():R?(j=u.current)==null||j.focus():(b=d.current)==null||b.focus()}};return x.addEventListener("keydown",T),()=>x.removeEventListener("keydown",T)}},[a,y]),f.jsxs(ID,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&f.jsx(eg,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});Np(x)}}),f.jsx(Qy.Slot,{scope:n,children:f.jsx(Te.ol,{tabIndex:-1,...i,ref:h})}),_&&f.jsx(eg,{ref:d,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});Np(x)}})]})});$S.displayName=US;var zS="ToastFocusProxy",eg=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=sf(zS,n);return f.jsx(Bc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});eg.displayName=zS;var of="Toast",FD="toast.swipeStart",UD="toast.swipeMove",$D="toast.swipeCancel",zD="toast.swipeEnd",BS=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ao({prop:r,defaultProp:s,onChange:i});return f.jsx(Ci,{present:n||a,children:f.jsx(WD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:bn(t.onPause),onResume:bn(t.onResume),onSwipeStart:fe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:fe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});BS.displayName=of;var[BD,HD]=VS(of,{onClose(){}}),WD=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:g,..._}=t,y=sf(of,n),[x,T]=w.useState(null),v=He(e,B=>T(B)),S=w.useRef(null),I=w.useRef(null),k=s||y.duration,j=w.useRef(0),b=w.useRef(k),C=w.useRef(0),{onToastAdd:R,onToastRemove:N}=y,O=bn(()=>{var Z;(x==null?void 0:x.contains(document.activeElement))&&((Z=y.viewport)==null||Z.focus()),o()}),D=w.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(O,B))},[O]);w.useEffect(()=>{const B=y.viewport;if(B){const Z=()=>{D(b.current),u==null||u()},X=()=>{const se=new Date().getTime()-j.current;b.current=b.current-se,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(Jm,X),B.addEventListener(Zm,Z),()=>{B.removeEventListener(Jm,X),B.removeEventListener(Zm,Z)}}},[y.viewport,k,l,u,D]),w.useEffect(()=>{i&&!y.isClosePausedRef.current&&D(k)},[i,k,y.isClosePausedRef,D]),w.useEffect(()=>(R(),()=>N()),[R,N]);const A=w.useMemo(()=>x?YS(x):null,[x]);return y.viewport?f.jsxs(f.Fragment,{children:[A&&f.jsx(qD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),f.jsx(BD,{scope:n,onClose:O,children:xo.createPortal(f.jsx(Qy.ItemSlot,{scope:n,children:f.jsx(bD,{asChild:!0,onEscapeKeyDown:fe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||O(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,..._,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:fe(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:fe(t.onPointerMove,B=>{if(!S.current)return;const Z=B.clientX-S.current.x,X=B.clientY-S.current.y,se=!!I.current,V=["left","right"].includes(y.swipeDirection),G=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ne=V?G(0,Z):0,ee=V?0:G(0,X),oe=B.pointerType==="touch"?10:2,ue={x:ne,y:ee},Ae={originalEvent:B,delta:ue};se?(I.current=ue,$u(UD,p,Ae,{discrete:!1})):P_(ue,y.swipeDirection,oe)?(I.current=ue,$u(FD,d,Ae,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Z)>oe||Math.abs(X)>oe)&&(S.current=null)}),onPointerUp:fe(t.onPointerUp,B=>{const Z=I.current,X=B.target;if(X.hasPointerCapture(B.pointerId)&&X.releasePointerCapture(B.pointerId),I.current=null,S.current=null,Z){const se=B.currentTarget,V={originalEvent:B,delta:Z};P_(Z,y.swipeDirection,y.swipeThreshold)?$u(zD,g,V,{discrete:!0}):$u($D,h,V,{discrete:!0}),se.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),qD=t=>{const{__scopeToast:e,children:n,...r}=t,s=sf(of,e),[i,o]=w.useState(!1),[a,l]=w.useState(!1);return QD(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(rf,{asChild:!0,children:f.jsx(Bc,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},KD="ToastTitle",HS=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Te.div,{...r,ref:e})});HS.displayName=KD;var GD="ToastDescription",WS=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Te.div,{...r,ref:e})});WS.displayName=GD;var qS="ToastAction",KS=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(QS,{altText:n,asChild:!0,children:f.jsx(Yy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qS}\`. Expected non-empty \`string\`.`),null)});KS.displayName=qS;var GS="ToastClose",Yy=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=HD(GS,n);return f.jsx(QS,{asChild:!0,children:f.jsx(Te.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,s.onClose)})})});Yy.displayName=GS;var QS=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function YS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),YD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...YS(r))}}),e}function $u(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OS(s,i):s.dispatchEvent(i)}var P_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function QD(t=()=>{}){const e=bn(t);nn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function YD(t){return t.nodeType===t.ELEMENT_NODE}function XD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Np(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var JD=FS,XS=$S,JS=BS,ZS=HS,eC=WS,tC=KS,nC=Yy;function rC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rC(t))&&(r&&(r+=" "),r+=e);return r}const A_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,N_=sC,Xy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return N_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const h=A_(d)||A_(p);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[p,h]=d;return h===void 0||(u[p]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:h,...g}=d;return Object.entries(g).every(_=>{let[y,x]=_;return Array.isArray(x)?x.includes({...i,...a}[y]):{...i,...a}[y]===x})?[...u,p,h]:u},[]);return N_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),k_=t=>{const e=eO(t);return e.charAt(0).toUpperCase()+e.slice(1)},iC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...tO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iC("lucide",s),...a},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(nO,{ref:i,iconNode:e,className:iC(`lucide-${ZD(k_(t))}`,`lucide-${t}`,r),...s}));return n.displayName=k_(t),n};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],oC=Ye("calendar-days",rO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iO=Ye("calendar",sO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jy=Ye("check",oO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],aC=Ye("chevron-down",aO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cO=Ye("chevron-up",lO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],dO=Ye("circle-plus",uO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],fO=Ye("circle-user",hO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mO=Ye("circle",pO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],yO=Ye("facebook",gO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],wO=Ye("heart",vO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lC=Ye("info",_O);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],EO=Ye("instagram",xO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],SO=Ye("loader-circle",TO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tg=Ye("lock",CO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],D_=Ye("log-out",bO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Zy=Ye("mail",IO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],PO=Ye("map-pin",RO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],NO=Ye("menu",AO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],th=Ye("paw-print",kO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],cC=Ye("phone",DO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],nh=Ye("qr-code",OO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],uC=Ye("search",MO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],LO=Ye("smartphone",jO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],FO=Ye("twitter",VO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],$O=Ye("upload",UO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BO=Ye("user",zO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rh=Ye("x",HO),ev="-",WO=t=>{const e=KO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ev);return a[0]===""&&a.length!==1&&a.shift(),dC(a,e)||qO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},dC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?dC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ev);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},O_=/^\[(.+)\]$/,qO=t=>{if(O_.test(t)){const e=O_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},KO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return QO(Object.entries(t.classGroups),n).forEach(([i,o])=>{ng(o,r,i,e)}),r},ng=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:M_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(GO(s)){ng(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ng(o,M_(e,i),n,r)})})},M_=(t,e)=>{let n=t;return e.split(ev).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GO=t=>t.isThemeGetter,QO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,YO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},hC="!",XO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,p;for(let x=0;x<a.length;x++){let T=a[x];if(u===0){if(T===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(T==="/"){p=x;continue}}T==="["?u++:T==="]"&&u--}const h=l.length===0?a:a.substring(d),g=h.startsWith(hC),_=g?h.substring(1):h,y=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},JO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ZO=t=>({cache:YO(t.cacheSize),parseClassName:XO(t),...WO(t)}),eM=/\s+/,tM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(eM);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:g}=n(u);let _=!!g,y=r(_?h.substring(0,g):h);if(!y){if(!_){a=u+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=u+(a.length>0?" "+a:a);continue}_=!1}const x=JO(d).join(":"),T=p?x+hC:x,v=T+y;if(i.includes(v))continue;i.push(v);const S=s(y,_);for(let I=0;I<S.length;++I){const k=S[I];i.push(T+k)}a=u+(a.length>0?" "+a:a)}return a};function nM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fC(e))&&(r&&(r+=" "),r+=n);return r}const fC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fC(t[r]))&&(n&&(n+=" "),n+=e);return n};function rM(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,p)=>p(d),t());return n=ZO(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=tM(l,n);return s(l,d),d}return function(){return i(nM.apply(null,arguments))}}const et=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pC=/^\[(?:([a-z-]+):)?(.+)\]$/i,sM=/^\d+\/\d+$/,iM=new Set(["px","full","screen"]),oM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qr=t=>la(t)||iM.has(t)||sM.test(t),Cs=t=>qa(t,"length",vM),la=t=>!!t&&!Number.isNaN(Number(t)),kp=t=>qa(t,"number",la),Cl=t=>!!t&&Number.isInteger(Number(t)),dM=t=>t.endsWith("%")&&la(t.slice(0,-1)),_e=t=>pC.test(t),bs=t=>oM.test(t),hM=new Set(["length","size","percentage"]),fM=t=>qa(t,hM,mC),pM=t=>qa(t,"position",mC),mM=new Set(["image","url"]),gM=t=>qa(t,mM,_M),yM=t=>qa(t,"",wM),bl=()=>!0,qa=(t,e,n)=>{const r=pC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},vM=t=>aM.test(t)&&!lM.test(t),mC=()=>!1,wM=t=>cM.test(t),_M=t=>uM.test(t),xM=()=>{const t=et("colors"),e=et("spacing"),n=et("blur"),r=et("brightness"),s=et("borderColor"),i=et("borderRadius"),o=et("borderSpacing"),a=et("borderWidth"),l=et("contrast"),u=et("grayscale"),d=et("hueRotate"),p=et("invert"),h=et("gap"),g=et("gradientColorStops"),_=et("gradientColorStopPositions"),y=et("inset"),x=et("margin"),T=et("opacity"),v=et("padding"),S=et("saturate"),I=et("scale"),k=et("sepia"),j=et("skew"),b=et("space"),C=et("translate"),R=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",_e,e],D=()=>[_e,e],A=()=>["",qr,Cs],B=()=>["auto",la,_e],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",_e],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[la,_e];return{cacheSize:500,separator:":",theme:{colors:[bl],spacing:[qr,Cs],blur:["none","",bs,_e],brightness:ee(),borderColor:[t],borderRadius:["none","","full",bs,_e],borderSpacing:D(),borderWidth:A(),contrast:ee(),grayscale:G(),hueRotate:ee(),invert:G(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[dM,Cs],inset:O(),margin:O(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:G(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),_e]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cl,_e]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Cl,_e]}],"grid-cols":[{"grid-cols":[bl]}],"col-start-end":[{col:["auto",{span:["full",Cl,_e]},_e]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[bl]}],"row-start-end":[{row:["auto",{span:[Cl,_e]},_e]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,Cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kp]}],"font-family":[{font:[bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",la,kp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qr,Cs]}],"underline-offset":[{"underline-offset":["auto",qr,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),pM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[qr,_e]}],"outline-w":[{outline:[qr,Cs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[qr,Cs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bs,yM]}],"shadow-color":[{shadow:[bl]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",bs,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Cl,_e]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qr,Cs,kp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EM=rM(xM);function Oe(...t){return EM(sC(t))}const TM=JD,gC=w.forwardRef(({className:t,...e},n)=>f.jsx(XS,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));gC.displayName=XS.displayName;const SM=Xy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yC=w.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(JS,{ref:r,className:Oe(SM({variant:e}),t),...n}));yC.displayName=JS.displayName;const CM=w.forwardRef(({className:t,...e},n)=>f.jsx(tC,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));CM.displayName=tC.displayName;const vC=w.forwardRef(({className:t,...e},n)=>f.jsx(nC,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(rh,{className:"h-4 w-4"})}));vC.displayName=nC.displayName;const wC=w.forwardRef(({className:t,...e},n)=>f.jsx(ZS,{ref:n,className:Oe("text-sm font-semibold",t),...e}));wC.displayName=ZS.displayName;const _C=w.forwardRef(({className:t,...e},n)=>f.jsx(eC,{ref:n,className:Oe("text-sm opacity-90",t),...e}));_C.displayName=eC.displayName;function bM(){const{toasts:t}=qy();return f.jsxs(TM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(yC,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(wC,{children:n}),r&&f.jsx(_C,{children:r})]}),s,f.jsx(vC,{})]},e)}),f.jsx(gC,{})]})}var j_=["light","dark"],IM="(prefers-color-scheme: dark)",RM=w.createContext(void 0),PM={setTheme:t=>{},themes:[]},AM=()=>{var t;return(t=w.useContext(RM))!=null?t:PM};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?j_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(_,y=!1,x=!0)=>{let T=o?o[_]:_,v=y?_+"|| ''":`'${T}'`,S="";return s&&x&&!y&&j_.includes(_)&&(S+=`d.style.colorScheme = '${_}';`),n==="class"?y||T?S+=`c.add(${v})`:S+="null":T&&(S+=`d[s](n,${v})`),S},g=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${IM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var NM=t=>{switch(t){case"success":return OM;case"info":return jM;case"warning":return MM;case"error":return LM;default:return null}},kM=Array(12).fill(0),DM=({visible:t})=>U.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},U.createElement("div",{className:"sonner-spinner"},kM.map((e,n)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VM=()=>{let[t,e]=U.useState(document.hidden);return U.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},rg=1,FM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:rg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if($M(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||rg++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},An=new FM,UM=(t,e)=>{let n=(e==null?void 0:e.id)||rg++;return An.addToast({title:t,...e,id:n}),n},$M=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zM=UM,BM=()=>An.toasts;Object.assign(zM,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:BM});function HM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}HM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zu(t){return t.label!==void 0}var WM=3,qM="32px",KM=4e3,GM=356,QM=14,YM=20,XM=200;function JM(...t){return t.filter(Boolean).join(" ")}var ZM=t=>{var e,n,r,s,i,o,a,l,u,d;let{invert:p,toast:h,unstyled:g,interacting:_,setHeights:y,visibleToasts:x,heights:T,index:v,toasts:S,expanded:I,removeToast:k,defaultRichColors:j,closeButton:b,style:C,cancelButtonStyle:R,actionButtonStyle:N,className:O="",descriptionClassName:D="",duration:A,position:B,gap:Z,loadingIcon:X,expandByDefault:se,classNames:V,icons:G,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:ee,cn:oe}=t,[ue,Ae]=U.useState(!1),[Ke,Se]=U.useState(!1),[de,De]=U.useState(!1),[We,xe]=U.useState(!1),[Ce,be]=U.useState(0),[pt,_t]=U.useState(0),mn=U.useRef(null),kt=U.useRef(null),Bn=v===0,Mi=v+1<=x,ct=h.type,Zn=h.dismissible!==!1,ji=h.className||"",M=h.descriptionClassName||"",F=U.useMemo(()=>T.findIndex(me=>me.toastId===h.id)||0,[T,h.id]),z=U.useMemo(()=>{var me;return(me=h.closeButton)!=null?me:b},[h.closeButton,b]),te=U.useMemo(()=>h.duration||A||KM,[h.duration,A]),Q=U.useRef(0),K=U.useRef(0),ie=U.useRef(0),we=U.useRef(null),[Xe,xt]=B.split("-"),Er=U.useMemo(()=>T.reduce((me,qe,ze)=>ze>=F?me:me+qe.height,0),[T,F]),$r=VM(),ws=h.invert||p,zr=ct==="loading";K.current=U.useMemo(()=>F*Z+Er,[F,Er]),U.useEffect(()=>{Ae(!0)},[]),U.useLayoutEffect(()=>{if(!ue)return;let me=kt.current,qe=me.style.height;me.style.height="auto";let ze=me.getBoundingClientRect().height;me.style.height=qe,_t(ze),y(Ht=>Ht.find(gn=>gn.toastId===h.id)?Ht.map(gn=>gn.toastId===h.id?{...gn,height:ze}:gn):[{toastId:h.id,height:ze,position:h.position},...Ht])},[ue,h.title,h.description,y,h.id]);let In=U.useCallback(()=>{Se(!0),be(K.current),y(me=>me.filter(qe=>qe.toastId!==h.id)),setTimeout(()=>{k(h)},XM)},[h,k,y,K]);U.useEffect(()=>{if(h.promise&&ct==="loading"||h.duration===1/0||h.type==="loading")return;let me,qe=te;return I||_||ee&&$r?(()=>{if(ie.current<Q.current){let ze=new Date().getTime()-Q.current;qe=qe-ze}ie.current=new Date().getTime()})():qe!==1/0&&(Q.current=new Date().getTime(),me=setTimeout(()=>{var ze;(ze=h.onAutoClose)==null||ze.call(h,h),In()},qe)),()=>clearTimeout(me)},[I,_,se,h,te,In,h.promise,ct,ee,$r]),U.useEffect(()=>{let me=kt.current;if(me){let qe=me.getBoundingClientRect().height;return _t(qe),y(ze=>[{toastId:h.id,height:qe,position:h.position},...ze]),()=>y(ze=>ze.filter(Ht=>Ht.toastId!==h.id))}},[y,h.id]),U.useEffect(()=>{h.delete&&In()},[In,h.delete]);function il(){return G!=null&&G.loading?U.createElement("div",{className:"sonner-loader","data-visible":ct==="loading"},G.loading):X?U.createElement("div",{className:"sonner-loader","data-visible":ct==="loading"},X):U.createElement(DM,{visible:ct==="loading"})}return U.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:kt,className:oe(O,ji,V==null?void 0:V.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[ct],(n=h==null?void 0:h.classNames)==null?void 0:n[ct]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":ue,"data-promise":!!h.promise,"data-removed":Ke,"data-visible":Mi,"data-y-position":Xe,"data-x-position":xt,"data-index":v,"data-front":Bn,"data-swiping":de,"data-dismissible":Zn,"data-type":ct,"data-invert":ws,"data-swipe-out":We,"data-expanded":!!(I||se&&ue),style:{"--index":v,"--toasts-before":v,"--z-index":S.length-v,"--offset":`${Ke?Ce:K.current}px`,"--initial-height":se?"auto":`${pt}px`,...C,...h.style},onPointerDown:me=>{zr||!Zn||(mn.current=new Date,be(K.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(De(!0),we.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,qe,ze,Ht;if(We||!Zn)return;we.current=null;let gn=Number(((me=kt.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),_s=new Date().getTime()-((qe=mn.current)==null?void 0:qe.getTime()),Br=Math.abs(gn)/_s;if(Math.abs(gn)>=YM||Br>.11){be(K.current),(ze=h.onDismiss)==null||ze.call(h,h),In(),xe(!0);return}(Ht=kt.current)==null||Ht.style.setProperty("--swipe-amount","0px"),De(!1)},onPointerMove:me=>{var qe;if(!we.current||!Zn)return;let ze=me.clientY-we.current.y,Ht=me.clientX-we.current.x,gn=(Xe==="top"?Math.min:Math.max)(0,ze),_s=me.pointerType==="touch"?10:2;Math.abs(gn)>_s?(qe=kt.current)==null||qe.style.setProperty("--swipe-amount",`${ze}px`):Math.abs(Ht)>_s&&(we.current=null)}},z&&!h.jsx?U.createElement("button",{"aria-label":ne,"data-disabled":zr,"data-close-button":!0,onClick:zr||!Zn?()=>{}:()=>{var me;In(),(me=h.onDismiss)==null||me.call(h,h)},className:oe(V==null?void 0:V.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||U.isValidElement(h.title)?h.jsx||h.title:U.createElement(U.Fragment,null,ct||h.icon||h.promise?U.createElement("div",{"data-icon":"",className:oe(V==null?void 0:V.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||il():null,h.type!=="loading"?h.icon||(G==null?void 0:G[ct])||NM(ct):null):null,U.createElement("div",{"data-content":"",className:oe(V==null?void 0:V.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},U.createElement("div",{"data-title":"",className:oe(V==null?void 0:V.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?U.createElement("div",{"data-description":"",className:oe(D,M,V==null?void 0:V.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),U.isValidElement(h.cancel)?h.cancel:h.cancel&&zu(h.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:me=>{var qe,ze;zu(h.cancel)&&Zn&&((ze=(qe=h.cancel).onClick)==null||ze.call(qe,me),In())},className:oe(V==null?void 0:V.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,U.isValidElement(h.action)?h.action:h.action&&zu(h.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||N,onClick:me=>{var qe,ze;zu(h.action)&&(me.defaultPrevented||((ze=(qe=h.action).onClick)==null||ze.call(qe,me),In()))},className:oe(V==null?void 0:V.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function L_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var ej=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:p,visibleToasts:h=WM,toastOptions:g,dir:_=L_(),gap:y=QM,loadingIcon:x,icons:T,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:S,cn:I=JM}=t,[k,j]=U.useState([]),b=U.useMemo(()=>Array.from(new Set([n].concat(k.filter(ee=>ee.position).map(ee=>ee.position)))),[k,n]),[C,R]=U.useState([]),[N,O]=U.useState(!1),[D,A]=U.useState(!1),[B,Z]=U.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=U.useRef(null),se=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=U.useRef(null),G=U.useRef(!1),ne=U.useCallback(ee=>{var oe;(oe=k.find(ue=>ue.id===ee.id))!=null&&oe.delete||An.dismiss(ee.id),j(ue=>ue.filter(({id:Ae})=>Ae!==ee.id))},[k]);return U.useEffect(()=>An.subscribe(ee=>{if(ee.dismiss){j(oe=>oe.map(ue=>ue.id===ee.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{AS.flushSync(()=>{j(oe=>{let ue=oe.findIndex(Ae=>Ae.id===ee.id);return ue!==-1?[...oe.slice(0,ue),{...oe[ue],...ee},...oe.slice(ue+1)]:[ee,...oe]})})})}),[]),U.useEffect(()=>{if(l!=="system"){Z(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ee})=>{Z(ee?"dark":"light")})},[l]),U.useEffect(()=>{k.length<=1&&O(!1)},[k]),U.useEffect(()=>{let ee=oe=>{var ue,Ae;r.every(Ke=>oe[Ke]||oe.code===Ke)&&(O(!0),(ue=X.current)==null||ue.focus()),oe.code==="Escape"&&(document.activeElement===X.current||(Ae=X.current)!=null&&Ae.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[r]),U.useEffect(()=>{if(X.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,G.current=!1)}},[X.current]),k.length?U.createElement("section",{"aria-label":`${v} ${se}`,tabIndex:-1},b.map((ee,oe)=>{var ue;let[Ae,Ke]=ee.split("-");return U.createElement("ol",{key:ee,dir:_==="auto"?L_():_,tabIndex:-1,ref:X,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Ae,"data-x-position":Ke,style:{"--front-toast-height":`${((ue=C[0])==null?void 0:ue.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||qM,"--width":`${GM}px`,"--gap":`${y}px`,...p},onBlur:Se=>{G.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(G.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||G.current||(G.current=!0,V.current=Se.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},k.filter(Se=>!Se.position&&oe===0||Se.position===ee).map((Se,de)=>{var De,We;return U.createElement(ZM,{key:Se.id,icons:T,index:de,toast:Se,defaultRichColors:u,duration:(De=g==null?void 0:g.duration)!=null?De:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:h,closeButton:(We=g==null?void 0:g.closeButton)!=null?We:i,interacting:D,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ne,toasts:k.filter(xe=>xe.position==Se.position),heights:C.filter(xe=>xe.position==Se.position),setHeights:R,expandByDefault:s,gap:y,loadingIcon:x,expanded:N,pauseWhenPageIsHidden:S,cn:I})}))})):null};const tj=({...t})=>{const{theme:e="system"}=AM();return f.jsx(ej,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var nj=I1.useId||(()=>{}),rj=0;function eo(t){const[e,n]=w.useState(nj());return nn(()=>{n(r=>r??String(rj++))},[t]),e?`radix-${e}`:""}const sj=["top","right","bottom","left"],di=Math.min,Dn=Math.max,sh=Math.round,Bu=Math.floor,hi=t=>({x:t,y:t}),ij={left:"right",right:"left",bottom:"top",top:"bottom"},oj={start:"end",end:"start"};function sg(t,e,n){return Dn(t,di(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function Ka(t){return t.split("-")[1]}function tv(t){return t==="x"?"y":"x"}function nv(t){return t==="y"?"height":"width"}function fi(t){return["top","bottom"].includes(cs(t))?"y":"x"}function rv(t){return tv(fi(t))}function aj(t,e,n){n===void 0&&(n=!1);const r=Ka(t),s=rv(t),i=nv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ih(o)),[o,ih(o)]}function lj(t){const e=ih(t);return[ig(t),e,ig(e)]}function ig(t){return t.replace(/start|end/g,e=>oj[e])}function cj(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function uj(t,e,n,r){const s=Ka(t);let i=cj(cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ig)))),i}function ih(t){return t.replace(/left|right|bottom|top/g,e=>ij[e])}function dj(t){return{top:0,right:0,bottom:0,left:0,...t}}function xC(t){return typeof t!="number"?dj(t):{top:t,right:t,bottom:t,left:t}}function oh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function V_(t,e,n){let{reference:r,floating:s}=t;const i=fi(e),o=rv(e),a=nv(o),l=cs(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-s.width,y:p};break;default:g={x:r.x,y:r.y}}switch(Ka(e)){case"start":g[o]-=h*(n&&u?-1:1);break;case"end":g[o]+=h*(n&&u?-1:1);break}return g}const hj=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=V_(u,r,l),h=r,g={},_=0;for(let y=0;y<a.length;y++){const{name:x,fn:T}=a[y],{x:v,y:S,data:I,reset:k}=await T({x:d,y:p,initialPlacement:r,placement:h,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,p=S??p,g={...g,[x]:{...g[x],...I}},k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:p}=V_(u,h,l)),y=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:g}};async function _c(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:g=0}=ls(e,t),_=xC(g),x=a[h?p==="floating"?"reference":"floating":p],T=oh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},k=oh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:l}):v);return{top:(T.top-k.top+_.top)/I.y,bottom:(k.bottom-T.bottom+_.bottom)/I.y,left:(T.left-k.left+_.left)/I.x,right:(k.right-T.right+_.right)/I.x}}const fj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=ls(t,e)||{};if(u==null)return{};const p=xC(d),h={x:n,y:r},g=rv(s),_=nv(g),y=await o.getDimensions(u),x=g==="y",T=x?"top":"left",v=x?"bottom":"right",S=x?"clientHeight":"clientWidth",I=i.reference[_]+i.reference[g]-h[g]-i.floating[_],k=h[g]-i.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=j?j[S]:0;(!b||!await(o.isElement==null?void 0:o.isElement(j)))&&(b=a.floating[S]||i.floating[_]);const C=I/2-k/2,R=b/2-y[_]/2-1,N=di(p[T],R),O=di(p[v],R),D=N,A=b-y[_]-O,B=b/2-y[_]/2+C,Z=sg(D,B,A),X=!l.arrow&&Ka(s)!=null&&B!==Z&&i.reference[_]/2-(B<D?N:O)-y[_]/2<0,se=X?B<D?B-D:B-A:0;return{[g]:h[g]+se,data:{[g]:Z,centerOffset:B-Z-se,...X&&{alignmentOffset:se}},reset:X}}}),pj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:y=!0,...x}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const T=cs(s),v=fi(a),S=cs(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=h||(S||!y?[ih(a)]:lj(a)),j=_!=="none";!h&&j&&k.push(...uj(a,y,_,I));const b=[a,...k],C=await _c(e,x),R=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(C[T]),p){const B=aj(s,o,I);R.push(C[B[0]],C[B[1]])}if(N=[...N,{placement:s,overflows:R}],!R.every(B=>B<=0)){var O,D;const B=(((O=i.flip)==null?void 0:O.index)||0)+1,Z=b[B];if(Z)return{data:{index:B,overflows:N},reset:{placement:Z}};let X=(D=N.filter(se=>se.overflows[0]<=0).sort((se,V)=>se.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!X)switch(g){case"bestFit":{var A;const se=(A=N.filter(V=>{if(j){const G=fi(V.placement);return G===v||G==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(G=>G>0).reduce((G,ne)=>G+ne,0)]).sort((V,G)=>V[1]-G[1])[0])==null?void 0:A[0];se&&(X=se);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function F_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function U_(t){return sj.some(e=>t[e]>=0)}const mj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await _c(e,{...s,elementContext:"reference"}),o=F_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:U_(o)}}}case"escaped":{const i=await _c(e,{...s,altBoundary:!0}),o=F_(i,n.floating);return{data:{escapedOffsets:o,escaped:U_(o)}}}default:return{}}}}};async function gj(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cs(n),a=Ka(n),l=fi(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,p=ls(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const yj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await gj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},vj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:T,y:v}=x;return{x:T,y:v}}},...l}=ls(t,e),u={x:n,y:r},d=await _c(e,l),p=fi(cs(s)),h=tv(p);let g=u[h],_=u[p];if(i){const x=h==="y"?"top":"left",T=h==="y"?"bottom":"right",v=g+d[x],S=g-d[T];g=sg(v,g,S)}if(o){const x=p==="y"?"top":"left",T=p==="y"?"bottom":"right",v=_+d[x],S=_-d[T];_=sg(v,_,S)}const y=a.fn({...e,[h]:g,[p]:_});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:i,[p]:o}}}}}},wj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ls(t,e),d={x:n,y:r},p=fi(s),h=tv(p);let g=d[h],_=d[p];const y=ls(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=h==="y"?"height":"width",I=i.reference[h]-i.floating[S]+x.mainAxis,k=i.reference[h]+i.reference[S]-x.mainAxis;g<I?g=I:g>k&&(g=k)}if(u){var T,v;const S=h==="y"?"width":"height",I=["top","left"].includes(cs(s)),k=i.reference[p]-i.floating[S]+(I&&((T=o.offset)==null?void 0:T[p])||0)+(I?0:x.crossAxis),j=i.reference[p]+i.reference[S]+(I?0:((v=o.offset)==null?void 0:v[p])||0)-(I?x.crossAxis:0);_<k?_=k:_>j&&(_=j)}return{[h]:g,[p]:_}}}},_j=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ls(t,e),d=await _c(e,u),p=cs(s),h=Ka(s),g=fi(s)==="y",{width:_,height:y}=i.floating;let x,T;p==="top"||p==="bottom"?(x=p,T=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=p,x=h==="end"?"top":"bottom");const v=y-d.top-d.bottom,S=_-d.left-d.right,I=di(y-d[x],v),k=di(_-d[T],S),j=!e.middlewareData.shift;let b=I,C=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=v),j&&!h){const N=Dn(d.left,0),O=Dn(d.right,0),D=Dn(d.top,0),A=Dn(d.bottom,0);g?C=_-2*(N!==0||O!==0?N+O:Dn(d.left,d.right)):b=y-2*(D!==0||A!==0?D+A:Dn(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:b});const R=await o.getDimensions(a.floating);return _!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function af(){return typeof window<"u"}function Ga(t){return EC(t)?(t.nodeName||"").toLowerCase():"#document"}function Ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ur(t){var e;return(e=(EC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function EC(t){return af()?t instanceof Node||t instanceof Ln(t).Node:!1}function gr(t){return af()?t instanceof Element||t instanceof Ln(t).Element:!1}function Vr(t){return af()?t instanceof HTMLElement||t instanceof Ln(t).HTMLElement:!1}function $_(t){return!af()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ln(t).ShadowRoot}function Hc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=yr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function xj(t){return["table","td","th"].includes(Ga(t))}function lf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function sv(t){const e=iv(),n=gr(t)?yr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Ej(t){let e=pi(t);for(;Vr(e)&&!Na(e);){if(sv(e))return e;if(lf(e))return null;e=pi(e)}return null}function iv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Na(t){return["html","body","#document"].includes(Ga(t))}function yr(t){return Ln(t).getComputedStyle(t)}function cf(t){return gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(Ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$_(t)&&t.host||Ur(t);return $_(e)?e.host:e}function TC(t){const e=pi(t);return Na(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vr(e)&&Hc(e)?e:TC(e)}function xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=TC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ln(s);if(i){const a=og(o);return e.concat(o,o.visualViewport||[],Hc(s)?s:[],a&&n?xc(a):[])}return e.concat(s,xc(s,[],n))}function og(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SC(t){const e=yr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Vr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=sh(n)!==i||sh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ov(t){return gr(t)?t:t.contextElement}function ca(t){const e=ov(t);if(!Vr(e))return hi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=SC(e);let o=(i?sh(n.width):n.width)/r,a=(i?sh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Tj=hi(0);function CC(t){const e=Ln(t);return!iv()||!e.visualViewport?Tj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Sj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ln(t)?!1:e}function lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ov(t);let o=hi(1);e&&(r?gr(r)&&(o=ca(r)):o=ca(t));const a=Sj(i,n,r)?CC(i):hi(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const h=Ln(i),g=r&&gr(r)?Ln(r):r;let _=h,y=og(_);for(;y&&r&&g!==_;){const x=ca(y),T=y.getBoundingClientRect(),v=yr(y),S=T.left+(y.clientLeft+parseFloat(v.paddingLeft))*x.x,I=T.top+(y.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,p*=x.y,l+=S,u+=I,_=Ln(y),y=og(_)}}return oh({width:d,height:p,x:l,y:u})}function Cj(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ur(r),a=e?lf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=hi(1);const d=hi(0),p=Vr(r);if((p||!p&&!i)&&((Ga(r)!=="body"||Hc(o))&&(l=cf(r)),Vr(r))){const h=lo(r);u=ca(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function bj(t){return Array.from(t.getClientRects())}function ag(t,e){const n=cf(t).scrollLeft;return e?e.left+n:lo(Ur(t)).left+n}function Ij(t){const e=Ur(t),n=cf(t),r=t.ownerDocument.body,s=Dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ag(t);const a=-n.scrollTop;return yr(r).direction==="rtl"&&(o+=Dn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Rj(t,e){const n=Ln(t),r=Ur(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=iv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function Pj(t,e){const n=lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Vr(t)?ca(t):hi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function z_(t,e,n){let r;if(e==="viewport")r=Rj(t,n);else if(e==="document")r=Ij(Ur(t));else if(gr(e))r=Pj(e,n);else{const s=CC(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return oh(r)}function bC(t,e){const n=pi(t);return n===e||!gr(n)||Na(n)?!1:yr(n).position==="fixed"||bC(n,e)}function Aj(t,e){const n=e.get(t);if(n)return n;let r=xc(t,[],!1).filter(a=>gr(a)&&Ga(a)!=="body"),s=null;const i=yr(t).position==="fixed";let o=i?pi(t):t;for(;gr(o)&&!Na(o);){const a=yr(o),l=sv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Hc(o)&&!l&&bC(t,o))?r=r.filter(d=>d!==o):s=a,o=pi(o)}return e.set(t,r),r}function Nj(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?lf(e)?[]:Aj(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const p=z_(e,d,s);return u.top=Dn(p.top,u.top),u.right=di(p.right,u.right),u.bottom=di(p.bottom,u.bottom),u.left=Dn(p.left,u.left),u},z_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kj(t){const{width:e,height:n}=SC(t);return{width:e,height:n}}function Dj(t,e,n){const r=Vr(e),s=Ur(e),i=n==="fixed",o=lo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=hi(0);if(r||!r&&!i)if((Ga(e)!=="body"||Hc(s))&&(a=cf(e)),r){const g=lo(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=ag(s));let u=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-ag(s,g)}const p=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:p,y:h,width:o.width,height:o.height}}function Dp(t){return yr(t).position==="static"}function B_(t,e){if(!Vr(t)||yr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ur(t)===n&&(n=n.ownerDocument.body),n}function IC(t,e){const n=Ln(t);if(lf(t))return n;if(!Vr(t)){let s=pi(t);for(;s&&!Na(s);){if(gr(s)&&!Dp(s))return s;s=pi(s)}return n}let r=B_(t,e);for(;r&&xj(r)&&Dp(r);)r=B_(r,e);return r&&Na(r)&&Dp(r)&&!sv(r)?n:r||Ej(t)||n}const Oj=async function(t){const e=this.getOffsetParent||IC,n=this.getDimensions,r=await n(t.floating);return{reference:Dj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Mj(t){return yr(t).direction==="rtl"}const jj={convertOffsetParentRelativeRectToViewportRelativeRect:Cj,getDocumentElement:Ur,getClippingRect:Nj,getOffsetParent:IC,getElementRects:Oj,getClientRects:bj,getDimensions:kj,getScale:ca,isElement:gr,isRTL:Mj};function Lj(t,e){let n=null,r;const s=Ur(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const g=Bu(d),_=Bu(s.clientWidth-(u+p)),y=Bu(s.clientHeight-(d+h)),x=Bu(u),v={rootMargin:-g+"px "+-_+"px "+-y+"px "+-x+"px",threshold:Dn(0,di(1,l))||1};let S=!0;function I(k){const j=k[0].intersectionRatio;if(j!==l){if(!S)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(I,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,v)}n.observe(t)}return o(!0),i}function Vj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ov(t),d=s||i?[...u?xc(u):[],...xc(e)]:[];d.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),i&&T.addEventListener("resize",n)});const p=u&&a?Lj(u,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(T=>{let[v]=T;v&&v.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let _,y=l?lo(t):null;l&&x();function x(){const T=lo(t);y&&(T.x!==y.x||T.y!==y.y||T.width!==y.width||T.height!==y.height)&&n(),y=T,_=requestAnimationFrame(x)}return n(),()=>{var T;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),p==null||p(),(T=g)==null||T.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const Fj=yj,Uj=vj,$j=pj,zj=_j,Bj=mj,H_=fj,Hj=wj,Wj=(t,e,n)=>{const r=new Map,s={platform:jj,...n},i={...s.platform,_c:r};return hj(t,e,{...s,platform:i})};var gd=typeof document<"u"?w.useLayoutEffect:w.useEffect;function ah(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ah(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ah(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function RC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function W_(t,e){const n=RC(t);return Math.round(e*n)/n}function Op(t){const e=w.useRef(t);return gd(()=>{e.current=t}),e}function qj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,p]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=w.useState(r);ah(h,r)||g(r);const[_,y]=w.useState(null),[x,T]=w.useState(null),v=w.useCallback(V=>{V!==j.current&&(j.current=V,y(V))},[]),S=w.useCallback(V=>{V!==b.current&&(b.current=V,T(V))},[]),I=i||_,k=o||x,j=w.useRef(null),b=w.useRef(null),C=w.useRef(d),R=l!=null,N=Op(l),O=Op(s),D=Op(u),A=w.useCallback(()=>{if(!j.current||!b.current)return;const V={placement:e,strategy:n,middleware:h};O.current&&(V.platform=O.current),Wj(j.current,b.current,V).then(G=>{const ne={...G,isPositioned:D.current!==!1};B.current&&!ah(C.current,ne)&&(C.current=ne,xo.flushSync(()=>{p(ne)}))})},[h,e,n,O,D]);gd(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[u]);const B=w.useRef(!1);gd(()=>(B.current=!0,()=>{B.current=!1}),[]),gd(()=>{if(I&&(j.current=I),k&&(b.current=k),I&&k){if(N.current)return N.current(I,k,A);A()}},[I,k,A,N,R]);const Z=w.useMemo(()=>({reference:j,floating:b,setReference:v,setFloating:S}),[v,S]),X=w.useMemo(()=>({reference:I,floating:k}),[I,k]),se=w.useMemo(()=>{const V={position:n,left:0,top:0};if(!X.floating)return V;const G=W_(X.floating,d.x),ne=W_(X.floating,d.y);return a?{...V,transform:"translate("+G+"px, "+ne+"px)",...RC(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ne}},[n,a,X.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:A,refs:Z,elements:X,floatingStyles:se}),[d,A,Z,X,se])}const Kj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?H_({element:r.current,padding:s}).fn(n):{}:r?H_({element:r,padding:s}).fn(n):{}}}},Gj=(t,e)=>({...Fj(t),options:[t,e]}),Qj=(t,e)=>({...Uj(t),options:[t,e]}),Yj=(t,e)=>({...Hj(t),options:[t,e]}),Xj=(t,e)=>({...$j(t),options:[t,e]}),Jj=(t,e)=>({...zj(t),options:[t,e]}),Zj=(t,e)=>({...Bj(t),options:[t,e]}),eL=(t,e)=>({...Kj(t),options:[t,e]});var tL="Arrow",PC=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(Te.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});PC.displayName=tL;var nL=PC;function rL(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:g,..._}=p,y=(h==null?void 0:h[t][l])||a,x=w.useMemo(()=>_,Object.values(_));return f.jsx(y.Provider,{value:x,children:g})}function d(p,h){const g=(h==null?void 0:h[t][l])||a,_=w.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sL(s,...e)]}function sL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function av(t){const[e,n]=w.useState(void 0);return nn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var lv="Popper",[AC,uf]=rL(lv),[iL,NC]=AC(lv),kC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return f.jsx(iL,{scope:e,anchor:r,onAnchorChange:s,children:n})};kC.displayName=lv;var DC="PopperAnchor",OC=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=NC(DC,n),o=w.useRef(null),a=He(e,o);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(Te.div,{...s,ref:a})});OC.displayName=DC;var cv="PopperContent",[oL,aL]=AC(cv),MC=w.forwardRef((t,e)=>{var de,De,We,xe,Ce,be;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:_,...y}=t,x=NC(cv,n),[T,v]=w.useState(null),S=He(e,pt=>v(pt)),[I,k]=w.useState(null),j=av(I),b=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,R=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],D=O.length>0,A={padding:N,boundary:O.filter(cL),altBoundary:D},{refs:B,floatingStyles:Z,placement:X,isPositioned:se,middlewareData:V}=qj({strategy:"fixed",placement:R,whileElementsMounted:(...pt)=>Vj(...pt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[Gj({mainAxis:s+C,alignmentAxis:o}),l&&Qj({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Yj():void 0,...A}),l&&Xj({...A}),Jj({...A,apply:({elements:pt,rects:_t,availableWidth:mn,availableHeight:kt})=>{const{width:Bn,height:Mi}=_t.reference,ct=pt.floating.style;ct.setProperty("--radix-popper-available-width",`${mn}px`),ct.setProperty("--radix-popper-available-height",`${kt}px`),ct.setProperty("--radix-popper-anchor-width",`${Bn}px`),ct.setProperty("--radix-popper-anchor-height",`${Mi}px`)}}),I&&eL({element:I,padding:a}),uL({arrowWidth:b,arrowHeight:C}),h&&Zj({strategy:"referenceHidden",...A})]}),[G,ne]=VC(X),ee=bn(_);nn(()=>{se&&(ee==null||ee())},[se,ee]);const oe=(de=V.arrow)==null?void 0:de.x,ue=(De=V.arrow)==null?void 0:De.y,Ae=((We=V.arrow)==null?void 0:We.centerOffset)!==0,[Ke,Se]=w.useState();return nn(()=>{T&&Se(window.getComputedStyle(T).zIndex)},[T]),f.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:se?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(xe=V.transformOrigin)==null?void 0:xe.x,(Ce=V.transformOrigin)==null?void 0:Ce.y].join(" "),...((be=V.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(oL,{scope:n,placedSide:G,onArrowChange:k,arrowX:oe,arrowY:ue,shouldHideArrow:Ae,children:f.jsx(Te.div,{"data-side":G,"data-align":ne,...y,ref:S,style:{...y.style,animation:se?void 0:"none"}})})})});MC.displayName=cv;var jC="PopperArrow",lL={top:"bottom",right:"left",bottom:"top",left:"right"},LC=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=aL(jC,r),o=lL[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(nL,{...s,ref:n,style:{...s.style,display:"block"}})})});LC.displayName=jC;function cL(t){return t!==null}var uL=t=>({name:"transformOrigin",options:t,fn(e){var x,T,v;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=VC(n),p={start:"0%",center:"50%",end:"100%"}[d],h=(((T=s.arrow)==null?void 0:T.x)??0)+a/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let _="",y="";return u==="bottom"?(_=o?p:`${h}px`,y=`${-l}px`):u==="top"?(_=o?p:`${h}px`,y=`${r.floating.height+l}px`):u==="right"?(_=`${-l}px`,y=o?p:`${g}px`):u==="left"&&(_=`${r.floating.width+l}px`,y=o?p:`${g}px`),{data:{x:_,y}}}});function VC(t){const[e,n="center"]=t.split("-");return[e,n]}var dL=kC,FC=OC,UC=MC,$C=LC,[df,M8]=Eo("Tooltip",[uf]),uv=uf(),zC="TooltipProvider",hL=700,q_="tooltip.open",[fL,BC]=df(zC),HC=t=>{const{__scopeTooltip:e,delayDuration:n=hL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=w.useState(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),f.jsx(fL,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};HC.displayName=zC;var WC="Tooltip",[j8,hf]=df(WC),lg="TooltipTrigger",pL=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=hf(lg,n),i=BC(lg,n),o=uv(n),a=w.useRef(null),l=He(e,a,s.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),p=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),f.jsx(FC,{asChild:!0,...o,children:f.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:fe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:fe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});pL.displayName=lg;var mL="TooltipPortal",[L8,gL]=df(mL,{forceMount:void 0}),ka="TooltipContent",qC=w.forwardRef((t,e)=>{const n=gL(ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=hf(ka,t.__scopeTooltip);return f.jsx(Ci,{present:r||o.open,children:o.disableHoverableContent?f.jsx(KC,{side:s,...i,ref:e}):f.jsx(yL,{side:s,...i,ref:e})})}),yL=w.forwardRef((t,e)=>{const n=hf(ka,t.__scopeTooltip),r=BC(ka,t.__scopeTooltip),s=w.useRef(null),i=He(e,s),[o,a]=w.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,h=w.useCallback(()=>{a(null),p(!1)},[p]),g=w.useCallback((_,y)=>{const x=_.currentTarget,T={x:_.clientX,y:_.clientY},v=xL(T,x.getBoundingClientRect()),S=EL(T,v),I=TL(y.getBoundingClientRect()),k=CL([...S,...I]);a(k),p(!0)},[p]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&d){const _=x=>g(x,d),y=x=>g(x,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",y)}}},[l,d,g,h]),w.useEffect(()=>{if(o){const _=y=>{const x=y.target,T={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),S=!SL(T,o);v?h():S&&(h(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,u,h]),f.jsx(KC,{...t,ref:i})}),[vL,wL]=df(WC,{isInside:!1}),KC=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=hf(ka,n),u=uv(n),{onClose:d}=l;return w.useEffect(()=>(document.addEventListener(q_,d),()=>document.removeEventListener(q_,d)),[d]),w.useEffect(()=>{if(l.trigger){const p=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),f.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:f.jsxs(UC,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(DS,{children:r}),f.jsx(vL,{scope:n,isInside:!0,children:f.jsx(OD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});qC.displayName=ka;var GC="TooltipArrow",_L=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=uv(n);return wL(GC,n).isInside?null:f.jsx($C,{...s,...r,ref:e})});_L.displayName=GC;function xL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function TL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function SL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function CL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),bL(e)}function bL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var IL=HC,QC=qC;const RL=IL,PL=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(QC,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));PL.displayName=QC.displayName;var ff=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pf=typeof window>"u"||"Deno"in globalThis;function ir(){}function AL(t,e){return typeof t=="function"?t(e):t}function NL(t){return typeof t=="number"&&t>=0&&t!==1/0}function kL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function K_(t,e){return typeof t=="function"?t(e):t}function DL(t,e){return typeof t=="function"?t(e):t}function G_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==dv(o,e.options))return!1}else if(!Tc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Q_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ec(e.options.mutationKey)!==Ec(i))return!1}else if(!Tc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function dv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ec)(t)}function Ec(t){return JSON.stringify(t,(e,n)=>cg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Tc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Tc(t[n],e[n])):!1}function YC(t,e){if(t===e)return t;const n=Y_(t)&&Y_(e);if(n||cg(t)&&cg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=YC(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Y_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function cg(t){if(!X_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!X_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function X_(t){return Object.prototype.toString.call(t)==="[object Object]"}function OL(t){return new Promise(e=>{setTimeout(e,t)})}function ML(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?YC(t,e):e}function jL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function LL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var hv=Symbol();function XC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===hv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gi,Fs,ma,l1,VL=(l1=class extends ff{constructor(){super();Ue(this,Gi);Ue(this,Fs);Ue(this,ma);Ee(this,ma,e=>{if(!pf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Fs)||this.setEventListener(W(this,ma))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Fs))==null||e.call(this),Ee(this,Fs,void 0))}setEventListener(e){var n;Ee(this,ma,e),(n=W(this,Fs))==null||n.call(this),Ee(this,Fs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,Gi)!==e&&(Ee(this,Gi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,Gi)=="boolean"?W(this,Gi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gi=new WeakMap,Fs=new WeakMap,ma=new WeakMap,l1),JC=new VL,ga,Us,ya,c1,FL=(c1=class extends ff{constructor(){super();Ue(this,ga,!0);Ue(this,Us);Ue(this,ya);Ee(this,ya,e=>{if(!pf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Us)||this.setEventListener(W(this,ya))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Us))==null||e.call(this),Ee(this,Us,void 0))}setEventListener(e){var n;Ee(this,ya,e),(n=W(this,Us))==null||n.call(this),Ee(this,Us,e(this.setOnline.bind(this)))}setOnline(e){W(this,ga)!==e&&(Ee(this,ga,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,ga)}},ga=new WeakMap,Us=new WeakMap,ya=new WeakMap,c1),lh=new FL;function UL(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function $L(t){return Math.min(1e3*2**t,3e4)}function ZC(t){return(t??"online")==="online"?lh.isOnline():!0}var eb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mp(t){return t instanceof eb}function tb(t){let e=!1,n=0,r=!1,s;const i=UL(),o=y=>{var x;r||(h(new eb(y)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>JC.isFocused()&&(t.networkMode==="always"||lh.isOnline())&&t.canRun(),d=()=>ZC(t.networkMode)&&t.canRun(),p=y=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,y),s==null||s(),i.resolve(y))},h=y=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var x;s=T=>{(r||u())&&y(T)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),_=()=>{if(r)return;let y;const x=n===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(T){y=Promise.reject(T)}Promise.resolve(y).then(p).catch(T=>{var j;if(r)return;const v=t.retry??(pf?0:3),S=t.retryDelay??$L,I=typeof S=="function"?S(n,T):S,k=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,T);if(e||!k){h(T);return}n++,(j=t.onFail)==null||j.call(t,n,T),OL(I).then(()=>u()?void 0:g()).then(()=>{e?h(T):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():g().then(_),i)}}function zL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var un=zL(),Qi,u1,nb=(u1=class{constructor(){Ue(this,Qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NL(this.gcTime)&&Ee(this,Qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(pf?1/0:5*60*1e3))}clearGcTimeout(){W(this,Qi)&&(clearTimeout(W(this,Qi)),Ee(this,Qi,void 0))}},Qi=new WeakMap,u1),va,wa,Hn,Xt,Mc,Yi,or,Gr,d1,BL=(d1=class extends nb{constructor(n){super();Ue(this,or);Ue(this,va);Ue(this,wa);Ue(this,Hn);Ue(this,Xt);Ue(this,Mc);Ue(this,Yi);Ee(this,Yi,!1),Ee(this,Mc,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ee(this,Hn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ee(this,va,WL(this.options)),this.state=n.state??W(this,va),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=W(this,Xt))==null?void 0:n.promise}setOptions(n){this.options={...W(this,Mc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Hn).remove(this)}setData(n,r){const s=ML(this.state.data,n,this.options);return Kt(this,or,Gr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Kt(this,or,Gr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=W(this,Xt))==null?void 0:s.promise;return(i=W(this,Xt))==null||i.cancel(n),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,va))}isActive(){return this.observers.some(n=>DL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!kL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,Xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,Xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),W(this,Hn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(W(this,Xt)&&(W(this,Yi)?W(this,Xt).cancel({revert:!0}):W(this,Xt).cancelRetry()),this.scheduleGc()),W(this,Hn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kt(this,or,Gr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Xt))return W(this,Xt).continueRetry(),W(this,Xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ee(this,Yi,!0),s.signal)})},o=()=>{const h=XC(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),Ee(this,Yi,!1),this.options.persister?this.options.persister(h,g,this):h(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),Ee(this,wa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Kt(this,or,Gr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=h=>{var g,_,y,x;Mp(h)&&h.silent||Kt(this,or,Gr).call(this,{type:"error",error:h}),Mp(h)||((_=(g=W(this,Hn).config).onError)==null||_.call(g,h,this),(x=(y=W(this,Hn).config).onSettled)==null||x.call(y,this.state.data,h,this)),this.scheduleGc()};return Ee(this,Xt,tb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var g,_,y,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(T){l(T);return}(_=(g=W(this,Hn).config).onSuccess)==null||_.call(g,h,this),(x=(y=W(this,Hn).config).onSettled)==null||x.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,g)=>{Kt(this,or,Gr).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{Kt(this,or,Gr).call(this,{type:"pause"})},onContinue:()=>{Kt(this,or,Gr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,Xt).start()}},va=new WeakMap,wa=new WeakMap,Hn=new WeakMap,Xt=new WeakMap,Mc=new WeakMap,Yi=new WeakMap,or=new WeakSet,Gr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...HL(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Mp(i)&&i.revert&&W(this,wa)?{...W(this,wa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),un.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),W(this,Hn).notify({query:this,type:"updated",action:n})})},d1);function HL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var br,h1,qL=(h1=class extends ff{constructor(e={}){super();Ue(this,br);this.config=e,Ee(this,br,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??dv(s,n);let o=this.get(i);return o||(o=new BL({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){W(this,br).has(e.queryHash)||(W(this,br).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,br).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,br).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,br).get(e)}getAll(){return[...W(this,br).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>G_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>G_(e,r)):n}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},br=new WeakMap,h1),Ir,on,Xi,Rr,Rs,f1,KL=(f1=class extends nb{constructor(n){super();Ue(this,Rr);Ue(this,Ir);Ue(this,on);Ue(this,Xi);this.mutationId=n.mutationId,Ee(this,on,n.mutationCache),Ee(this,Ir,[]),this.state=n.state||GL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){W(this,Ir).includes(n)||(W(this,Ir).push(n),this.clearGcTimeout(),W(this,on).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ee(this,Ir,W(this,Ir).filter(r=>r!==n)),this.scheduleGc(),W(this,on).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){W(this,Ir).length||(this.state.status==="pending"?this.scheduleGc():W(this,on).remove(this))}continue(){var n;return((n=W(this,Xi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,p,h,g,_,y,x,T,v,S,I,k,j,b,C;Ee(this,Xi,tb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{Kt(this,Rr,Rs).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{Kt(this,Rr,Rs).call(this,{type:"pause"})},onContinue:()=>{Kt(this,Rr,Rs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,on).canRun(this)}));const r=this.state.status==="pending",s=!W(this,Xi).canStart();try{if(!r){Kt(this,Rr,Rs).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=W(this,on).config).onMutate)==null?void 0:o.call(i,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&Kt(this,Rr,Rs).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const R=await W(this,Xi).start();return await((d=(u=W(this,on).config).onSuccess)==null?void 0:d.call(u,R,n,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,R,n,this.state.context)),await((_=(g=W(this,on).config).onSettled)==null?void 0:_.call(g,R,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,R,null,n,this.state.context)),Kt(this,Rr,Rs).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(T=W(this,on).config).onError)==null?void 0:v.call(T,R,n,this.state.context,this)),await((I=(S=this.options).onError)==null?void 0:I.call(S,R,n,this.state.context)),await((j=(k=W(this,on).config).onSettled)==null?void 0:j.call(k,void 0,R,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,R,n,this.state.context)),R}finally{Kt(this,Rr,Rs).call(this,{type:"error",error:R})}}finally{W(this,on).runNext(this)}}},Ir=new WeakMap,on=new WeakMap,Xi=new WeakMap,Rr=new WeakSet,Rs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),un.batch(()=>{W(this,Ir).forEach(s=>{s.onMutationUpdate(n)}),W(this,on).notify({mutation:this,type:"updated",action:n})})},f1);function GL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pn,jc,p1,QL=(p1=class extends ff{constructor(e={}){super();Ue(this,Pn);Ue(this,jc);this.config=e,Ee(this,Pn,new Map),Ee(this,jc,Date.now())}build(e,n,r){const s=new KL({mutationCache:this,mutationId:++Eu(this,jc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Hu(e),r=W(this,Pn).get(n)??[];r.push(e),W(this,Pn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Hu(e);if(W(this,Pn).has(n)){const s=(r=W(this,Pn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?W(this,Pn).delete(n):W(this,Pn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=W(this,Pn).get(Hu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=W(this,Pn).get(Hu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...W(this,Pn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Q_(n,r))}findAll(e={}){return this.getAll().filter(n=>Q_(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return un.batch(()=>Promise.all(e.map(n=>n.continue().catch(ir))))}},Pn=new WeakMap,jc=new WeakMap,p1);function Hu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function J_(t){return{onFetch:(e,n)=>{var d,p,h,g,_;const r=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},T=XC(e.options,e.fetchOptions),v=async(S,I,k)=>{if(y)return Promise.reject();if(I==null&&S.pages.length)return Promise.resolve(S);const j={queryKey:e.queryKey,pageParam:I,direction:k?"backward":"forward",meta:e.options.meta};x(j);const b=await T(j),{maxPages:C}=e.options,R=k?LL:jL;return{pages:R(S.pages,b,C),pageParams:R(S.pageParams,I,C)}};if(s&&i.length){const S=s==="backward",I=S?YL:Z_,k={pages:i,pageParams:o},j=I(r,k);a=await v(k,j,S)}else{const S=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:Z_(r,a);if(l>0&&I==null)break;a=await v(a,I),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Z_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function YL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ht,$s,zs,_a,xa,Bs,Ea,Ta,m1,XL=(m1=class{constructor(t={}){Ue(this,ht);Ue(this,$s);Ue(this,zs);Ue(this,_a);Ue(this,xa);Ue(this,Bs);Ue(this,Ea);Ue(this,Ta);Ee(this,ht,t.queryCache||new qL),Ee(this,$s,t.mutationCache||new QL),Ee(this,zs,t.defaultOptions||{}),Ee(this,_a,new Map),Ee(this,xa,new Map),Ee(this,Bs,0)}mount(){Eu(this,Bs)._++,W(this,Bs)===1&&(Ee(this,Ea,JC.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,ht).onFocus())})),Ee(this,Ta,lh.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,ht).onOnline())})))}unmount(){var t,e;Eu(this,Bs)._--,W(this,Bs)===0&&((t=W(this,Ea))==null||t.call(this),Ee(this,Ea,void 0),(e=W(this,Ta))==null||e.call(this),Ee(this,Ta,void 0))}isFetching(t){return W(this,ht).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,$s).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,ht).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=W(this,ht).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(K_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return W(this,ht).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=W(this,ht).get(r.queryHash),i=s==null?void 0:s.state.data,o=AL(e,i);if(o!==void 0)return W(this,ht).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return un.batch(()=>W(this,ht).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,ht).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,ht);un.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,ht),r={type:"active",...t};return un.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=un.batch(()=>W(this,ht).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ir).catch(ir)}invalidateQueries(t={},e={}){return un.batch(()=>{if(W(this,ht).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=un.batch(()=>W(this,ht).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ir)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ir)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,ht).build(this,e);return n.isStaleByTime(K_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ir).catch(ir)}fetchInfiniteQuery(t){return t.behavior=J_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ir).catch(ir)}ensureInfiniteQueryData(t){return t.behavior=J_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lh.isOnline()?W(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,ht)}getMutationCache(){return W(this,$s)}getDefaultOptions(){return W(this,zs)}setDefaultOptions(t){Ee(this,zs,t)}setQueryDefaults(t,e){W(this,_a).set(Ec(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,_a).values()];let n={};return e.forEach(r=>{Tc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){W(this,xa).set(Ec(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,xa).values()];let n={};return e.forEach(r=>{Tc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,zs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===hv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,zs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,ht).clear(),W(this,$s).clear()}},ht=new WeakMap,$s=new WeakMap,zs=new WeakMap,_a=new WeakMap,xa=new WeakMap,Bs=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,m1),JL=w.createContext(void 0),ZL=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(JL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(this,arguments)}var qs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qs||(qs={}));const ex="popstate";function eV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return ug("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ch(s)}return nV(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tV(){return Math.random().toString(36).substr(2,8)}function tx(t,e){return{usr:t.state,key:t.key,idx:e}}function ug(t,e,n,r){return n===void 0&&(n=null),Sc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qa(e):e,{state:n,key:e&&e.key||r||tV()})}function ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=qs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Sc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=qs.Pop;let x=d(),T=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:T})}function h(x,T){a=qs.Push;let v=ug(y.location,x,T);u=d()+1;let S=tx(v,u),I=y.createHref(v);try{o.pushState(S,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(I)}i&&l&&l({action:a,location:y.location,delta:1})}function g(x,T){a=qs.Replace;let v=ug(y.location,x,T);u=d();let S=tx(v,u),I=y.createHref(v);o.replaceState(S,"",I),i&&l&&l({action:a,location:y.location,delta:0})}function _(x){let T=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:ch(x);return v=v.replace(/ $/,"%20"),vt(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let y={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ex,p),l=x,()=>{s.removeEventListener(ex,p),l=null}},createHref(x){return e(s,x)},createURL:_,encodeLocation(x){let T=_(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:h,replace:g,go(x){return o.go(x)}};return y}var nx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nx||(nx={}));function rV(t,e,n){return n===void 0&&(n="/"),sV(t,e,n,!1)}function sV(t,e,n,r){let s=typeof e=="string"?Qa(e):e,i=fv(s.pathname||"/",n);if(i==null)return null;let o=sb(t);iV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=gV(i);a=pV(o[l],u,r)}return a}function sb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ni([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sb(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:hV(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ib(i.path))s(i,o,l)}),e}function ib(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ib(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oV=/^:[\w-]+$/,aV=3,lV=2,cV=1,uV=10,dV=-2,rx=t=>t==="*";function hV(t,e){let n=t.split("/"),r=n.length;return n.some(rx)&&(r+=dV),e&&(r+=lV),n.filter(s=>!rx(s)).reduce((s,i)=>s+(oV.test(i)?aV:i===""?cV:uV),r)}function fV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function pV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=sx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=sx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:ni([i,p.pathname]),pathnameBase:_V(ni([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=ni([i,p.pathnameBase]))}return o}function sx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=a[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[p];return g&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function mV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Qa(t):t;return{pathname:n?n.startsWith("/")?n:vV(n,e):e,search:xV(r),hash:EV(s)}}function vV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pv(t,e){let n=wV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Qa(t):(s=Sc({},t),vt(!s.pathname||!s.pathname.includes("?"),jp("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),jp("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),jp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}a=p>=0?e[p]:"/"}let l=yV(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ni=t=>t.join("/").replace(/\/\/+/g,"/"),_V=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ob=["post","put","patch","delete"];new Set(ob);const SV=["get",...ob];new Set(SV);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}const gv=w.createContext(null),CV=w.createContext(null),bi=w.createContext(null),mf=w.createContext(null),Ii=w.createContext({outlet:null,matches:[],isDataRoute:!1}),ab=w.createContext(null);function bV(t,e){let{relative:n}=e===void 0?{}:e;Ya()||vt(!1);let{basename:r,navigator:s}=w.useContext(bi),{hash:i,pathname:o,search:a}=cb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ni([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ya(){return w.useContext(mf)!=null}function Ri(){return Ya()||vt(!1),w.useContext(mf).location}function lb(t){w.useContext(bi).static||w.useLayoutEffect(t)}function To(){let{isDataRoute:t}=w.useContext(Ii);return t?FV():IV()}function IV(){Ya()||vt(!1);let t=w.useContext(gv),{basename:e,future:n,navigator:r}=w.useContext(bi),{matches:s}=w.useContext(Ii),{pathname:i}=Ri(),o=JSON.stringify(pv(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return lb(()=>{a.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=mv(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ni([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}function cb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(bi),{matches:s}=w.useContext(Ii),{pathname:i}=Ri(),o=JSON.stringify(pv(s,r.v7_relativeSplatPath));return w.useMemo(()=>mv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function RV(t,e){return PV(t,e)}function PV(t,e,n,r){Ya()||vt(!1);let{navigator:s}=w.useContext(bi),{matches:i}=w.useContext(Ii),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ri(),d;if(e){var p;let x=typeof e=="string"?Qa(e):e;l==="/"||(p=x.pathname)!=null&&p.startsWith(l)||vt(!1),d=x}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=rV(t,{pathname:g}),y=OV(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ni([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ni([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&y?w.createElement(mf.Provider,{value:{location:Cc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qs.Pop}},y):y}function AV(){let t=VV(),e=TV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const NV=w.createElement(AV,null);class kV extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ii.Provider,{value:this.props.routeContext},w.createElement(ab.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DV(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(gv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ii.Provider,{value:e},r)}function OV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||vt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:h,errors:g}=n,_=p.route.loader&&h[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let g,_=!1,y=null,x=null;n&&(g=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||NV,l&&(u<0&&h===0?(_=!0,x=null):u===h&&(_=!0,x=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,h+1)),v=()=>{let S;return g?S=y:_?S=x:p.route.Component?S=w.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=d,w.createElement(DV,{match:p,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?w.createElement(kV,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var ub=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ub||{}),uh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uh||{});function MV(t){let e=w.useContext(gv);return e||vt(!1),e}function jV(t){let e=w.useContext(CV);return e||vt(!1),e}function LV(t){let e=w.useContext(Ii);return e||vt(!1),e}function db(t){let e=LV(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function VV(){var t;let e=w.useContext(ab),n=jV(uh.UseRouteError),r=db(uh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FV(){let{router:t}=MV(ub.UseNavigateStable),e=db(uh.UseNavigateStable),n=w.useRef(!1);return lb(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cc({fromRouteId:e},i)))},[t,e])}function hb(t){let{to:e,replace:n,state:r,relative:s}=t;Ya()||vt(!1);let{future:i,static:o}=w.useContext(bi),{matches:a}=w.useContext(Ii),{pathname:l}=Ri(),u=To(),d=mv(e,pv(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function nr(t){vt(!1)}function UV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=qs.Pop,navigator:i,static:o=!1,future:a}=t;Ya()&&vt(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:o,future:Cc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Qa(r));let{pathname:d="/",search:p="",hash:h="",state:g=null,key:_="default"}=r,y=w.useMemo(()=>{let x=fv(d,l);return x==null?null:{location:{pathname:x,search:p,hash:h,state:g,key:_},navigationType:s}},[l,d,p,h,g,_,s]);return y==null?null:w.createElement(bi.Provider,{value:u},w.createElement(mf.Provider,{children:n,value:y}))}function $V(t){let{children:e,location:n}=t;return RV(dg(e),n)}new Promise(()=>{});function dg(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,dg(r.props.children,i));return}r.type!==nr&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function zV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HV(t,e){return t.button===0&&(!e||e==="_self")&&!BV(t)}function fg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function WV(t,e){let n=fg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const qV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KV="6";try{window.__reactRouterVersion=KV}catch{}const GV="startTransition",ix=I1[GV];function QV(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=eV({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=w.useCallback(p=>{u&&ix?ix(()=>l(p)):l(p)},[l,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(UV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const YV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,h=zV(e,qV),{basename:g}=w.useContext(bi),_,y=!1;if(typeof u=="string"&&XV.test(u)&&(_=u,YV))try{let S=new URL(window.location.href),I=u.startsWith("//")?new URL(S.protocol+u):new URL(u),k=fv(I.pathname,g);I.origin===S.origin&&k!=null?u=k+I.search+I.hash:y=!0}catch{}let x=bV(u,{relative:s}),T=JV(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function v(S){r&&r(S),S.defaultPrevented||T(S)}return w.createElement("a",hg({},h,{href:_||x,onClick:y||i?r:v,ref:n,target:l}))});var ox;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ox||(ox={}));var ax;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ax||(ax={}));function JV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=To(),u=Ri(),d=cb(t,{relative:o});return w.useCallback(p=>{if(HV(p,n)){p.preventDefault();let h=r!==void 0?r:ch(u)===ch(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}function ZV(t){let e=w.useRef(fg(t)),n=w.useRef(!1),r=Ri(),s=w.useMemo(()=>WV(r.search,n.current?null:e.current),[r.search]),i=To(),o=w.useCallback((a,l)=>{const u=fg(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const eF=()=>{};var lx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},tF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[d],n[p],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new nF;const h=i<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),p!==64){const _=u<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rF=function(t){const e=fb(t);return pb.encodeByteArray(e,!0)},dh=function(t){return rF(t).replace(/\./g,"")},mb=function(t){try{return pb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=()=>sF().__FIREBASE_DEFAULTS__,oF=()=>{if(typeof process>"u"||typeof lx>"u")return;const t=lx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mb(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return eF()||iF()||oF()||aF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gb=t=>{var e,n;return(n=(e=gf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lF=t=>{const e=gb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yb=()=>{var t;return(t=gf())===null||t===void 0?void 0:t.config},vb=t=>{var e;return(e=gf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dh(JSON.stringify(n)),dh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function hF(){var t;const e=(t=gf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gF(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yF(){return!hF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vF(){try{return typeof indexedDB=="object"}catch{return!1}}function wF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_F,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new gs(s,a,r)}}function xF(t,e){return t.replace(EF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const EF=/\{\$([^}]+)}/g;function TF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function co(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(cx(i)&&cx(o)){if(!co(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function cx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SF(t,e){const n=new CF(t,e);return n.subscribe.bind(n)}class CF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Lp),s.error===void 0&&(s.error=Lp),s.complete===void 0&&(s.complete=Lp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PF(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RF(t){return t===zi?void 0:t}function PF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const NF={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},kF=Ne.INFO,DF={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},OF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yv{constructor(e){this.name=e,this._logLevel=kF,this._logHandler=OF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const MF=(t,e)=>e.some(n=>t instanceof n);let ux,dx;function jF(){return ux||(ux=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LF(){return dx||(dx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wb=new WeakMap,pg=new WeakMap,_b=new WeakMap,Vp=new WeakMap,vv=new WeakMap;function VF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ri(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wb.set(n,t)}).catch(()=>{}),vv.set(e,t),e}function FF(t){if(pg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});pg.set(t,e)}let mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_b.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UF(t){mg=t(mg)}function $F(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fp(this),e,...n);return _b.set(r,e.sort?e.sort():[e]),ri(r)}:LF().includes(t)?function(...e){return t.apply(Fp(this),e),ri(wb.get(this))}:function(...e){return ri(t.apply(Fp(this),e))}}function zF(t){return typeof t=="function"?$F(t):(t instanceof IDBTransaction&&FF(t),MF(t,jF())?new Proxy(t,mg):t)}function ri(t){if(t instanceof IDBRequest)return VF(t);if(Vp.has(t))return Vp.get(t);const e=zF(t);return e!==t&&(Vp.set(t,e),vv.set(e,t)),e}const Fp=t=>vv.get(t);function BF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ri(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ri(o.result),l.oldVersion,l.newVersion,ri(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const HF=["get","getKey","getAll","getAllKeys","count"],WF=["put","add","delete","clear"],Up=new Map;function hx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Up.get(e))return Up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=WF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||HF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Up.set(e,i),i}UF(t=>({...t,get:(e,n,r)=>hx(e,n)||t.get(e,n,r),has:(e,n)=>!!hx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",fx="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new yv("@firebase/app"),GF="@firebase/app-compat",QF="@firebase/analytics-compat",YF="@firebase/analytics",XF="@firebase/app-check-compat",JF="@firebase/app-check",ZF="@firebase/auth",e4="@firebase/auth-compat",t4="@firebase/database",n4="@firebase/data-connect",r4="@firebase/database-compat",s4="@firebase/functions",i4="@firebase/functions-compat",o4="@firebase/installations",a4="@firebase/installations-compat",l4="@firebase/messaging",c4="@firebase/messaging-compat",u4="@firebase/performance",d4="@firebase/performance-compat",h4="@firebase/remote-config",f4="@firebase/remote-config-compat",p4="@firebase/storage",m4="@firebase/storage-compat",g4="@firebase/firestore",y4="@firebase/vertexai",v4="@firebase/firestore-compat",w4="firebase",_4="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="[DEFAULT]",x4={[gg]:"fire-core",[GF]:"fire-core-compat",[YF]:"fire-analytics",[QF]:"fire-analytics-compat",[JF]:"fire-app-check",[XF]:"fire-app-check-compat",[ZF]:"fire-auth",[e4]:"fire-auth-compat",[t4]:"fire-rtdb",[n4]:"fire-data-connect",[r4]:"fire-rtdb-compat",[s4]:"fire-fn",[i4]:"fire-fn-compat",[o4]:"fire-iid",[a4]:"fire-iid-compat",[l4]:"fire-fcm",[c4]:"fire-fcm-compat",[u4]:"fire-perf",[d4]:"fire-perf-compat",[h4]:"fire-rc",[f4]:"fire-rc-compat",[p4]:"fire-gcs",[m4]:"fire-gcs-compat",[g4]:"fire-fst",[v4]:"fire-fst-compat",[y4]:"fire-vertex","fire-js":"fire-js",[w4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,E4=new Map,vg=new Map;function px(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Da(t){const e=t.name;if(vg.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(const n of hh.values())px(n,t);for(const n of E4.values())px(n,t);return!0}function wv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Wc("app","Firebase",T4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=_4;function xb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw si.create("bad-app-name",{appName:String(s)});if(n||(n=yb()),!n)throw si.create("no-options");const i=hh.get(s);if(i){if(co(n,i.options)&&co(r,i.config))return i;throw si.create("duplicate-app",{appName:s})}const o=new AF(s);for(const l of vg.values())o.addComponent(l);const a=new S4(n,r,o);return hh.set(s,a),a}function Eb(t=yg){const e=hh.get(t);if(!e&&t===yg&&yb())return xb();if(!e)throw si.create("no-app",{appName:t});return e}function ii(t,e,n){var r;let s=(r=x4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(a.join(" "));return}Da(new uo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="firebase-heartbeat-database",b4=1,bc="firebase-heartbeat-store";let $p=null;function Tb(){return $p||($p=BF(C4,b4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),$p}async function I4(t){try{const n=(await Tb()).transaction(bc),r=await n.objectStore(bc).get(Sb(t));return await n.done,r}catch(e){if(e instanceof gs)us.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function mx(t,e){try{const r=(await Tb()).transaction(bc,"readwrite");await r.objectStore(bc).put(e,Sb(t)),await r.done}catch(n){if(n instanceof gs)us.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(r.message)}}}function Sb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=1024,P4=30;class A4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>P4){const o=D4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gx(),{heartbeatsToSend:r,unsentEntries:s}=N4(this._heartbeatsCache.heartbeats),i=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return us.warn(n),""}}}function gx(){return new Date().toISOString().substring(0,10)}function N4(t,e=R4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),yx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),yx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vF()?wF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yx(t){return dh(JSON.stringify({version:2,heartbeats:t})).length}function D4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){Da(new uo("platform-logger",e=>new qF(e),"PRIVATE")),Da(new uo("heartbeat",e=>new A4(e),"PRIVATE")),ii(gg,fx,t),ii(gg,fx,"esm2017"),ii("fire-js","")}O4("");var M4="firebase",j4="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(M4,j4,"app");var Ar=function(){return Ar=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ar.apply(this,arguments)};function Kc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function L4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V4=Cb,bb=new Wc("auth","Firebase",Cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new yv("@firebase/auth");function F4(t,...e){fh.logLevel<=Ne.WARN&&fh.warn(`Auth (${Xa}): ${t}`,...e)}function yd(t,...e){fh.logLevel<=Ne.ERROR&&fh.error(`Auth (${Xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,...e){throw _v(t,...e)}function Or(t,...e){return _v(t,...e)}function Ib(t,e,n){const r=Object.assign(Object.assign({},V4()),{[e]:n});return new Wc("auth","Firebase",r).create(e,{appName:t.name})}function ns(t){return Ib(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bb.create(t,...e)}function pe(t,e,...n){if(!t)throw _v(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function ds(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U4(){return vx()==="http:"||vx()==="https:"}function vx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U4()||pF()||"connection"in navigator)?navigator.onLine:!0}function z4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=dF()||mF()}get(){return $4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W4=new Gc(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ys(t,e,n,r,s={}){return Pb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=qc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return fF()||(u.referrerPolicy="no-referrer"),Rb.fetch()(await Ab(t,t.config.apiHost,n,a),u)})}async function Pb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},B4),e);try{const s=new K4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ib(t,d,u);vr(t,d)}}catch(s){if(s instanceof gs)throw s;vr(t,"network-request-failed",{message:String(s)})}}async function Qc(t,e,n,r,s={}){const i=await ys(t,e,n,r,s);return"mfaPendingCredential"in i&&vr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Ab(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?xv(t.config,s):`${t.config.apiScheme}://${s}`;return H4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function q4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),W4.get())})}}function Wu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Or(t,e,r);return s.customData._tokenResponse=n,s}function wx(t){return t!==void 0&&t.enterprise!==void 0}class G4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q4(t,e){return ys(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e){return ys(t,"POST","/v1/accounts:delete",e)}async function ph(t,e){return ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X4(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=Ev(r);pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Yl(zp(s.auth_time)),issuedAtTime:Yl(zp(s.iat)),expirationTime:Yl(zp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zp(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const s=mb(n);return s?JSON.parse(s):(yd("Failed to decode base64 JWT payload"),null)}catch(s){return yd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _x(t){const e=Ev(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&J4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Oa(t,ph(n,{idToken:r}));pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Nb(i.providerUserInfo):[],a=tU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _g(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function eU(t){const e=Nt(t);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Nb(t){return t.map(e=>{var{providerId:n}=e,r=Kc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e){const n=await Pb(t,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Ab(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rU(t,e){return ys(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_x(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=_x(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await nU(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ua;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Kc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _g(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X4(this,e)}reload(){return eU(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await Oa(this,Y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:I,isAnonymous:k,providerData:j,stsTokenManager:b}=n;pe(S&&b,e,"internal-error");const C=ua.fromJSON(this.name,b);pe(typeof S=="string",e,"internal-error"),Is(p,e.name),Is(h,e.name),pe(typeof I=="boolean",e,"internal-error"),pe(typeof k=="boolean",e,"internal-error"),Is(g,e.name),Is(_,e.name),Is(y,e.name),Is(x,e.name),Is(T,e.name),Is(v,e.name);const R=new dr({uid:S,auth:e,email:h,emailVerified:I,displayName:p,isAnonymous:k,photoURL:_,phoneNumber:g,tenantId:y,stsTokenManager:C,createdAt:T,lastLoginAt:v});return j&&Array.isArray(j)&&(R.providerData=j.map(N=>Object.assign({},N))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new ua;s.updateFromServerResponse(n);const i=new dr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Nb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ua;a.updateFromIdToken(r);const l=new dr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _g(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new Map;function es(t){ds(t instanceof Function,"Expected a class definition");let e=xx.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kb.type="NONE";const Ex=kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){return`firebase:${t}:${e}:${n}`}class da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=vd(this.userKey,s.apiKey,i),this.fullPersistenceKey=vd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?dr._fromGetAccountInfoResponse(this.auth,n,e):null}return dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new da(es(Ex),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||es(Ex);const o=vd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let p;if(typeof d=="string"){const h=await ph(e,{idToken:d}).catch(()=>{});if(!h)break;p=await dr._fromGetAccountInfoResponse(e,h,d)}else p=dr._fromJSON(e,d);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new da(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new da(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vb(e))return"Blackberry";if(Fb(e))return"Webos";if(Ob(e))return"Safari";if((e.includes("chrome/")||Mb(e))&&!e.includes("edge/"))return"Chrome";if(Lb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Db(t=rn()){return/firefox\//i.test(t)}function Ob(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mb(t=rn()){return/crios\//i.test(t)}function jb(t=rn()){return/iemobile/i.test(t)}function Lb(t=rn()){return/android/i.test(t)}function Vb(t=rn()){return/blackberry/i.test(t)}function Fb(t=rn()){return/webos/i.test(t)}function Tv(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sU(t=rn()){var e;return Tv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iU(){return gF()&&document.documentMode===10}function Ub(t=rn()){return Tv(t)||Lb(t)||Fb(t)||Vb(t)||/windows phone/i.test(t)||jb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e=[]){let n;switch(t){case"Browser":n=Tx(rn());break;case"Worker":n=`${Tx(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e={}){return ys(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=6;class cU{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sx(this),this.idTokenSubscription=new Sx(this),this.beforeStateQueue=new oU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await da.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),r=await dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(ns(this));const n=e?Nt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aU(this),n=new cU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function So(t){return Nt(t)}class Sx{constructor(e){this.auth=e,this.observer=null,this.addObserver=SF(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dU(t){yf=t}function zb(t){return yf.loadJS(t)}function hU(){return yf.recaptchaEnterpriseScript}function fU(){return yf.gapiScript}function pU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mU{constructor(){this.enterprise=new gU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yU="recaptcha-enterprise",Bb="NO_RECAPTCHA";class vU{constructor(e){this.type=yU,this.auth=So(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Q4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new G4(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;wx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Bb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&wx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hU();l.length!==0&&(l+=a),zb(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Cx(t,e,n,r=!1,s=!1){const i=new vU(t);let o;if(s)o=Bb;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function xg(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Cx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Cx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t,e){const n=wv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(co(i,e??{}))return s;vr(s,"already-initialized")}return n.initialize({options:e})}function _U(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xU(t,e,n){const r=So(t);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Hb(e),{host:o,port:a}=EU(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(co(u,r.config.emulator)&&co(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,TU()}function Hb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EU(t){const e=Hb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:bx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:bx(o)}}}function bx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function SU(t,e){return ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e){return Qc(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e){return Qc(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function IU(t,e){return Qc(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Sv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,n,"signInWithPassword",CU);case"emailLink":return bU(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,r,"signUpPassword",SU);case"emailLink":return IU(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t,e){return Qc(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="http://localhost";class ho extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Kc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ho(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ha(e,n)}buildRequest(){const e={requestUri:RU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AU(t){const e=Dl(Ol(t)).link,n=e?Dl(Ol(e)).deep_link_id:null,r=Dl(Ol(t)).deep_link_id;return(r?Dl(Ol(r)).link:null)||r||n||e||t}class Cv{constructor(e){var n,r,s,i,o,a;const l=Dl(Ol(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,p=PU((s=l.mode)!==null&&s!==void 0?s:null);pe(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=AU(e);try{return new Cv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,n){return Ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cv.parseLink(n);return pe(r,"argument-error"),Ic._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Yc{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Yc{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Yc{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e){return Qc(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await dr._fromIdTokenResponse(e,r,s),o=Ix(r);return new fo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ix(r);return new fo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ix(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends gs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gh(e,n,r,s)}}function qb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(t,i,e,r):i})}async function kU(t,e,n=!1){const r=await Oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(ns(r));const s="reauthenticate";try{const i=await Oa(t,qb(r,s,e,t),n);pe(i.idToken,r,"internal-error");const o=Ev(i.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),fo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(t,e,n=!1){if(Kn(t.app))return Promise.reject(ns(t));const r="signIn",s=await qb(t,r,e),i=await fo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function OU(t,e){return Kb(So(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(t){const e=So(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MU(t,e,n){if(Kn(t.app))return Promise.reject(ns(t));const r=So(t),o=await xg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Gb(t),l}),a=await fo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function jU(t,e,n){return Kn(t.app)?Promise.reject(ns(t)):OU(Nt(t),Ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e){return ys(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Oa(r,LU(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function FU(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function UU(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function $U(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function zU(t){return Nt(t).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=1e3,HU=10;class Yb extends Qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);iU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,HU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yb.type="LOCAL";const WU=Yb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb extends Qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xb.type="SESSION";const Jb=Xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await qU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=bv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function GU(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function QU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XU(){return Zb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebaseLocalStorageDb",JU=1,vh="firebaseLocalStorage",tI="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(t,e){return t.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function ZU(){const t=indexedDB.deleteDatabase(eI);return new Xc(t).toPromise()}function Eg(){const t=indexedDB.open(eI,JU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vh,{keyPath:tI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await ZU(),e(await Eg()))})})}async function Rx(t,e,n){const r=wf(t,!0).put({[tI]:e,value:n});return new Xc(r).toPromise()}async function e3(t,e){const n=wf(t,!1).get(e),r=await new Xc(n).toPromise();return r===void 0?null:r.value}function Px(t,e){const n=wf(t,!0).delete(e);return new Xc(n).toPromise()}const t3=800,n3=3;class nI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(XU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QU(),!this.activeServiceWorker)return;this.sender=new KU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await Rx(e,yh,"1"),await Px(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Px(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wf(s,!1).getAll();return new Xc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nI.type="LOCAL";const r3=nI;new Gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){return e?es(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i3(t){return Kb(t.auth,new Iv(t),t.bypassAuthState)}function o3(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),DU(n,new Iv(t),t.bypassAuthState)}async function a3(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),kU(n,new Iv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i3;case"linkViaPopup":case"linkViaRedirect":return a3;case"reauthViaPopup":case"reauthViaRedirect":return o3;default:vr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Gc(2e3,1e4);class Zo extends rI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l3.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="pendingRedirect",wd=new Map;class u3 extends rI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const r=await d3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d3(t,e){const n=p3(e),r=f3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function h3(t,e){wd.set(t._key(),e)}function f3(t){return es(t._redirectPersistence)}function p3(t){return vd(c3,t.config.apiKey,t.name)}async function m3(t,e,n=!1){if(Kn(t.app))return Promise.reject(ns(t));const r=So(t),s=s3(r,e),o=await new u3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=10*60*1e3;class y3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ax(e))}saveEventToCache(e){this.cachedEventUids.add(Ax(e)),this.lastProcessedEventTime=Date.now()}}function Ax(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e={}){return ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x3=/^https?/;async function E3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w3(t);for(const n of e)try{if(T3(n))return}catch{}vr(t,"unauthorized-domain")}function T3(t){const e=wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!x3.test(n))return!1;if(_3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new Gc(3e4,6e4);function Nx(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C3(t){return new Promise((e,n)=>{var r,s,i;function o(){Nx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nx(),n(Or(t,"network-request-failed"))},timeout:S3.get()})}if(!((s=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Mr().gapi)===null||i===void 0)&&i.load)o();else{const a=pU("iframefcb");return Mr()[a]=()=>{gapi.load?o():n(Or(t,"network-request-failed"))},zb(`${fU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _d=null,e})}let _d=null;function b3(t){return _d=_d||C3(t),_d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new Gc(5e3,15e3),R3="__/auth/iframe",P3="emulator/auth/iframe",A3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k3(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xv(e,P3):`https://${t.config.authDomain}/${R3}`,r={apiKey:e.apiKey,appName:t.name,v:Xa},s=N3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qc(r).slice(1)}`}async function D3(t){const e=await b3(t),n=Mr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:k3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Or(t,"network-request-failed"),a=Mr().setTimeout(()=>{i(o)},I3.get());function l(){Mr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M3=500,j3=600,L3="_blank",V3="http://localhost";class kx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F3(t,e,n,r=M3,s=j3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},O3),{width:r.toString(),height:s.toString(),top:i,left:o}),u=rn().toLowerCase();n&&(a=Mb(u)?L3:n),Db(u)&&(e=e||V3,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,_])=>`${h}${g}=${_},`,"");if(sU(u)&&a!=="_self")return U3(e||"",a),new kx(null);const p=window.open(e||"",a,d);pe(p,t,"popup-blocked");try{p.focus()}catch{}return new kx(p)}function U3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="__/auth/handler",z3="emulator/auth/handler",B3=encodeURIComponent("fac");async function Dx(t,e,n,r,s,i){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xa,eventId:s};if(e instanceof Wb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Yc){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${B3}=${encodeURIComponent(l)}`:"";return`${H3(t)}?${qc(a).slice(1)}${u}`}function H3({config:t}){return t.emulator?xv(t,z3):`https://${t.authDomain}/${$3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class W3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jb,this._completeRedirectFn=m3,this._overrideRedirectResult=h3}async _openPopup(e,n,r,s){var i;ds((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Dx(e,n,r,wg(),s);return F3(e,o,bv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Dx(e,n,r,wg(),s);return GU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ds(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D3(e),r=new y3(e);return n.register("authEvent",s=>(pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Bp];o!==void 0&&n(!!o),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ub()||Ob()||Tv()}}const q3=W3;var Ox="@firebase/auth",Mx="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q3(t){Da(new uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(t)},u=new uU(r,s,i,l);return _U(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Da(new uo("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(r=>new K3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(Ox,Mx,G3(t)),ii(Ox,Mx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=5*60,X3=vb("authIdTokenMaxAge")||Y3;let jx=null;const J3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X3)return;const s=n==null?void 0:n.token;jx!==s&&(jx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Z3(t=Eb()){const e=wv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wU(t,{popupRedirectResolver:q3,persistence:[r3,WU,Jb]}),r=vb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=J3(i.toString());UU(n,o,()=>o(n.currentUser)),FU(n,a=>o(a))}}const s=gb("auth");return s&&xU(n,`http://${s}`),n}function e5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Or("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",e5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q3("Browser");var Lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oi,iI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function R(){}R.prototype=C.prototype,b.D=C.prototype,b.prototype=new R,b.prototype.constructor=b,b.C=function(N,O,D){for(var A=Array(arguments.length-2),B=2;B<arguments.length;B++)A[B-2]=arguments[B];return C.prototype[O].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,R){R||(R=0);var N=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)N[O]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(O=0;16>O;++O)N[O]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=b.g[0],R=b.g[1],O=b.g[2];var D=b.g[3],A=C+(D^R&(O^D))+N[0]+3614090360&4294967295;C=R+(A<<7&4294967295|A>>>25),A=D+(O^C&(R^O))+N[1]+3905402710&4294967295,D=C+(A<<12&4294967295|A>>>20),A=O+(R^D&(C^R))+N[2]+606105819&4294967295,O=D+(A<<17&4294967295|A>>>15),A=R+(C^O&(D^C))+N[3]+3250441966&4294967295,R=O+(A<<22&4294967295|A>>>10),A=C+(D^R&(O^D))+N[4]+4118548399&4294967295,C=R+(A<<7&4294967295|A>>>25),A=D+(O^C&(R^O))+N[5]+1200080426&4294967295,D=C+(A<<12&4294967295|A>>>20),A=O+(R^D&(C^R))+N[6]+2821735955&4294967295,O=D+(A<<17&4294967295|A>>>15),A=R+(C^O&(D^C))+N[7]+4249261313&4294967295,R=O+(A<<22&4294967295|A>>>10),A=C+(D^R&(O^D))+N[8]+1770035416&4294967295,C=R+(A<<7&4294967295|A>>>25),A=D+(O^C&(R^O))+N[9]+2336552879&4294967295,D=C+(A<<12&4294967295|A>>>20),A=O+(R^D&(C^R))+N[10]+4294925233&4294967295,O=D+(A<<17&4294967295|A>>>15),A=R+(C^O&(D^C))+N[11]+2304563134&4294967295,R=O+(A<<22&4294967295|A>>>10),A=C+(D^R&(O^D))+N[12]+1804603682&4294967295,C=R+(A<<7&4294967295|A>>>25),A=D+(O^C&(R^O))+N[13]+4254626195&4294967295,D=C+(A<<12&4294967295|A>>>20),A=O+(R^D&(C^R))+N[14]+2792965006&4294967295,O=D+(A<<17&4294967295|A>>>15),A=R+(C^O&(D^C))+N[15]+1236535329&4294967295,R=O+(A<<22&4294967295|A>>>10),A=C+(O^D&(R^O))+N[1]+4129170786&4294967295,C=R+(A<<5&4294967295|A>>>27),A=D+(R^O&(C^R))+N[6]+3225465664&4294967295,D=C+(A<<9&4294967295|A>>>23),A=O+(C^R&(D^C))+N[11]+643717713&4294967295,O=D+(A<<14&4294967295|A>>>18),A=R+(D^C&(O^D))+N[0]+3921069994&4294967295,R=O+(A<<20&4294967295|A>>>12),A=C+(O^D&(R^O))+N[5]+3593408605&4294967295,C=R+(A<<5&4294967295|A>>>27),A=D+(R^O&(C^R))+N[10]+38016083&4294967295,D=C+(A<<9&4294967295|A>>>23),A=O+(C^R&(D^C))+N[15]+3634488961&4294967295,O=D+(A<<14&4294967295|A>>>18),A=R+(D^C&(O^D))+N[4]+3889429448&4294967295,R=O+(A<<20&4294967295|A>>>12),A=C+(O^D&(R^O))+N[9]+568446438&4294967295,C=R+(A<<5&4294967295|A>>>27),A=D+(R^O&(C^R))+N[14]+3275163606&4294967295,D=C+(A<<9&4294967295|A>>>23),A=O+(C^R&(D^C))+N[3]+4107603335&4294967295,O=D+(A<<14&4294967295|A>>>18),A=R+(D^C&(O^D))+N[8]+1163531501&4294967295,R=O+(A<<20&4294967295|A>>>12),A=C+(O^D&(R^O))+N[13]+2850285829&4294967295,C=R+(A<<5&4294967295|A>>>27),A=D+(R^O&(C^R))+N[2]+4243563512&4294967295,D=C+(A<<9&4294967295|A>>>23),A=O+(C^R&(D^C))+N[7]+1735328473&4294967295,O=D+(A<<14&4294967295|A>>>18),A=R+(D^C&(O^D))+N[12]+2368359562&4294967295,R=O+(A<<20&4294967295|A>>>12),A=C+(R^O^D)+N[5]+4294588738&4294967295,C=R+(A<<4&4294967295|A>>>28),A=D+(C^R^O)+N[8]+2272392833&4294967295,D=C+(A<<11&4294967295|A>>>21),A=O+(D^C^R)+N[11]+1839030562&4294967295,O=D+(A<<16&4294967295|A>>>16),A=R+(O^D^C)+N[14]+4259657740&4294967295,R=O+(A<<23&4294967295|A>>>9),A=C+(R^O^D)+N[1]+2763975236&4294967295,C=R+(A<<4&4294967295|A>>>28),A=D+(C^R^O)+N[4]+1272893353&4294967295,D=C+(A<<11&4294967295|A>>>21),A=O+(D^C^R)+N[7]+4139469664&4294967295,O=D+(A<<16&4294967295|A>>>16),A=R+(O^D^C)+N[10]+3200236656&4294967295,R=O+(A<<23&4294967295|A>>>9),A=C+(R^O^D)+N[13]+681279174&4294967295,C=R+(A<<4&4294967295|A>>>28),A=D+(C^R^O)+N[0]+3936430074&4294967295,D=C+(A<<11&4294967295|A>>>21),A=O+(D^C^R)+N[3]+3572445317&4294967295,O=D+(A<<16&4294967295|A>>>16),A=R+(O^D^C)+N[6]+76029189&4294967295,R=O+(A<<23&4294967295|A>>>9),A=C+(R^O^D)+N[9]+3654602809&4294967295,C=R+(A<<4&4294967295|A>>>28),A=D+(C^R^O)+N[12]+3873151461&4294967295,D=C+(A<<11&4294967295|A>>>21),A=O+(D^C^R)+N[15]+530742520&4294967295,O=D+(A<<16&4294967295|A>>>16),A=R+(O^D^C)+N[2]+3299628645&4294967295,R=O+(A<<23&4294967295|A>>>9),A=C+(O^(R|~D))+N[0]+4096336452&4294967295,C=R+(A<<6&4294967295|A>>>26),A=D+(R^(C|~O))+N[7]+1126891415&4294967295,D=C+(A<<10&4294967295|A>>>22),A=O+(C^(D|~R))+N[14]+2878612391&4294967295,O=D+(A<<15&4294967295|A>>>17),A=R+(D^(O|~C))+N[5]+4237533241&4294967295,R=O+(A<<21&4294967295|A>>>11),A=C+(O^(R|~D))+N[12]+1700485571&4294967295,C=R+(A<<6&4294967295|A>>>26),A=D+(R^(C|~O))+N[3]+2399980690&4294967295,D=C+(A<<10&4294967295|A>>>22),A=O+(C^(D|~R))+N[10]+4293915773&4294967295,O=D+(A<<15&4294967295|A>>>17),A=R+(D^(O|~C))+N[1]+2240044497&4294967295,R=O+(A<<21&4294967295|A>>>11),A=C+(O^(R|~D))+N[8]+1873313359&4294967295,C=R+(A<<6&4294967295|A>>>26),A=D+(R^(C|~O))+N[15]+4264355552&4294967295,D=C+(A<<10&4294967295|A>>>22),A=O+(C^(D|~R))+N[6]+2734768916&4294967295,O=D+(A<<15&4294967295|A>>>17),A=R+(D^(O|~C))+N[13]+1309151649&4294967295,R=O+(A<<21&4294967295|A>>>11),A=C+(O^(R|~D))+N[4]+4149444226&4294967295,C=R+(A<<6&4294967295|A>>>26),A=D+(R^(C|~O))+N[11]+3174756917&4294967295,D=C+(A<<10&4294967295|A>>>22),A=O+(C^(D|~R))+N[2]+718787259&4294967295,O=D+(A<<15&4294967295|A>>>17),A=R+(D^(O|~C))+N[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+O&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var R=C-this.blockSize,N=this.B,O=this.h,D=0;D<C;){if(O==0)for(;D<=R;)s(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<C;)if(N[O++]=b.charCodeAt(D++),O==this.blockSize){s(this,N),O=0;break}}else for(;D<C;)if(N[O++]=b[D++],O==this.blockSize){s(this,N),O=0;break}}this.h=O,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var R=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=R&255,R/=256;for(this.u(b),b=Array(16),C=R=0;4>C;++C)for(var N=0;32>N;N+=8)b[R++]=this.g[C]>>>N&255;return b};function i(b,C){var R=a;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=C(b)}function o(b,C){this.h=C;for(var R=[],N=!0,O=b.length-1;0<=O;O--){var D=b[O]|0;N&&D==C||(R[O]=D,N=!1)}this.g=R}var a={};function l(b){return-128<=b&&128>b?i(b,function(C){return new o([C|0],0>C?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return x(u(-b));for(var C=[],R=1,N=0;b>=R;N++)C[N]=b/R|0,R*=4294967296;return new o(C,0)}function d(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return x(d(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(C,8)),N=p,O=0;O<b.length;O+=8){var D=Math.min(8,b.length-O),A=parseInt(b.substring(O,O+D),C);8>D?(D=u(Math.pow(C,D)),N=N.j(D).add(u(A))):(N=N.j(R),N=N.add(u(A)))}return N}var p=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-x(this).m();for(var b=0,C=1,R=0;R<this.g.length;R++){var N=this.i(R);b+=(0<=N?N:4294967296+N)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(y(this))return"-"+x(this).toString(b);for(var C=u(Math.pow(b,6)),R=this,N="";;){var O=I(R,C).g;R=T(R,O.j(C));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(b);if(R=O,_(R))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=T(this,b),y(b)?-1:_(b)?0:1};function x(b){for(var C=b.g.length,R=[],N=0;N<C;N++)R[N]=~b.g[N];return new o(R,~b.h).add(h)}t.abs=function(){return y(this)?x(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],N=0,O=0;O<=C;O++){var D=N+(this.i(O)&65535)+(b.i(O)&65535),A=(D>>>16)+(this.i(O)>>>16)+(b.i(O)>>>16);N=A>>>16,D&=65535,A&=65535,R[O]=A<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function T(b,C){return b.add(x(C))}t.j=function(b){if(_(this)||_(b))return p;if(y(this))return y(b)?x(this).j(x(b)):x(x(this).j(b));if(y(b))return x(this.j(x(b)));if(0>this.l(g)&&0>b.l(g))return u(this.m()*b.m());for(var C=this.g.length+b.g.length,R=[],N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<b.g.length;O++){var D=this.i(N)>>>16,A=this.i(N)&65535,B=b.i(O)>>>16,Z=b.i(O)&65535;R[2*N+2*O]+=A*Z,v(R,2*N+2*O),R[2*N+2*O+1]+=D*Z,v(R,2*N+2*O+1),R[2*N+2*O+1]+=A*B,v(R,2*N+2*O+1),R[2*N+2*O+2]+=D*B,v(R,2*N+2*O+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new o(R,0)};function v(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function S(b,C){this.g=b,this.h=C}function I(b,C){if(_(C))throw Error("division by zero");if(_(b))return new S(p,p);if(y(b))return C=I(x(b),C),new S(x(C.g),x(C.h));if(y(C))return C=I(b,x(C)),new S(x(C.g),C.h);if(30<b.g.length){if(y(b)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var R=h,N=C;0>=N.l(b);)R=k(R),N=k(N);var O=j(R,1),D=j(N,1);for(N=j(N,2),R=j(R,2);!_(N);){var A=D.add(N);0>=A.l(b)&&(O=O.add(R),D=A),N=j(N,1),R=j(R,1)}return C=T(b,O.j(C)),new S(O,C)}for(O=p;0<=b.l(C);){for(R=Math.max(1,Math.floor(b.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=u(R),A=D.j(C);y(A)||0<A.l(b);)R-=N,D=u(R),A=D.j(C);_(D)&&(D=h),O=O.add(D),b=T(b,A)}return new S(O,b)}t.A=function(b){return I(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)&b.i(N);return new o(R,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)|b.i(N);return new o(R,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)^b.i(N);return new o(R,this.h^b.h)};function k(b){for(var C=b.g.length+1,R=[],N=0;N<C;N++)R[N]=b.i(N)<<1|b.i(N-1)>>>31;return new o(R,b.h)}function j(b,C){var R=C>>5;C%=32;for(var N=b.g.length-R,O=[],D=0;D<N;D++)O[D]=0<C?b.i(D+R)>>>C|b.i(D+R+1)<<32-C:b.i(D+R);return new o(O,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,oi=o}).apply(typeof Lx<"u"?Lx:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oI,Ml,aI,xd,Tg,lI,cI,uI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,E){return c==Array.prototype||c==Object.prototype||(c[m]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var E=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var L=c[P];if(!(L in E))break e;E=E[L]}c=c[c.length-1],P=E[c],m=m(P),m!=P&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var E=0,P=!1,L={next:function(){if(!P&&E<c.length){var $=E++;return{value:m($,c[$]),done:!1}}return P=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,E){return c.call.apply(c.bind,arguments)}function p(c,m,E){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,P),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function h(c,m,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,h.apply(null,arguments)}function g(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function _(c,m){function E(){}E.prototype=m.prototype,c.aa=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(P,L,$){for(var J=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)J[Ge-2]=arguments[Ge];return m.prototype[L].apply(P,J)}}function y(c){const m=c.length;if(0<m){const E=Array(m);for(let P=0;P<m;P++)E[P]=c[P];return E}return[]}function x(c,m){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(l(P)){const L=c.length||0,$=P.length||0;c.length=L+$;for(let J=0;J<$;J++)c[L+J]=P[J]}else c.push(P)}}class T{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(c){return/^[\s\xa0]*$/.test(c)}function S(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function j(c,m,E){for(const P in c)m.call(E,c[P],P,c)}function b(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function C(c){const m={};for(const E in c)m[E]=c[E];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,m){let E,P;for(let L=1;L<arguments.length;L++){P=arguments[L];for(E in P)c[E]=P[E];for(let $=0;$<R.length;$++)E=R[$],Object.prototype.hasOwnProperty.call(P,E)&&(c[E]=P[E])}}function O(c){var m=1;c=c.split(":");const E=[];for(;0<m&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function D(c){a.setTimeout(()=>{throw c},0)}function A(){var c=G;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class B{constructor(){this.h=this.g=null}add(m,E){const P=Z.get();P.set(m,E),this.h?this.h.next=P:this.g=P,this.h=P}}var Z=new T(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,V=!1,G=new B,ne=()=>{const c=a.Promise.resolve(void 0);se=()=>{c.then(ee)}};var ee=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(E){D(E)}var m=Z;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}V=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return c}();function Ke(c,m){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(k){e:{try{I(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ke.aa.h.call(this)}}_(Ke,ue);var Se={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),De=0;function We(c,m,E,P,L){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!P,this.ha=L,this.key=++De,this.da=this.fa=!1}function xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c){this.src=c,this.g={},this.h=0}Ce.prototype.add=function(c,m,E,P,L){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var J=pt(c,m,P,L);return-1<J?(m=c[J],E||(m.fa=!1)):(m=new We(m,this.src,$,!!P,L),m.fa=E,c.push(m)),m};function be(c,m){var E=m.type;if(E in c.g){var P=c.g[E],L=Array.prototype.indexOf.call(P,m,void 0),$;($=0<=L)&&Array.prototype.splice.call(P,L,1),$&&(xe(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function pt(c,m,E,P){for(var L=0;L<c.length;++L){var $=c[L];if(!$.da&&$.listener==m&&$.capture==!!E&&$.ha==P)return L}return-1}var _t="closure_lm_"+(1e6*Math.random()|0),mn={};function kt(c,m,E,P,L){if(Array.isArray(m)){for(var $=0;$<m.length;$++)kt(c,m[$],E,P,L);return null}return E=te(E),c&&c[de]?c.K(m,E,u(P)?!!P.capture:!!P,L):Bn(c,m,E,!1,P,L)}function Bn(c,m,E,P,L,$){if(!m)throw Error("Invalid event type");var J=u(L)?!!L.capture:!!L,Ge=F(c);if(Ge||(c[_t]=Ge=new Ce(c)),E=Ge.add(m,E,P,J,$),E.proxy)return E;if(P=Mi(),E.proxy=P,P.src=c,P.listener=E,c.addEventListener)Ae||(L=J),L===void 0&&(L=!1),c.addEventListener(m.toString(),P,L);else if(c.attachEvent)c.attachEvent(ji(m.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Mi(){function c(E){return m.call(c.src,c.listener,E)}const m=M;return c}function ct(c,m,E,P,L){if(Array.isArray(m))for(var $=0;$<m.length;$++)ct(c,m[$],E,P,L);else P=u(P)?!!P.capture:!!P,E=te(E),c&&c[de]?(c=c.i,m=String(m).toString(),m in c.g&&($=c.g[m],E=pt($,E,P,L),-1<E&&(xe($[E]),Array.prototype.splice.call($,E,1),$.length==0&&(delete c.g[m],c.h--)))):c&&(c=F(c))&&(m=c.g[m.toString()],c=-1,m&&(c=pt(m,E,P,L)),(E=-1<c?m[c]:null)&&Zn(E))}function Zn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[de])be(m.i,c);else{var E=c.type,P=c.proxy;m.removeEventListener?m.removeEventListener(E,P,c.capture):m.detachEvent?m.detachEvent(ji(E),P):m.addListener&&m.removeListener&&m.removeListener(P),(E=F(m))?(be(E,c),E.h==0&&(E.src=null,m[_t]=null)):xe(c)}}}function ji(c){return c in mn?mn[c]:mn[c]="on"+c}function M(c,m){if(c.da)c=!0;else{m=new Ke(m,this);var E=c.listener,P=c.ha||c.src;c.fa&&Zn(c),c=E.call(P,m)}return c}function F(c){return c=c[_t],c instanceof Ce?c:null}var z="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(c){return typeof c=="function"?c:(c[z]||(c[z]=function(m){return c.handleEvent(m)}),c[z])}function Q(){oe.call(this),this.i=new Ce(this),this.M=this,this.F=null}_(Q,oe),Q.prototype[de]=!0,Q.prototype.removeEventListener=function(c,m,E,P){ct(this,c,m,E,P)};function K(c,m){var E,P=c.F;if(P)for(E=[];P;P=P.F)E.push(P);if(c=c.M,P=m.type||m,typeof m=="string")m=new ue(m,c);else if(m instanceof ue)m.target=m.target||c;else{var L=m;m=new ue(P,c),N(m,L)}if(L=!0,E)for(var $=E.length-1;0<=$;$--){var J=m.g=E[$];L=ie(J,P,!0,m)&&L}if(J=m.g=c,L=ie(J,P,!0,m)&&L,L=ie(J,P,!1,m)&&L,E)for($=0;$<E.length;$++)J=m.g=E[$],L=ie(J,P,!1,m)&&L}Q.prototype.N=function(){if(Q.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var E=c.g[m],P=0;P<E.length;P++)xe(E[P]);delete c.g[m],c.h--}}this.F=null},Q.prototype.K=function(c,m,E,P){return this.i.add(String(c),m,!1,E,P)},Q.prototype.L=function(c,m,E,P){return this.i.add(String(c),m,!0,E,P)};function ie(c,m,E,P){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,$=0;$<m.length;++$){var J=m[$];if(J&&!J.da&&J.capture==E){var Ge=J.listener,jt=J.ha||J.src;J.fa&&be(c.i,J),L=Ge.call(jt,P)!==!1&&L}}return L&&!P.defaultPrevented}function we(c,m,E){if(typeof c=="function")E&&(c=h(c,E));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Xe(c){c.g=we(()=>{c.g=null,c.i&&(c.i=!1,Xe(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class xt extends oe{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(c){oe.call(this),this.h=c,this.g={}}_(Er,oe);var $r=[];function ws(c){j(c.g,function(m,E){this.g.hasOwnProperty(E)&&Zn(m)},c),c.g={}}Er.prototype.N=function(){Er.aa.N.call(this),ws(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=a.JSON.stringify,In=a.JSON.parse,il=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function me(){}me.prototype.h=null;function qe(c){return c.h||(c.h=c.i())}function ze(){}var Ht={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){ue.call(this,"d")}_(gn,ue);function _s(){ue.call(this,"c")}_(_s,ue);var Br={},I0=null;function au(){return I0=I0||new Q}Br.La="serverreachability";function R0(c){ue.call(this,Br.La,c)}_(R0,ue);function ol(c){const m=au();K(m,new R0(m))}Br.STAT_EVENT="statevent";function P0(c,m){ue.call(this,Br.STAT_EVENT,c),this.stat=m}_(P0,ue);function sn(c){const m=au();K(m,new P0(m,c))}Br.Ma="timingevent";function A0(c,m){ue.call(this,Br.Ma,c),this.size=m}_(A0,ue);function al(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function uN(c,m,E,P,L,$){c.info(function(){if(c.g)if($)for(var J="",Ge=$.split("&"),jt=0;jt<Ge.length;jt++){var Ve=Ge[jt].split("=");if(1<Ve.length){var Wt=Ve[0];Ve=Ve[1];var qt=Wt.split("_");J=2<=qt.length&&qt[1]=="type"?J+(Wt+"="+Ve+"&"):J+(Wt+"=redacted&")}}else J=null;else J=$;return"XMLHTTP REQ ("+P+") [attempt "+L+"]: "+m+`
`+E+`
`+J})}function dN(c,m,E,P,L,$,J){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+L+"]: "+m+`
`+E+`
`+$+" "+J})}function Ro(c,m,E,P){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+fN(c,E)+(P?" "+P:"")})}function hN(c,m){c.info(function(){return"TIMEOUT: "+m})}ll.prototype.info=function(){};function fN(c,m){if(!c.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var P=E[c];if(!(2>P.length)){var L=P[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return zr(E)}catch{return m}}var lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},N0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hf;function cu(){}_(cu,me),cu.prototype.g=function(){return new XMLHttpRequest},cu.prototype.i=function(){return{}},Hf=new cu;function xs(c,m,E,P){this.j=c,this.i=m,this.l=E,this.R=P||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new k0}function k0(){this.i=null,this.g="",this.h=!1}var D0={},Wf={};function qf(c,m,E){c.L=1,c.v=fu(Hr(m)),c.m=E,c.P=!0,O0(c,null)}function O0(c,m){c.F=Date.now(),uu(c),c.A=Hr(c.v);var E=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),G0(E.i,"t",P),c.C=0,E=c.j.J,c.h=new k0,c.g=hw(c.j,E?m:null,!c.m),0<c.O&&(c.M=new xt(h(c.Y,c,c.g),c.O)),m=c.U,E=c.g,P=c.ca;var L="readystatechange";Array.isArray(L)||(L&&($r[0]=L.toString()),L=$r);for(var $=0;$<L.length;$++){var J=kt(E,L[$],P||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ol(),uN(c.i,c.u,c.A,c.l,c.R,c.m)}xs.prototype.ca=function(c){c=c.target;const m=this.M;m&&Wr(c)==3?m.j():this.Y(c)},xs.prototype.Y=function(c){try{if(c==this.g)e:{const qt=Wr(this.g);var m=this.g.Ba();const No=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||tw(this.g)))){this.J||qt!=4||m==7||(m==8||0>=No?ol(3):ol(2)),Kf(this);var E=this.g.Z();this.X=E;t:if(M0(this)){var P=tw(this.g);c="";var L=P.length,$=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Li(this),cl(this);var J="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(P[m],{stream:!($&&m==L-1)});P.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=E==200,dN(this.i,this.u,this.A,this.l,this.R,qt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,jt=this.g;if((Ge=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ge)){var Ve=Ge;break t}}Ve=null}if(E=Ve)Ro(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gf(this,E);else{this.o=!1,this.s=3,sn(12),Li(this),cl(this);break e}}if(this.P){E=!0;let er;for(;!this.J&&this.C<J.length;)if(er=pN(this,J),er==Wf){qt==4&&(this.s=4,sn(14),E=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(er==D0){this.s=4,sn(15),Ro(this.i,this.l,J,"[Invalid Chunk]"),E=!1;break}else Ro(this.i,this.l,er,null),Gf(this,er);if(M0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||J.length!=0||this.h.h||(this.s=1,sn(16),E=!1),this.o=this.o&&E,!E)Ro(this.i,this.l,J,"[Invalid Chunked Response]"),Li(this),cl(this);else if(0<J.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ep(Wt),Wt.M=!0,sn(11))}}else Ro(this.i,this.l,J,null),Gf(this,J);qt==4&&Li(this),this.o&&!this.J&&(qt==4?lw(this.j,this):(this.o=!1,uu(this)))}else NN(this.g),E==400&&0<J.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Li(this),cl(this)}}}catch{}finally{}};function M0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pN(c,m){var E=c.C,P=m.indexOf(`
`,E);return P==-1?Wf:(E=Number(m.substring(E,P)),isNaN(E)?D0:(P+=1,P+E>m.length?Wf:(m=m.slice(P,P+E),c.C=P+E,m)))}xs.prototype.cancel=function(){this.J=!0,Li(this)};function uu(c){c.S=Date.now()+c.I,j0(c,c.I)}function j0(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=al(h(c.ba,c),m)}function Kf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}xs.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(hN(this.i,this.A),this.L!=2&&(ol(),sn(17)),Li(this),this.s=2,cl(this)):j0(this,this.S-c)};function cl(c){c.j.G==0||c.J||lw(c.j,c)}function Li(c){Kf(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,ws(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Gf(c,m){try{var E=c.j;if(E.G!=0&&(E.g==c||Qf(E.h,c))){if(!c.K&&Qf(E.h,c)&&E.G==3){try{var P=E.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var L=P;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)wu(E),yu(E);else break e;Zf(E),sn(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=al(h(E.Za,E),6e3));if(1>=F0(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Fi(E,11)}else if((c.K||E.g==c)&&wu(E),!v(m))for(L=E.Da.g.parse(m),m=0;m<L.length;m++){let Ve=L[m];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const Wt=Ve[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const qt=Ve[4];qt!=null&&(E.Aa=qt,E.j.info("SVER="+E.Aa));const No=Ve[5];No!=null&&typeof No=="number"&&0<No&&(P=1.5*No,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const er=c.g;if(er){const xu=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var $=P.h;$.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Yf($,$.h),$.h=null))}if(P.D){const tp=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;tp&&(P.ya=tp,Ze(P.I,P.D,tp))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var J=c;if(P.qa=dw(P,P.J?P.ia:null,P.W),J.K){U0(P.h,J);var Ge=J,jt=P.L;jt&&(Ge.I=jt),Ge.B&&(Kf(Ge),uu(Ge)),P.g=J}else ow(P);0<E.i.length&&vu(E)}else Ve[0]!="stop"&&Ve[0]!="close"||Fi(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Fi(E,7):Jf(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}ol(4)}catch{}}var mN=class{constructor(c,m){this.g=c,this.map=m}};function L0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function V0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function F0(c){return c.h?1:c.g?c.g.size:0}function Qf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Yf(c,m){c.g?c.g.add(m):c.h=m}function U0(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}L0.prototype.cancel=function(){if(this.i=$0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.D);return m}return y(c.i)}function gN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],E=c.length,P=0;P<E;P++)m.push(c[P]);return m}m=[],E=0;for(P in c)m[E++]=c[P];return m}function yN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var E=0;E<c;E++)m.push(E);return m}m=[],E=0;for(const P in c)m[E++]=P;return m}}}function z0(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var E=yN(c),P=gN(c),L=P.length,$=0;$<L;$++)m.call(void 0,P[$],E&&E[$],c)}var B0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vN(c,m){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var P=c[E].indexOf("="),L=null;if(0<=P){var $=c[E].substring(0,P);L=c[E].substring(P+1)}else $=c[E];m($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vi){this.h=c.h,du(this,c.j),this.o=c.o,this.g=c.g,hu(this,c.s),this.l=c.l;var m=c.i,E=new hl;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),H0(this,E),this.m=c.m}else c&&(m=String(c).match(B0))?(this.h=!1,du(this,m[1]||"",!0),this.o=ul(m[2]||""),this.g=ul(m[3]||"",!0),hu(this,m[4]),this.l=ul(m[5]||"",!0),H0(this,m[6]||"",!0),this.m=ul(m[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}Vi.prototype.toString=function(){var c=[],m=this.j;m&&c.push(dl(m,W0,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(dl(m,W0,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(dl(E,E.charAt(0)=="/"?xN:_N,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",dl(E,TN)),c.join("")};function Hr(c){return new Vi(c)}function du(c,m,E){c.j=E?ul(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function H0(c,m,E){m instanceof hl?(c.i=m,SN(c.i,c.h)):(E||(m=dl(m,EN)),c.i=new hl(m,c.h))}function Ze(c,m,E){c.i.set(m,E)}function fu(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ul(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function dl(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,wN),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var W0=/[#\/\?@]/g,_N=/[#\?:]/g,xN=/[#\?]/g,EN=/[#\?@]/g,TN=/#/g;function hl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Es(c){c.g||(c.g=new Map,c.h=0,c.i&&vN(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=hl.prototype,t.add=function(c,m){Es(this),this.i=null,c=Po(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function q0(c,m){Es(c),m=Po(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function K0(c,m){return Es(c),m=Po(c,m),c.g.has(m)}t.forEach=function(c,m){Es(this),this.g.forEach(function(E,P){E.forEach(function(L){c.call(m,L,P,this)},this)},this)},t.na=function(){Es(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let P=0;P<m.length;P++){const L=c[P];for(let $=0;$<L.length;$++)E.push(m[P])}return E},t.V=function(c){Es(this);let m=[];if(typeof c=="string")K0(this,c)&&(m=m.concat(this.g.get(Po(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)m=m.concat(c[E])}return m},t.set=function(c,m){return Es(this),this.i=null,c=Po(this,c),K0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function G0(c,m,E){q0(c,m),0<E.length&&(c.i=null,c.g.set(Po(c,m),y(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var P=m[E];const $=encodeURIComponent(String(P)),J=this.V(P);for(P=0;P<J.length;P++){var L=$;J[P]!==""&&(L+="="+encodeURIComponent(String(J[P]))),c.push(L)}}return this.i=c.join("&")};function Po(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function SN(c,m){m&&!c.j&&(Es(c),c.i=null,c.g.forEach(function(E,P){var L=P.toLowerCase();P!=L&&(q0(this,P),G0(this,L,E))},c)),c.j=m}function CN(c,m){const E=new ll;if(a.Image){const P=new Image;P.onload=g(Ts,E,"TestLoadImage: loaded",!0,m,P),P.onerror=g(Ts,E,"TestLoadImage: error",!1,m,P),P.onabort=g(Ts,E,"TestLoadImage: abort",!1,m,P),P.ontimeout=g(Ts,E,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else m(!1)}function bN(c,m){const E=new ll,P=new AbortController,L=setTimeout(()=>{P.abort(),Ts(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:P.signal}).then($=>{clearTimeout(L),$.ok?Ts(E,"TestPingServer: ok",!0,m):Ts(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Ts(E,"TestPingServer: error",!1,m)})}function Ts(c,m,E,P,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),P(E)}catch{}}function IN(){this.g=new il}function RN(c,m,E){const P=E||"";try{z0(c,function(L,$){let J=L;u(L)&&(J=zr(L)),m.push(P+$+"="+encodeURIComponent(J))})}catch(L){throw m.push(P+"type="+encodeURIComponent("_badmap")),L}}function pu(c){this.l=c.Ub||null,this.j=c.eb||!1}_(pu,me),pu.prototype.g=function(){return new mu(this.l,this.j)},pu.prototype.i=function(c){return function(){return c}}({});function mu(c,m){Q.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(mu,Q),t=mu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,pl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?fl(this):pl(this),this.readyState==3&&Q0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,fl(this))},t.Qa=function(c){this.g&&(this.response=c,fl(this))},t.ga=function(){this.g&&fl(this)};function fl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pl(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function pl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Y0(c){let m="";return j(c,function(E,P){m+=P,m+=":",m+=E,m+=`\r
`}),m}function Xf(c,m,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Y0(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ze(c,m,E))}function ut(c){Q.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ut,Q);var PN=/^https?$/i,AN=["POST","PUT"];t=ut.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hf.g(),this.v=this.o?qe(this.o):qe(Hf),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){X0(this,$);return}if(c=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var L in P)E.set(L,P[L]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const $ of P.keys())E.set($,P.get($));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AN,m,void 0))||P||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,J]of E)this.g.setRequestHeader($,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ew(this),this.u=!0,this.g.send(c),this.u=!1}catch($){X0(this,$)}};function X0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,J0(c),gu(c)}function J0(c){c.A||(c.A=!0,K(c,"complete"),K(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,K(this,"complete"),K(this,"abort"),gu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gu(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Z0(this):this.bb())},t.bb=function(){Z0(this)};function Z0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Wr(c)!=4||c.Z()!=2)){if(c.u&&Wr(c)==4)we(c.Ea,0,c);else if(K(c,"readystatechange"),Wr(c)==4){c.h=!1;try{const J=c.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var P;if(P=J===0){var L=String(c.D).match(B0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),P=!PN.test(L?L.toLowerCase():"")}E=P}if(E)K(c,"complete"),K(c,"success");else{c.m=6;try{var $=2<Wr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",J0(c)}}finally{gu(c)}}}}function gu(c,m){if(c.g){ew(c);const E=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||K(c,"ready");try{E.onreadystatechange=P}catch{}}}function ew(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Wr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),In(m)}};function tw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function NN(c){const m={};c=(c.g&&2<=Wr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(v(c[P]))continue;var E=O(c[P]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=m[L]||[];m[L]=$,$.push(E)}b(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function nw(c){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,c),this.cb=ml("retryDelaySeedMs",1e4,c),this.Wa=ml("forwardChannelMaxRetries",2,c),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new L0(c&&c.concurrentRequestLimit),this.Da=new IN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nw.prototype,t.la=8,t.G=1,t.connect=function(c,m,E,P){sn(0),this.W=c,this.H=m||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=dw(this,null,this.W),vu(this)};function Jf(c){if(rw(c),c.G==3){var m=c.U++,E=Hr(c.I);if(Ze(E,"SID",c.K),Ze(E,"RID",m),Ze(E,"TYPE","terminate"),gl(c,E),m=new xs(c,c.j,m),m.L=2,m.v=fu(Hr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=hw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),uu(m)}uw(c)}function yu(c){c.g&&(ep(c),c.g.cancel(),c.g=null)}function rw(c){yu(c),c.u&&(a.clearTimeout(c.u),c.u=null),wu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function vu(c){if(!V0(c.h)&&!c.s){c.s=!0;var m=c.Ga;se||ne(),V||(se(),V=!0),G.add(m,c),c.B=0}}function kN(c,m){return F0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=al(h(c.Ga,c,m),cw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new xs(this,this.j,c);let $=this.o;if(this.S&&($?($=C($),N($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=iw(this,L,m),E=Hr(this.I),Ze(E,"RID",c),Ze(E,"CVER",22),this.D&&Ze(E,"X-HTTP-Session-Id",this.D),gl(this,E),$&&(this.O?m="headers="+encodeURIComponent(String(Y0($)))+"&"+m:this.m&&Xf(E,this.m,$)),Yf(this.h,L),this.Ua&&Ze(E,"TYPE","init"),this.P?(Ze(E,"$req",m),Ze(E,"SID","null"),L.T=!0,qf(L,E,null)):qf(L,E,m),this.G=2}}else this.G==3&&(c?sw(this,c):this.i.length==0||V0(this.h)||sw(this))};function sw(c,m){var E;m?E=m.l:E=c.U++;const P=Hr(c.I);Ze(P,"SID",c.K),Ze(P,"RID",E),Ze(P,"AID",c.T),gl(c,P),c.m&&c.o&&Xf(P,c.m,c.o),E=new xs(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),m&&(c.i=m.D.concat(c.i)),m=iw(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yf(c.h,E),qf(E,P,m)}function gl(c,m){c.H&&j(c.H,function(E,P){Ze(m,P,E)}),c.l&&z0({},function(E,P){Ze(m,P,E)})}function iw(c,m,E){E=Math.min(c.i.length,E);var P=c.l?h(c.l.Na,c.l,c):null;e:{var L=c.i;let $=-1;for(;;){const J=["count="+E];$==-1?0<E?($=L[0].g,J.push("ofs="+$)):$=0:J.push("ofs="+$);let Ge=!0;for(let jt=0;jt<E;jt++){let Ve=L[jt].g;const Wt=L[jt].map;if(Ve-=$,0>Ve)$=Math.max(0,L[jt].g-100),Ge=!1;else try{RN(Wt,J,"req"+Ve+"_")}catch{P&&P(Wt)}}if(Ge){P=J.join("&");break e}}}return c=c.i.splice(0,E),m.D=c,P}function ow(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;se||ne(),V||(se(),V=!0),G.add(m,c),c.v=0}}function Zf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=al(h(c.Fa,c),cw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,aw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=al(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),yu(this),aw(this))};function ep(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function aw(c){c.g=new xs(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Hr(c.qa);Ze(m,"RID","rpc"),Ze(m,"SID",c.K),Ze(m,"AID",c.T),Ze(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(m,"TO",c.ja),Ze(m,"TYPE","xmlhttp"),gl(c,m),c.m&&c.o&&Xf(m,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=fu(Hr(m)),E.m=null,E.P=!0,O0(E,c)}t.Za=function(){this.C!=null&&(this.C=null,yu(this),Zf(this),sn(19))};function wu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function lw(c,m){var E=null;if(c.g==m){wu(c),ep(c),c.g=null;var P=2}else if(Qf(c.h,m))E=m.D,U0(c.h,m),P=1;else return;if(c.G!=0){if(m.o)if(P==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;P=au(),K(P,new A0(P,E)),vu(c)}else ow(c);else if(L=m.s,L==3||L==0&&0<m.X||!(P==1&&kN(c,m)||P==2&&Zf(c)))switch(E&&0<E.length&&(m=c.h,m.i=m.i.concat(E)),L){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function cw(c,m){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*m}function Fi(c,m){if(c.j.info("Error code "+m),m==2){var E=h(c.fb,c),P=c.Xa;const L=!P;P=new Vi(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||du(P,"https"),fu(P),L?CN(P.toString(),E):bN(P.toString(),E)}else sn(2);c.G=0,c.l&&c.l.sa(m),uw(c),rw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function uw(c){if(c.G=0,c.ka=[],c.l){const m=$0(c.h);(m.length!=0||c.i.length!=0)&&(x(c.ka,m),x(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function dw(c,m,E){var P=E instanceof Vi?Hr(E):new Vi(E);if(P.g!="")m&&(P.g=m+"."+P.g),hu(P,P.s);else{var L=a.location;P=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var $=new Vi(null);P&&du($,P),m&&($.g=m),L&&hu($,L),E&&($.l=E),P=$}return E=c.D,m=c.ya,E&&m&&Ze(P,E,m),Ze(P,"VER",c.la),gl(c,P),P}function hw(c,m,E){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ut(new pu({eb:E})):new ut(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fw(){}t=fw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _u(){}_u.prototype.g=function(c,m){return new Rn(c,m)};function Rn(c,m){Q.call(this),this.g=new nw(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!v(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ao(this)}_(Rn,Q),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Jf(this.g)},Rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=zr(c),c=E);m.i.push(new mN(m.Ya++,c)),m.G==3&&vu(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Jf(this.g),delete this.g,Rn.aa.N.call(this)};function pw(c){gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}_(pw,gn);function mw(){_s.call(this),this.status=1}_(mw,_s);function Ao(c){this.g=c}_(Ao,fw),Ao.prototype.ua=function(){K(this.g,"a")},Ao.prototype.ta=function(c){K(this.g,new pw(c))},Ao.prototype.sa=function(c){K(this.g,new mw)},Ao.prototype.ra=function(){K(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,uI=function(){return new _u},cI=function(){return au()},lI=Br,Tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,xd=lu,N0.COMPLETE="complete",aI=N0,ze.EventType=Ht,Ht.OPEN="a",Ht.CLOSE="b",Ht.ERROR="c",Ht.MESSAGE="d",Q.prototype.listen=Q.prototype.K,Ml=ze,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,oI=ut}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const Vx="@firebase/firestore",Fx="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new yv("@firebase/firestore");function Lo(){return po.logLevel}function ae(t,...e){if(po.logLevel<=Ne.DEBUG){const n=e.map(Rv);po.debug(`Firestore (${Za}): ${t}`,...n)}}function hs(t,...e){if(po.logLevel<=Ne.ERROR){const n=e.map(Rv);po.error(`Firestore (${Za}): ${t}`,...n)}}function Ma(t,...e){if(po.logLevel<=Ne.WARN){const n=e.map(Rv);po.warn(`Firestore (${Za}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+t;throw hs(e),new Error(e)}function $e(t,e){t||ge()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class n5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r5{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new dI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Jt(e)}}class s5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class i5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new s5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ux(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new Ux(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=a5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Sg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ie(r,s);{const i=hI(),o=l5(i.encode($x(t,n)),i.encode($x(e,n)));return o!==0?o:Ie(r,s)}}n+=r>65535?2:1}return Ie(t.length,e.length)}function $x(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function l5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ie(t[n],e[n]);return Ie(t.length,e.length)}function ja(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=-62135596800,Bx=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Bx);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zx)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bx}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Pt(0,0))}static max(){return new ye(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="__name__";class Cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Cr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Cr.isNumericId(e),s=Cr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Sg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}}class nt extends Cr{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const c5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Cr{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return c5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hx}static keyField(){return new Ut([Hx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ce(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ce(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(nt.fromString(e))}static fromName(e){return new he(nt.fromString(e).popFirst(5))}static empty(){return new he(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function u5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new mi(s,he.empty(),e)}function d5(t){return new mi(t.readTime,t.key,Rc)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ye.min(),he.empty(),Rc)}static max(){return new mi(ye.max(),he.empty(),Rc)}}function h5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==f5)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function m5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_f.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=-1;function xf(t){return t==null}function wh(t){return t===0&&1/t==-1/0}function g5(t){return typeof t=="number"&&Number.isInteger(t)&&!wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="";function y5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Wx(e)),e=v5(t.get(n),e);return Wx(e)}function v5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case pI:n+="";break;default:n+=i}}return n}function Wx(t){return t+pI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=s??Ft.EMPTY,this.right=i??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ft(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kx(this.data.getIterator())}getIteratorFrom(e){return new Kx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class Kx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new At(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new gI("Invalid base64 string: "+i):i}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const w5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if($e(!!t),typeof t=="string"){let e=0;const n=w5.exec(t);if($e(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="server_timestamp",vI="__type__",wI="__previous_value__",_I="__local_write_time__";function Av(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vI])===null||n===void 0?void 0:n.stringValue)===yI}function Ef(t){const e=t.mapValue.fields[wI];return Av(e)?Ef(e):e}function Pc(t){const e=gi(t.mapValue.fields[_I].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const _h="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="__type__",EI="__max__",Gu={mapValue:{fields:{__type__:{stringValue:EI}}}},TI="__vector__",xh="value";function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Av(t)?4:E5(t)?9007199254740991:x5(t)?10:11:ge()}function Fr(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gi(s.timestampValue),a=gi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return yi(s.bytesValue).isEqual(yi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),a=mt(i.doubleValue);return o===a?wh(o)===wh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ja(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(qx(o)!==qx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Nc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function La(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=mt(i.integerValue||i.doubleValue),l=mt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Gx(t.timestampValue,e.timestampValue);case 4:return Gx(Pc(t),Pc(e));case 5:return Sg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=yi(i),l=yi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ie(a[u],l[u]);if(d!==0)return d}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(mt(i.latitude),mt(o.latitude));return a!==0?a:Ie(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const p=i.fields||{},h=o.fields||{},g=(a=p[xh])===null||a===void 0?void 0:a.arrayValue,_=(l=h[xh])===null||l===void 0?void 0:l.arrayValue,y=Ie(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:Qx(g,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Gu.mapValue&&o===Gu.mapValue)return 0;if(i===Gu.mapValue)return 1;if(o===Gu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const h=Sg(l[p],d[p]);if(h!==0)return h;const g=La(a[l[p]],u[d[p]]);if(g!==0)return g}return Ie(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ge()}}function Gx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=gi(t),r=gi(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function Qx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=La(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Va(t){return Cg(t)}function Cg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Cg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Cg(n.fields[o])}`;return s+"}"}(t.mapValue):ge()}function Ed(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(t);return e?16+Ed(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ed(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ai(r.fields,(i,o)=>{s+=i.length+Ed(o)}),s}(t.mapValue);default:throw ge()}}function Yx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bg(t){return!!t&&"integerValue"in t}function Nv(t){return!!t&&"arrayValue"in t}function Xx(t){return!!t&&"nullValue"in t}function Jx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function x5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xI])===null||n===void 0?void 0:n.stringValue)===TI}function Xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ai(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Ut.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Xl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ai(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new wn(Xl(this.value))}}function SI(t){const e=[];return Ai(t.fields,(n,r)=>{const s=new Ut([n]);if(Td(r)){const i=SI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new en(e,0,ye.min(),ye.min(),ye.min(),wn.empty(),0)}static newFoundDocument(e,n,r,s){return new en(e,1,n,ye.min(),r,s,0)}static newNoDocument(e,n){return new en(e,2,n,ye.min(),ye.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ye.min(),ye.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function Zx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=La(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function eE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function T5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{}class St extends CI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C5(e,n,r):n==="array-contains"?new R5(e,r):n==="in"?new P5(e,r):n==="not-in"?new A5(e,r):n==="array-contains-any"?new N5(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b5(e,r):new I5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(La(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(La(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends CI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new wr(e,n)}matches(e){return bI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bI(t){return t.op==="and"}function II(t){return S5(t)&&bI(t)}function S5(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function Ig(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Va(t.value);if(II(t))return t.filters.map(e=>Ig(e)).join(",");{const e=t.filters.map(n=>Ig(n)).join(",");return`${t.op}(${e})`}}function RI(t,e){return t instanceof St?function(r,s){return s instanceof St&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof wr?function(r,s){return s instanceof wr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&RI(o,s.filters[a]),!0):!1}(t,e):void ge()}function PI(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${Va(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(PI).join(" ,")+"}"}(t):"Filter"}class C5 extends St{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class b5 extends St{constructor(e,n){super(e,"in",n),this.keys=AI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I5 extends St{constructor(e,n){super(e,"not-in",n),this.keys=AI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class R5 extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nv(n)&&Nc(n.arrayValue,this.value)}}class P5 extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}}class A5 extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nc(this.value.arrayValue,n)}}class N5 extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function tE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new k5(t,e,n,r,s,i,o)}function kv(t){const e=ve(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ig(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Va(r)).join(",")),e.le=n}return e.le}function Dv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eE(t.startAt,e.startAt)&&eE(t.endAt,e.endAt)}function Rg(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function D5(t,e,n,r,s,i,o,a){return new Jc(t,e,n,r,s,i,o,a)}function Ov(t){return new Jc(t)}function nE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NI(t){return t.collectionGroup!==null}function Jl(t){const e=ve(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(Ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Th(i,r))}),n.has(Ut.keyField().canonicalString())||e.he.push(new Th(Ut.keyField(),r))}return e.he}function jr(t){const e=ve(t);return e.Pe||(e.Pe=O5(e,Jl(t))),e.Pe}function O5(t,e){if(t.limitType==="F")return tE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Th(s.field,i)});const n=t.endAt?new Eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eh(t.startAt.position,t.startAt.inclusive):null;return tE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pg(t,e){const n=t.filters.concat([e]);return new Jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ag(t,e,n){return new Jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tf(t,e){return Dv(jr(t),jr(e))&&t.limitType===e.limitType}function kI(t){return`${kv(jr(t))}|lt:${t.limitType}`}function Vo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>PI(s)).join(", ")}]`),xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Va(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Va(s)).join(",")),`Target(${r})`}(jr(t))}; limitType=${t.limitType})`}function Sf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Zx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Jl(r),s)||r.endAt&&!function(o,a,l){const u=Zx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Jl(r),s))}(t,e)}function M5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DI(t){return(e,n)=>{let r=!1;for(const s of Jl(t)){const i=j5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function j5(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?La(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return mI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new lt(he.comparator);function fs(){return L5}const OI=new lt(he.comparator);function jl(...t){let e=OI;for(const n of t)e=e.insert(n.key,n);return e}function MI(t){let e=OI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return Zl()}function jI(){return Zl()}function Zl(){return new Co(t=>t.toString(),(t,e)=>t.isEqual(e))}const V5=new lt(he.comparator),F5=new At(he.comparator);function ke(...t){let e=F5;for(const n of t)e=e.add(n);return e}const U5=new At(Ie);function $5(){return U5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function LI(t){return{integerValue:""+t}}function z5(t,e){return g5(e)?LI(e):Mv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this._=void 0}}function B5(t,e,n){return t instanceof Sh?function(s,i){const o={fields:{[vI]:{stringValue:yI},[_I]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Av(i)&&(i=Ef(i)),i&&(o.fields[wI]=i),{mapValue:o}}(n,e):t instanceof kc?FI(t,e):t instanceof Dc?UI(t,e):function(s,i){const o=VI(s,i),a=rE(o)+rE(s.Ie);return bg(o)&&bg(s.Ie)?LI(a):Mv(s.serializer,a)}(t,e)}function H5(t,e,n){return t instanceof kc?FI(t,e):t instanceof Dc?UI(t,e):n}function VI(t,e){return t instanceof Ch?function(r){return bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Sh extends Cf{}class kc extends Cf{constructor(e){super(),this.elements=e}}function FI(t,e){const n=$I(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Dc extends Cf{constructor(e){super(),this.elements=e}}function UI(t,e){let n=$I(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class Ch extends Cf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function rE(t){return mt(t.integerValue||t.doubleValue)}function $I(t){return Nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function W5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof kc&&s instanceof kc||r instanceof Dc&&s instanceof Dc?ja(r.elements,s.elements,Fr):r instanceof Ch&&s instanceof Ch?Fr(r.Ie,s.Ie):r instanceof Sh&&s instanceof Sh}(t.transform,e.transform)}class q5{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bf{}function zI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,Yn.none()):new Zc(t.key,t.data,Yn.none());{const n=t.data,r=wn.empty();let s=new At(Ut.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ni(t.key,r,new Mn(s.toArray()),Yn.none())}}function K5(t,e,n){t instanceof Zc?function(s,i,o){const a=s.value.clone(),l=iE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(s,i,o){if(!Sd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=iE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(BI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n,r){return t instanceof Zc?function(i,o,a,l){if(!Sd(i.precondition,o))return a;const u=i.value.clone(),d=oE(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ni?function(i,o,a,l){if(!Sd(i.precondition,o))return a;const u=oE(i.fieldTransforms,l,o),d=o.data;return d.setAll(BI(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Sd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function G5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=VI(r.transform,s||null);i!=null&&(n===null&&(n=wn.empty()),n.set(r.field,i))}return n||null}function sE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ja(r,s,(i,o)=>W5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zc extends bf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ni extends bf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function BI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iE(t,e,n){const r=new Map;$e(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,H5(o,a,n[s]))}return r}function oE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,B5(i,o,e))}return r}class jv extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q5 extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&K5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=zI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,(n,r)=>sE(n,r))&&ja(this.baseMutations,e.baseMutations,(n,r)=>sE(n,r))}}class Lv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){$e(e.mutations.length===r.length);let s=function(){return V5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Lv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Me;function Z5(t){switch(t){case q.OK:return ge();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ge()}}function HI(t){if(t===void 0)return hs("GRPC error has no .code"),q.UNKNOWN;switch(t){case Et.OK:return q.OK;case Et.CANCELLED:return q.CANCELLED;case Et.UNKNOWN:return q.UNKNOWN;case Et.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Et.INTERNAL:return q.INTERNAL;case Et.UNAVAILABLE:return q.UNAVAILABLE;case Et.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Et.NOT_FOUND:return q.NOT_FOUND;case Et.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Et.ABORTED:return q.ABORTED;case Et.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Et.DATA_LOSS:return q.DATA_LOSS;default:return ge()}}(Me=Et||(Et={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new oi([4294967295,4294967295],0);function aE(t){const e=hI().encode(t),n=new iI;return n.update(e),new Uint8Array(n.digest())}function lE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new oi([n,r],0),new oi([s,i],0)]}class Vv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=oi.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(oi.fromNumber(r)));return s.compare(e6)===1&&(s=new oi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=aE(e),[r,s]=lE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Vv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=aE(e),[r,s]=lE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new If(ye.min(),s,new lt(Ie),fs(),ke())}}class eu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new eu(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class WI{constructor(e,n){this.targetId=e,this.ge=n}}class qI{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cE{constructor(){this.pe=0,this.ye=uE(),this.we=Bt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),n=ke(),r=ke();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ge()}}),new eu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=uE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class t6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fs(),this.$e=Qu(),this.Ue=Qu(),this.Ke=new lt(Ie)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Rg(i))if(r===0){const o=new he(i.path);this.ze(n,o,en.newNoDocument(o,ye.min()))}else $e(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(l){if(l instanceof gI)return Ma("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Vv(o,s,i)}catch(l){return Ma(l instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Rg(a.target)){const l=new he(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,en.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=ke();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new If(e,n,this.Ke,this.Qe,r);return this.Qe=fs(),this.$e=Qu(),this.Ue=Qu(),this.Ke=new lt(Ie),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new cE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new At(Ie),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new At(Ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new lt(he.comparator)}function uE(){return new lt(he.comparator)}const n6={asc:"ASCENDING",desc:"DESCENDING"},r6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s6={and:"AND",or:"OR"};class i6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ng(t,e){return t.useProto3Json||xf(e)?e:{value:e}}function bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o6(t,e){return bh(t,e.toTimestamp())}function Lr(t){return $e(!!t),ye.fromTimestamp(function(n){const r=gi(n);return new Pt(r.seconds,r.nanos)}(t))}function Fv(t,e){return kg(t,e).canonicalString()}function kg(t,e){const n=function(s){return new nt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GI(t){const e=nt.fromString(t);return $e(ZI(e)),e}function Dg(t,e){return Fv(t.databaseId,e.path)}function Hp(t,e){const n=GI(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(YI(n))}function QI(t,e){return Fv(t.databaseId,e)}function a6(t){const e=GI(t);return e.length===4?nt.emptyPath():YI(e)}function Og(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YI(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dE(t,e,n){return{name:Dg(t,e),fields:n.value.mapValue.fields}}function l6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?($e(d===void 0||typeof d=="string"),Bt.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?q.UNKNOWN:HI(u.code);return new ce(d,u.message||"")}(o);n=new qI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Hp(t,r.document.name),i=Lr(r.document.updateTime),o=r.document.createTime?Lr(r.document.createTime):ye.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Cd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Hp(t,r.document),i=r.readTime?Lr(r.readTime):ye.min(),o=en.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Hp(t,r.document),i=r.removedTargetIds||[];n=new Cd([],i,s,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new J5(s,i),a=r.targetId;n=new WI(a,o)}}return n}function c6(t,e){let n;if(e instanceof Zc)n={update:dE(t,e.key,e.value)};else if(e instanceof jv)n={delete:Dg(t,e.key)};else if(e instanceof Ni)n={update:dE(t,e.key,e.data),updateMask:v6(e.fieldMask)};else{if(!(e instanceof Q5))return ge();n={verify:Dg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Sh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof kc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ch)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:o6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(t,e.precondition)),n}function u6(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Lr(s.updateTime):Lr(i);return o.isEqual(ye.min())&&(o=Lr(i)),new q5(o,s.transformResults||[])}(n,e))):[]}function d6(t,e){return{documents:[QI(t,e.path)]}}function h6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QI(t,s);const i=function(u){if(u.length!==0)return JI(wr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Fo(h.field),direction:m6(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ng(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:s}}function f6(t){let e=a6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){$e(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const h=XI(p);return h instanceof wr&&II(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(h=>function(_){return new Th(Uo(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(p){let h;return h=typeof p=="object"?p.value:p,xf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(p){const h=!!p.before,g=p.values||[];return new Eh(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const h=!p.before,g=p.values||[];return new Eh(g,h)}(n.endAt)),D5(e,s,o,i,a,"F",l,u)}function p6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Uo(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Uo(n.unaryFilter.field);return St.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Uo(n.unaryFilter.field);return St.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uo(n.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return St.create(Uo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>XI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function m6(t){return n6[t]}function g6(t){return r6[t]}function y6(t){return s6[t]}function Fo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return Ut.fromServerFormat(t.fieldPath)}function JI(t){return t instanceof St?function(n){if(n.op==="=="){if(Jx(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(Xx(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jx(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(Xx(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:g6(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(s=>JI(s));return r.length===1?r[0]:{compositeFilter:{op:y6(n.op),filters:r}}}(t):ge()}function v6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,s,i=ye.min(),o=ye.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.Tt=e}}function _6(t){const e=f6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.Tn=new E6}addToCollectionParentIndex(e,n){return this.Tn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(mi.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class E6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new At(nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eR=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(eR,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Fa(0)}static Kn(){return new Fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LruGarbageCollector",T6=1048576;function pE([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class S6{constructor(e){this.Hn=e,this.buffer=new At(pE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(fE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?ae(fE,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.er(3e5)})}}class b6{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(_f.ae);const r=new S6(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(hE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Lo()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function I6(t,e){return new b6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.changes=new Co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ec(r.mutation,s,Mn.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const s=qi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=jl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=fs();const o=Zl(),a=function(){return Zl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Ni)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ec(d.mutation,u,d.mutation.getFieldMask(),Pt.now())):o.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new P6(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zl();let s=new lt((o,a)=>o-a),i=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const p=(s.get(a.batchId)||ke()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,p=jI();d.forEach(h=>{if(!i.has(h)){const g=zI(n.get(h),r.get(h));g!==null&&p.set(h,g),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(qi());let a=Rc,l=i;return o.next(u=>H.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ke())).next(d=>({batchId:a,changes:MI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let s=jl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=jl();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const u=function(p,h){return new Jc(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((p,h)=>{o=o.insert(p,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,en.newInvalidDocument(d)))});let a=jl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&ec(d.mutation,u,Mn.empty(),Pt.now()),Sf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return H.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Lr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:_6(s.bundledQuery),readTime:Lr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.overlays=new lt(he.comparator),this.Rr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=qi(),i=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new lt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=qi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=qi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return H.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new X5(n,r));let i=this.Rr.get(n);i===void 0&&(i=ke(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.Vr=new At(Dt.mr),this.gr=new At(Dt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Dt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new he(new nt([])),r=new Dt(n,e),s=new Dt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new he(new nt([])),r=new Dt(n,e),s=new Dt(n,e+1);let i=ke();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Dt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return he.comparator(e.key,n.key)||Ie(e.Cr,n.Cr)}static pr(e,n){return Ie(e.Cr,n.Cr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new At(Dt.mr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Y5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new Dt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Pv:this.Fr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),s=new Dt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ie);return n.forEach(s=>{const i=new Dt(s,0),o=new Dt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),H.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const o=new Dt(new he(i),0);let a=new At(Ie);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Cr)),!0)},o),H.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return H.forEach(n.mutations,s=>{const i=new Dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Dt(n,0),s=this.Mr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.kr=e,this.docs=function(){return new lt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=fs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():en.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=fs();const o=n.path,a=new he(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||h5(d5(d),r)<=0||(s.has(d.key)||Sf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ge()}qr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new j6(this)}getSize(e){return H.resolve(this.size)}}class j6 extends R6{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.persistence=e,this.Qr=new Co(n=>kv(n),Dv),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Uv,this.targetCount=0,this.Kr=Fa.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),H.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.zn(n),H.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new _f(0),this.zr=!1,this.zr=!0,this.jr=new D6,this.referenceDelegate=e(this),this.Hr=new L6(this),this.indexManager=new x6,this.remoteDocumentCache=function(s){return new M6(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new w6(n),this.Yr=new N6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new O6(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new V6(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return H.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class V6 extends p5{constructor(e){super(),this.currentSequenceNumber=e}}class $v{constructor(e){this.persistence=e,this.ti=new Uv,this.ni=null}static ri(e){return new $v(e)}get ii(){if(this.ni)return this.ni;throw ge()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),H.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ii,r=>{const s=he.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,ye.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return H.or([()=>H.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.oi=new Co(r=>y5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=I6(this,n)}static ri(e,n){return new Ih(e,n)}Zr(){}Xr(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return H.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ye.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),H.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}ar(e,n,r){return H.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=ke(),s=ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new zv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yF()?8:m5(rn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new F6;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Lo()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),H.resolve()):(Lo()<=Ne.DEBUG&&ae("QueryEngine","Query:",Vo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Lo()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):H.resolve())}rs(e,n){if(nE(n))return H.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ag(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ke(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,Ag(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,s){return nE(n)||s.isEqual(ye.min())?H.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?H.resolve(null):(Lo()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vo(n)),this.hs(e,o,n,u5(s,Rc)).next(a=>a))})}cs(e,n){let r=new At(DI(e));return n.forEach((s,i)=>{Sf(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Lo()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Vo(n)),this.ns.getDocumentsMatchingQuery(e,n,mi.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="LocalStore",$6=3e8;class z6{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new lt(Ie),this.Is=new Co(i=>kv(i),Dv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A6(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function B6(t,e,n,r){return new z6(t,e,n,r)}async function nR(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ke();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function H6(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const p=u.batch,h=p.keys();let g=H.resolve();return h.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(y=>{const x=u.docVersions.get(_);$e(x!==null),y.version.compareTo(x)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rR(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function W6(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((d,p)=>{const h=s.get(p);if(!h)return;a.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,p)));let g=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Bt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(p,g),function(y,x,T){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=$6?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,g,d)&&a.push(n.Hr.updateTargetData(i,g))});let l=fs(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(q6(i,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(ye.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(p=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ts=s,i))}function q6(t,e,n){let r=ke(),s=ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=fs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae(Bv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function K6(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Pv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G6(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Ks(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Mg(t,e,n){const r=ve(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!tl(o))throw o;ae(Bv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function mE(t,e,n){const r=ve(t);let s=ye.min(),i=ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const p=ve(l),h=p.Is.get(d);return h!==void 0?H.resolve(p.Ts.get(h)):p.Hr.getTargetData(u,d)}(r,o,jr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:ye.min(),n?i:ke())).next(a=>(Q6(r,M5(e),a),{documents:a,gs:i})))}function Q6(t,e,n){let r=t.Es.get(e)||ye.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class gE{constructor(){this.activeTargetIds=$5()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y6{constructor(){this.ho=new gE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new gE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class vE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function jg(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="RestConnection",J6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=jg(),a=this.bo(e,n.toUriEncodedString());ae(Wp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(u=>(ae(Wp,`Received RPC '${e}' ${o}: `,u),u),u=>{throw Ma(Wp,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=J6[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class t9 extends Z6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=jg();return new Promise((o,a)=>{const l=new oI;l.setWithCredentials(!0),l.listenOnce(aI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xd.NO_ERROR:const d=l.getResponseJson();ae(Yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case xd.TIMEOUT:ae(Yt,`RPC '${e}' ${i} timed out`),a(new ce(q.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const p=l.getStatus();if(ae(Yt,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const _=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(T)>=0?T:q.UNKNOWN}(g.status);a(new ce(_,g.message))}else a(new ce(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(q.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ae(Yt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ae(Yt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const s=jg(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uI(),a=cI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ae(Yt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);let h=!1,g=!1;const _=new e9({Fo:x=>{g?ae(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(h||(ae(Yt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),h=!0),ae(Yt,`RPC '${e}' stream ${s} sending:`,x),p.send(x))},Mo:()=>p.close()}),y=(x,T,v)=>{x.listen(T,S=>{try{v(S)}catch(I){setTimeout(()=>{throw I},0)}})};return y(p,Ml.EventType.OPEN,()=>{g||(ae(Yt,`RPC '${e}' stream ${s} transport opened.`),_.Qo())}),y(p,Ml.EventType.CLOSE,()=>{g||(g=!0,ae(Yt,`RPC '${e}' stream ${s} transport closed`),_.Uo())}),y(p,Ml.EventType.ERROR,x=>{g||(g=!0,Ma(Yt,`RPC '${e}' stream ${s} transport errored:`,x),_.Uo(new ce(q.UNAVAILABLE,"The operation could not be completed")))}),y(p,Ml.EventType.MESSAGE,x=>{var T;if(!g){const v=x.data[0];$e(!!v);const S=v,I=(S==null?void 0:S.error)||((T=S[0])===null||T===void 0?void 0:T.error);if(I){ae(Yt,`RPC '${e}' stream ${s} received error:`,I);const k=I.status;let j=function(R){const N=Et[R];if(N!==void 0)return HI(N)}(k),b=I.message;j===void 0&&(j=q.INTERNAL,b="Unknown error status: "+k+" with message "+I.message),g=!0,_.Uo(new ce(j,b)),p.close()}else ae(Yt,`RPC '${e}' stream ${s} received:`,v),_.Ko(v)}}),y(a,lI.STAT_EVENT,x=>{x.stat===Tg.PROXY?ae(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Tg.NOPROXY&&ae(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){return new i6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class iR{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ce(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(wE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n9 extends iR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=l6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Lr(o.readTime):ye.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Og(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Rg(l)?{documents:d6(i,l)}:{query:h6(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KI(i,o.resumeToken);const u=Ng(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=bh(i,o.snapshotVersion.toTimestamp());const u=Ng(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=p6(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Og(this.serializer),n.removeTarget=e,this.I_(n)}}class r9 extends iR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=u6(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Og(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>c6(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{}class i9 extends s9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,kg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(q.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,kg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(q.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class o9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hs(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class a9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{bo(this)&&(ae(mo,"Restarting streams for network reachability change."),await async function(l){const u=ve(l);u.W_.add(4),await tu(u),u.j_.set("Unknown"),u.W_.delete(4),await Pf(u)}(this))})}),this.j_=new o9(r,s)}}async function Pf(t){if(bo(t))for(const e of t.G_)await e(!0)}async function tu(t){for(const e of t.G_)await e(!1)}function oR(t,e){const n=ve(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Kv(n)?qv(n):nl(n).c_()&&Wv(n,e))}function Hv(t,e){const n=ve(t),r=nl(n);n.K_.delete(e),r.c_()&&aR(n,e),n.K_.size===0&&(r.c_()?r.P_():bo(n)&&n.j_.set("Unknown"))}function Wv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).y_(e)}function aR(t,e){t.H_.Ne(e),nl(t).w_(e)}function qv(t){t.H_=new t6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.j_.B_()}function Kv(t){return bo(t)&&!nl(t).u_()&&t.K_.size>0}function bo(t){return ve(t).W_.size===0}function lR(t){t.H_=void 0}async function l9(t){t.j_.set("Online")}async function c9(t){t.K_.forEach((e,n)=>{Wv(t,e)})}async function u9(t,e){lR(t),Kv(t)?(t.j_.q_(e),qv(t)):t.j_.set("Unknown")}async function d9(t,e,n){if(t.j_.set("Online"),e instanceof qI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.K_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.K_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){ae(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(t,r)}else if(e instanceof Cd?t.H_.We(e):e instanceof WI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ye.min()))try{const r=await rR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.K_.get(u);d&&i.K_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.K_.get(l);if(!d)return;i.K_.set(l,d.withResumeToken(Bt.EMPTY_BYTE_STRING,d.snapshotVersion)),aR(i,l);const p=new Ks(d.target,l,u,d.sequenceNumber);Wv(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae(mo,"Failed to raise snapshot:",r),await Rh(t,r)}}async function Rh(t,e,n){if(!tl(e))throw e;t.W_.add(1),await tu(t),t.j_.set("Offline"),n||(n=()=>rR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae(mo,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Pf(t)})}function cR(t,e){return e().catch(n=>Rh(t,n,e))}async function Af(t){const e=ve(t),n=wi(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Pv;for(;h9(e);)try{const s=await K6(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,f9(e,s)}catch(s){await Rh(e,s)}uR(e)&&dR(e)}function h9(t){return bo(t)&&t.U_.length<10}function f9(t,e){t.U_.push(e);const n=wi(t);n.c_()&&n.S_&&n.b_(e.mutations)}function uR(t){return bo(t)&&!wi(t).u_()&&t.U_.length>0}function dR(t){wi(t).start()}async function p9(t){wi(t).C_()}async function m9(t){const e=wi(t);for(const n of t.U_)e.b_(n.mutations)}async function g9(t,e,n){const r=t.U_.shift(),s=Lv.from(r,e,n);await cR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Af(t)}async function y9(t,e){e&&wi(t).S_&&await async function(r,s){if(function(o){return Z5(o)&&o!==q.ABORTED}(s.code)){const i=r.U_.shift();wi(r).h_(),await cR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Af(r)}}(t,e),uR(t)&&dR(t)}async function _E(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),ae(mo,"RemoteStore received new credentials");const r=bo(n);n.W_.add(3),await tu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Pf(n)}async function v9(t,e){const n=ve(t);e?(n.W_.delete(2),await Pf(n)):e||(n.W_.add(2),await tu(n),n.j_.set("Unknown"))}function nl(t){return t.J_||(t.J_=function(n,r,s){const i=ve(n);return i.M_(),new n9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:l9.bind(null,t),No:c9.bind(null,t),Lo:u9.bind(null,t),p_:d9.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Kv(t)?qv(t):t.j_.set("Unknown")):(await t.J_.stop(),lR(t))})),t.J_}function wi(t){return t.Y_||(t.Y_=function(n,r,s){const i=ve(n);return i.M_(),new r9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:p9.bind(null,t),Lo:y9.bind(null,t),D_:m9.bind(null,t),v_:g9.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Af(t)):(await t.Y_.stop(),t.U_.length>0&&(ae(mo,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Gv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(t,e){if(hs("AsyncQueue",`${e}: ${t}`),tl(t))return new ce(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{static emptySet(e){return new fa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.Z_=new lt(he.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ge():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ua{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ua(e,n,fa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _9{constructor(){this.queries=EE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=EE(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new ce(q.ABORTED,"Firestore shutting down"))}}function EE(){return new Co(t=>kI(t),Tf)}async function hR(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new w9,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Qv(o,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&Yv(n)}async function fR(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x9(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&Yv(n)}function E9(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function Yv(t){t.ia.forEach(e=>{e.next()})}var Lg,TE;(TE=Lg||(Lg={}))._a="default",TE.Cache="cache";class pR{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.key=e}}class gR{constructor(e){this.key=e}}class T9{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=DI(e),this.wa=new fa(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new xE,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const h=s.get(d),g=Sf(this.query,p)?p:null,_=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;h&&g?h.data.isEqual(g.data)?_!==y&&(r.track({type:3,doc:g}),x=!0):this.va(h,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.ya(g,l)>0||u&&this.ya(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),x=!0):h&&!g&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,p)=>function(g,_){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return y(g)-y(_)}(d.type,p.type)||this.ya(d.doc,p.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new Ua(this.query,e.wa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new gR(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new mR(r))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ua.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Xv="SyncEngine";class S9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C9{constructor(e){this.key=e,this.Ba=!1}}class b9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Co(a=>kI(a),Tf),this.qa=new Map,this.Qa=new Set,this.$a=new lt(he.comparator),this.Ua=new Map,this.Ka=new Uv,this.Wa={},this.Ga=new Map,this.za=Fa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function I9(t,e,n=!0){const r=ER(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await yR(r,e,n,!0),s}async function R9(t,e){const n=ER(t);await yR(n,e,!0,!1)}async function yR(t,e,n,r){const s=await G6(t.localStore,jr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await P9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&oR(t.remoteStore,s),a}async function P9(t,e,n,r,s){t.Ha=(p,h,g)=>async function(y,x,T,v){let S=x.view.ba(T);S.ls&&(S=await mE(y.localStore,x.query,!1).then(({documents:b})=>x.view.ba(b,S)));const I=v&&v.targetChanges.get(x.targetId),k=v&&v.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(S,y.isPrimaryClient,I,k);return CE(y,x.targetId,j.Ma),j.snapshot}(t,p,h,g);const i=await mE(t.localStore,e,!0),o=new T9(e,i.gs),a=o.ba(i.documents),l=eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);CE(t,n,u.Ma);const d=new S9(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function A9(t,e,n){const r=ve(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Tf(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Mg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Hv(r.remoteStore,s.targetId),Vg(r,s.targetId)}).catch(el)):(Vg(r,s.targetId),await Mg(r.localStore,s.targetId,!0))}async function N9(t,e){const n=ve(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hv(n.remoteStore,r.targetId))}async function k9(t,e,n){const r=F9(t);try{const s=await function(o,a){const l=ve(o),u=Pt.now(),d=a.reduce((g,_)=>g.add(_.key),ke());let p,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=fs(),y=ke();return l.ds.getEntries(g,d).next(x=>{_=x,_.forEach((T,v)=>{v.isValidDocument()||(y=y.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(x=>{p=x;const T=[];for(const v of a){const S=G5(v,p.get(v.key).overlayedDocument);S!=null&&T.push(new Ni(v.key,S,SI(S.value.mapValue),Yn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,T,a)}).next(x=>{h=x;const T=x.applyToLocalDocumentSet(p,y);return l.documentOverlayCache.saveOverlays(g,x.batchId,T)})}).then(()=>({batchId:h.batchId,changes:MI(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new lt(Ie)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,s.batchId,n),await nu(r,s.changes),await Af(r.remoteStore)}catch(s){const i=Qv(s,"Failed to persist write");n.reject(i)}}async function vR(t,e){const n=ve(t);try{const r=await W6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ua.get(i);o&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?$e(o.Ba):s.removedDocuments.size>0&&($e(o.Ba),o.Ba=!1))}),await nu(n,r,e)}catch(r){await el(r)}}function SE(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ve(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(const h of p.ta)h.sa(a)&&(u=!0)}),u&&Yv(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D9(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),i=s&&s.key;if(i){let o=new lt(he.comparator);o=o.insert(i,en.newNoDocument(i,ye.min()));const a=ke().add(i),l=new If(ye.min(),new Map,new lt(Ie),o,a);await vR(r,l),r.$a=r.$a.remove(i),r.Ua.delete(e),Jv(r)}else await Mg(r.localStore,e,!1).then(()=>Vg(r,e,n)).catch(el)}async function O9(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await H6(n.localStore,e);_R(n,r,null),wR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nu(n,s)}catch(s){await el(s)}}async function M9(t,e,n){const r=ve(t);try{const s=await function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>($e(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);_R(r,e,n),wR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nu(r,s)}catch(s){await el(s)}}function wR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function _R(t,e,n){const r=ve(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||xR(t,r)})}function xR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Hv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Jv(t))}function CE(t,e,n){for(const r of n)r instanceof mR?(t.Ka.addReference(r.key,e),j9(t,r)):r instanceof gR?(ae(Xv,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||xR(t,r.key)):ge()}function j9(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ae(Xv,"New document in limbo: "+n),t.Qa.add(r),Jv(t))}function Jv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new he(nt.fromString(e)),r=t.za.next();t.Ua.set(r,new C9(n)),t.$a=t.$a.insert(n,r),oR(t.remoteStore,new Ks(jr(Ov(n.path)),r,"TargetPurposeLimboResolution",_f.ae))}}async function nu(t,e,n){const r=ve(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=zv.Yi(l.targetId,u);i.push(p)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,u){const d=ve(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>H.forEach(u,h=>H.forEach(h.Hi,g=>d.persistence.referenceDelegate.addReference(p,h.targetId,g)).next(()=>H.forEach(h.Ji,g=>d.persistence.referenceDelegate.removeReference(p,h.targetId,g)))))}catch(p){if(!tl(p))throw p;ae(Bv,"Failed to update sequence numbers: "+p)}for(const p of u){const h=p.targetId;if(!p.fromCache){const g=d.Ts.get(h),_=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(_);d.Ts=d.Ts.insert(h,y)}}}(r.localStore,i))}async function L9(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){ae(Xv,"User change. New user:",e.toKey());const r=await nR(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new ce(q.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nu(n,r.Rs)}}function V9(t,e){const n=ve(t),r=n.Ua.get(e);if(r&&r.Ba)return ke().add(r.key);{let s=ke();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function ER(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D9.bind(null,e),e.La.p_=x9.bind(null,e.eventManager),e.La.Ja=E9.bind(null,e.eventManager),e}function F9(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M9.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return B6(this.persistence,new U6,e.initialUser,this.serializer)}Xa(e){return new tR($v.ri,this.serializer)}Za(e){return new Y6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class U9 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof Ih);const r=this.persistence.referenceDelegate.garbageCollector;return new C6(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new tR(r=>Ih.ri(r,n),this.serializer)}}class Fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L9.bind(null,this.syncEngine),await v9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _9}()}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),r=function(i){return new t9(i)}(e.databaseInfo);return function(i,o,a,l){return new i9(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new a9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SE(this.syncEngine,n,0),function(){return vE.D()?new vE:new X6}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const p=new b9(s,i,o,a,l,u);return d&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ve(s);ae(mo,"RemoteStore shutting down."),i.W_.add(5),await tu(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fg.provider={build:()=>new Fg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="FirestoreClient";class $9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=fI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ae(_i,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae(_i,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kp(t,e){t.asyncQueue.verifyOperationInProgress(),ae(_i,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z9(t);ae(_i,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_E(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>_E(e.remoteStore,s)),t._onlineComponents=e}async function z9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae(_i,"Using user provided OfflineComponentProvider");try{await Kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ma("Error using user provided cache. Falling back to memory cache: "+n),await Kp(t,new Ph)}}else ae(_i,"Using default OfflineComponentProvider"),await Kp(t,new U9(void 0));return t._offlineComponents}async function SR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae(_i,"Using user provided OnlineComponentProvider"),await bE(t,t._uninitializedComponentsProvider._online)):(ae(_i,"Using default OnlineComponentProvider"),await bE(t,new Fg))),t._onlineComponents}function B9(t){return SR(t).then(e=>e.syncEngine)}async function CR(t){const e=await SR(t),n=e.eventManager;return n.onListen=I9.bind(null,e.syncEngine),n.onUnlisten=A9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N9.bind(null,e.syncEngine),n}function H9(t,e,n={}){const r=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new TR({next:h=>{d.su(),o.enqueueAndForget(()=>fR(i,p));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new ce(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new ce(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),p=new pR(Ov(a.path),d,{includeMetadataChanges:!0,Ta:!0});return hR(i,p)}(await CR(t),t.asyncQueue,e,n,r)),r.promise}function W9(t,e,n={}){const r=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new TR({next:h=>{d.su(),o.enqueueAndForget(()=>fR(i,p)),h.fromCache&&l.source==="server"?u.reject(new ce(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),p=new pR(a,d,{includeMetadataChanges:!0,Ta:!0});return hR(i,p)}(await CR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t,e,n){if(!n)throw new ce(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q9(t,e,n,r){if(e===!0&&r===!0)throw new ce(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RE(t){if(!he.isDocumentKey(t))throw new ce(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PE(t){if(he.isDocumentKey(t))throw new ce(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nf(t);throw new ce(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firestore.googleapis.com",AE=!0;class NE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RR,this.ssl=AE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:AE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T6)throw new ce(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t5;switch(r.type){case"firstParty":return new i5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IE.get(n);r&&(ae("ComponentProvider","Removing Datastore"),IE.delete(n),r.terminate())}(this),Promise.resolve()}}function K9(t,e,n,r={}){var s;const i=(t=_r(t,kf))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==RR&&i.host!==a&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!co(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Jt.MOCK_USER;else{u=uF(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ce(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Jt(p)}t._authCredentials=new n5(new dI(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class ai extends rl{constructor(e,n,r){super(e,n,Ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new he(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function Ah(t,e,...n){if(t=Nt(t),IR("collection","path",e),t instanceof kf){const r=nt.fromString(e,...n);return PE(r),new ai(t,null,r)}{if(!(t instanceof hn||t instanceof ai))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return PE(r),new ai(t.firestore,null,r)}}function hr(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=fI.newId()),IR("doc","path",e),t instanceof kf){const r=nt.fromString(e,...n);return RE(r),new hn(t,null,new he(r))}{if(!(t instanceof hn||t instanceof ai))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return RE(r),new hn(t.firestore,t instanceof ai?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class DE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sR(this,"async_queue_retry"),this.Su=()=>{const r=qp();r&&ae(kE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new rs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!tl(e))throw e;ae(kE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Gv.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&ge()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Io extends kf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new DE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DE(e),this._firestoreClient=void 0,await e}}}function G9(t,e){const n=typeof t=="object"?t:Eb(),r=typeof t=="string"?t:_h,s=wv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=lF("firestore");i&&K9(s,...i)}return s}function Zv(t){if(t._terminated)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q9(t),t._firestoreClient}function Q9(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new _5(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new $9(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(Bt.fromBase64String(e))}catch(n){throw new ce(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $a(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=/^__.*__$/;class X9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(e,this.data,n,this.fieldTransforms)}}class PR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class r0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new r0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AR(this.Lu)&&Y9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class J9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rf(e)}ju(e,n,r,s=!1){return new r0({Lu:e,methodName:n,zu:r,path:Ut.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(t){const e=t._freezeSettings(),n=Rf(t._databaseId);return new J9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NR(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);s0("Data must be an object, but it was:",o,r);const a=kR(r,o);let l,u;if(i.merge)l=new Mn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const h=Ug(e,p,n);if(!o.contains(h))throw new ce(q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);OR(d,h)||d.push(h)}l=new Mn(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new X9(new wn(a),l,u)}class Mf extends e0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mf}}function Z9(t,e,n,r){const s=t.ju(1,e,n);s0("Data must be an object, but it was:",s,r);const i=[],o=wn.empty();Ai(r,(l,u)=>{const d=i0(e,l,n);u=Nt(u);const p=s.Uu(d);if(u instanceof Mf)i.push(d);else{const h=ru(u,p);h!=null&&(i.push(d),o.set(d,h))}});const a=new Mn(i);return new PR(o,a,s.fieldTransforms)}function e$(t,e,n,r,s,i){const o=t.ju(1,e,n),a=[Ug(e,r,n)],l=[s];if(i.length%2!=0)throw new ce(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Ug(e,i[h])),l.push(i[h+1]);const u=[],d=wn.empty();for(let h=a.length-1;h>=0;--h)if(!OR(u,a[h])){const g=a[h];let _=l[h];_=Nt(_);const y=o.Uu(g);if(_ instanceof Mf)u.push(g);else{const x=ru(_,y);x!=null&&(u.push(g),d.set(g,x))}}const p=new Mn(u);return new PR(d,p,o.fieldTransforms)}function t$(t,e,n,r=!1){return ru(n,t.ju(r?4:3,e))}function ru(t,e){if(DR(t=Nt(t)))return s0("Unsupported field value:",e,t),kR(t,e);if(t instanceof e0)return function(r,s){if(!AR(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=ru(a,s.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pt.fromDate(r);return{timestampValue:bh(s.serializer,i)}}if(r instanceof Pt){const i=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(s.serializer,i)}}if(r instanceof t0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $a)return{bytesValue:KI(s.serializer,r._byteString)};if(r instanceof hn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof n0)return function(o,a){return{mapValue:{fields:{[xI]:{stringValue:TI},[xh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return Mv(a.serializer,u)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Nf(r)}`)}(t,e)}function kR(t,e){const n={};return mI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(t,(r,s)=>{const i=ru(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function DR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof t0||t instanceof $a||t instanceof hn||t instanceof e0||t instanceof n0)}function s0(t,e,n){if(!DR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Nf(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Ug(t,e,n){if((e=Nt(e))instanceof Df)return e._internalPath;if(typeof e=="string")return i0(t,e);throw Nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const n$=new RegExp("[~\\*/\\[\\]]");function i0(t,e,n){if(e.search(n$)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Df(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ce(q.INVALID_ARGUMENT,a+t+l)}function OR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r$ extends MR{data(){return super.data()}}function o0(t,e){return typeof e=="string"?i0(t,e):e instanceof Df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a0{}class i$ extends a0{}function o$(t,e,...n){let r=[];e instanceof a0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof l0).length,a=i.filter(l=>l instanceof jf).length;if(o>1||o>0&&a>0)throw new ce(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class jf extends i${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jf(e,n,r)}_apply(e){const n=this._parse(e);return jR(e._query,n),new rl(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=Of(e.firestore);return function(i,o,a,l,u,d,p){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ce(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ME(p,d);const _=[];for(const y of p)_.push(OE(l,i,y));h={arrayValue:{values:_}}}else h=OE(l,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ME(p,d),h=t$(a,o,p,d==="in"||d==="not-in");return St.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function a$(t,e,n){const r=e,s=o0("where",t);return jf._create(s,r,n)}class l0 extends a0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)jR(o,l),o=Pg(o,l)}(e._query,n),new rl(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OE(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ce(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NI(e)&&n.indexOf("/")!==-1)throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!he.isDocumentKey(r))throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yx(t,new he(r))}if(n instanceof hn)return Yx(t,n._key);throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(n)}.`)}function ME(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l${convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ai(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[xh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>mt(o.doubleValue));return new n0(i)}convertGeoPoint(e){return new t0(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);$e(ZI(r));const s=new Ac(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||hs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VR extends MR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(o0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bd extends VR{data(e={}){return super.data(e)}}class c${constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bd(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new bd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new bd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:u$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function u$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){t=_r(t,hn);const e=_r(t.firestore,Io);return H9(Zv(e),t._key).then(n=>p$(e,t,n))}class FR extends l${constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function c0(t){t=_r(t,rl);const e=_r(t.firestore,Io),n=Zv(e),r=new FR(e);return s$(t._query),W9(n,t._query).then(s=>new c$(e,r,t,s))}function UR(t,e,n){t=_r(t,hn);const r=_r(t.firestore,Io),s=LR(t.converter,e);return Lf(r,[NR(Of(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yn.none())])}function d$(t,e,n,...r){t=_r(t,hn);const s=_r(t.firestore,Io),i=Of(s);let o;return o=typeof(e=Nt(e))=="string"||e instanceof Df?e$(i,"updateDoc",t._key,e,n,r):Z9(i,"updateDoc",t._key,e),Lf(s,[o.toMutation(t._key,Yn.exists(!0))])}function h$(t){return Lf(_r(t.firestore,Io),[new jv(t._key,Yn.none())])}function f$(t,e){const n=_r(t.firestore,Io),r=hr(t),s=LR(t.converter,e);return Lf(n,[NR(Of(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function Lf(t,e){return function(r,s){const i=new rs;return r.asyncQueue.enqueueAndForget(async()=>k9(await B9(r),s,i)),i.promise}(Zv(t),e)}function p$(t,e,n){const r=n.docs.get(e._key),s=new FR(t);return new VR(t,s,e._key,r,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Za=s})(Xa),Da(new uo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Io(new r5(r.getProvider("auth-internal")),new o5(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ii(Vx,Fx,e),ii(Vx,Fx,"esm2017")})();const m$={apiKey:"AIzaSyALi3aD4f5MLqlRbL-sk2s2ReSgoxc6sW8",authDomain:"projeto-pet-746d8.firebaseapp.com",projectId:"projeto-pet-746d8",storageBucket:"projeto-pet-746d8.firebasestorage.app",messagingSenderId:"618638980041",appId:"1:618638980041:web:9a2db3de29db6619156e18",measurementId:"G-2XT8JZCRVS"},$R=xb(m$),Xu=Z3($R),En=G9($R),zR=w.createContext(void 0);function g$({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState(null),[i,o]=w.useState(!0),a=async h=>{var g;try{const _=await ea(hr(En,"usuarios",h));if(_.exists()){const y=_.data();console.log("usuario encontrado",y),console.log("type do usuario",y.type);const x={id:h,name:y.name,email:y.email,role:y.role||y.type||"user",type:y.type||y.role||"user",phone:y.phone,createdAt:((g=y.createdAt)==null?void 0:g.toDate())||new Date};s(x),console.log("userData atualizado",x)}else console.log("Documento do usuário não encontrado"),s({id:h,name:(e==null?void 0:e.displayName)||"",email:(e==null?void 0:e.email)||"",role:"user",type:"user",phone:"",createdAt:new Date})}catch(_){console.error("Erro ao buscar dados do usuário:",_)}};w.useEffect(()=>$U(Xu,async g=>{console.log("Auth state changed:",g),n(g),g?await a(g.uid):s(null),o(!1)},g=>{console.error("Auth state error:",g),o(!1)}),[]);const l=async(h,g)=>{o(!0);try{const _=await jU(Xu,h,g);await a(_.user.uid)}catch(_){throw console.error("Login error:",_),_}finally{o(!1)}},u=async(h,g,_,y)=>{o(!0);try{const x=await MU(Xu,g,y);await VU(x.user,{displayName:h}),await UR(hr(En,"usuarios",x.user.uid),{name:h,email:g,phone:_,type:"user",createdAt:new Date}),await a(x.user.uid)}catch(x){throw console.error("Register error:",x),x}finally{o(!1)}},d=async()=>{try{await zU(Xu),n(null),s(null)}catch(h){throw console.error("Logout error",h),h}},p=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.type)==="admin";return w.useEffect(()=>{console.log("Estado atual do contexto",{userData:r,isAdmin:p,role:r==null?void 0:r.role,type:r==null?void 0:r.type})},[r,p]),f.jsx(zR.Provider,{value:{user:e,userData:r,isLoading:i,login:l,register:u,logout:d,isAuthenticated:!!e,isAdmin:p},children:t})}function ki(){const t=w.useContext(zR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const y$=Xy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),je=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?oo:"button";return f.jsx(o,{className:Oe(y$({variant:e,size:n,className:t})),ref:i,...s})});je.displayName="Button";function v$(){var u;const{user:t,userData:e,logout:n,isAuthenticated:r,isAdmin:s}=ki(),[i,o]=w.useState(!1),a=()=>{o(!i)},l=async()=>{await n()};return f.jsxs("header",{className:"w-full bg-petgreen py-4 px-4 md:px-8",children:[f.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[f.jsxs(Fe,{to:"/",className:"flex items-center text-white text-2xl font-bold",children:[f.jsx(th,{className:"mr-2",size:24}),f.jsx("span",{children:"PetFinder"})]}),f.jsxs("nav",{className:"hidden md:flex space-x-6",children:[f.jsx(Fe,{to:"/",className:"text-white hover:text-opacity-80",children:"Início"}),f.jsx(Fe,{to:"/encontrar-pet",className:"text-white hover:text-opacity-80",children:"Encontrar Pet"}),r&&f.jsx(Fe,{to:"/meus-pets",className:"text-white hover:text-opacity-80",children:"Meus Pets"}),f.jsx(Fe,{to:"/campanhas",className:"text-white hover:text-opacity-80",children:"Campanhas"}),f.jsx(Fe,{to:"/sobre",className:"text-white hover:text-opacity-80",children:"Sobre"}),r&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.type)==="admin")&&f.jsx(Fe,{to:"/admin/campanhas",className:"text-white hover:text-opacity-80",children:"Gerenciar/Campanhas"})]}),f.jsx("div",{className:"md:hidden",children:f.jsx(je,{variant:"ghost",size:"icon",onClick:a,className:"text-white",children:i?f.jsx(rh,{size:24}):f.jsx(NO,{size:24})})}),f.jsx("div",{className:"hidden md:flex items-center gap-3",children:r?f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"text-white",children:["Olá, ",(u=t==null?void 0:t.displayName)==null?void 0:u.split(" ")[0]]}),f.jsxs(je,{variant:"outline",className:"bg-white text-petgreen hover:bg-opacity-90",onClick:l,children:[f.jsx(D_,{className:"h-4 w-4 mr-2"}),"Sair"]})]}):f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(je,{variant:"outline",className:"bg-white text-petgreen hover:bg-opacity-90",children:f.jsx(Fe,{to:"/login",children:"Entrar"})}),f.jsx(je,{variant:"outline",className:"bg-white text-petgreen hover:bg-opacity-90",children:f.jsx(Fe,{to:"/cadastro",children:"Cadastre-se"})})]})})]}),i&&f.jsx("div",{className:"md:hidden fixed inset-0 z-50 bg-black/50",children:f.jsxs("div",{className:"bg-white h-full w-64 p-4 shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("span",{className:"font-bold text-xl text-petgreen",children:"Menu"}),f.jsx(je,{variant:"ghost",size:"icon",onClick:a,children:f.jsx(rh,{size:24})})]}),f.jsxs("nav",{className:"flex flex-col space-y-4",children:[f.jsx(Fe,{to:"/",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Início"}),f.jsx(Fe,{to:"/encontrar-pet",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Encontrar Pet"}),r&&f.jsx(Fe,{to:"/meus-pets",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Meus Pets"}),f.jsx(Fe,{to:"/campanhas",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Campanhas"}),f.jsx(Fe,{to:"/sobre",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Sobre"}),r&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.type)==="admin")&&f.jsx(Fe,{to:"/admin/campanhas",className:"px-2 py-1 rounded hover:bg-gray-100 font-medium text-petgreen",onClick:a,children:"Gerenciar Campanhas"}),f.jsx("div",{className:"pt-4 border-t",children:r?f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Logado como: ",t==null?void 0:t.email]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.type)==="admin")&&f.jsx("p",{className:"text-xs text-petgreen font-semibold mb-2",children:"Administrador"}),f.jsxs(je,{variant:"default",className:"w-full bg-petgreen hover:bg-opacity-90",onClick:()=>{l(),a()},children:[f.jsx(D_,{className:"h-4 w-4 mr-2"}),"Sair"]})]}):f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx(je,{variant:"default",className:"w-full bg-petgreen hover:bg-opacity-90",onClick:a,children:f.jsx(Fe,{to:"/login",className:"w-full text-white",children:"Entrar"})}),f.jsx(je,{variant:"outline",className:"w-full border-petgreen text-petgreen hover:bg-petgreen hover:text-white",onClick:a,children:f.jsx(Fe,{to:"/cadastro",className:"w-full",children:"Cadastre-se"})})]})})]})]})})]})}function w$(){return f.jsx("footer",{className:"bg-gray-100 py-8 mt-16",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-petgreen",children:"PetFinder"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Ajudamos tutores a encontrar seus pets perdidos com a tecnologia de QR Code."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("a",{href:"#",className:"text-petgreen hover:text-petgreen-light",children:f.jsx(yO,{size:20})}),f.jsx("a",{href:"#",className:"text-petgreen hover:text-petgreen-light",children:f.jsx(FO,{size:20})}),f.jsx("a",{href:"#",className:"text-petgreen hover:text-petgreen-light",children:f.jsx(EO,{size:20})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-petgreen",children:"Links Úteis"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx(Fe,{to:"/",className:"text-gray-600 hover:text-petgreen",children:"Início"})}),f.jsx("li",{children:f.jsx(Fe,{to:"/encontrar-pet",className:"text-gray-600 hover:text-petgreen",children:"Encontrar Pet"})}),f.jsx("li",{children:f.jsx(Fe,{to:"/meus-pets",className:"text-gray-600 hover:text-petgreen",children:"Meus Pets"})}),f.jsx("li",{children:f.jsx(Fe,{to:"/campanhas",className:"text-gray-600 hover:text-petgreen",children:"Campanhas"})}),f.jsx("li",{children:f.jsx(Fe,{to:"/sobre",className:"text-gray-600 hover:text-petgreen",children:"Sobre"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-petgreen",children:"Contato"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(cC,{size:18,className:"text-petgreen mr-2"}),f.jsx("span",{className:"text-gray-600",children:"(11) 99999-9999"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(Zy,{size:18,className:"text-petgreen mr-2"}),f.jsx("span",{className:"text-gray-600",children:"contato@petfinder.com"})]})]})]})]}),f.jsx("div",{className:"border-t border-gray-200 mt-8 pt-6 text-center text-gray-500 text-sm",children:f.jsxs("p",{children:["© ",new Date().getFullYear()," PetFinder. Todos os direitos reservados."]})})]})})}function vs({children:t}){return f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(v$,{}),f.jsx("main",{className:"flex-grow",children:t}),f.jsx(w$,{})]})}function _$(){const{user:t,userData:e,logout:n,isAuthenticated:r,isAdmin:s}=ki();return f.jsxs(vs,{children:[f.jsx("section",{className:"bg-white py-12 md:py-20",children:f.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center space-x-0 md:space-x-8",children:[f.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 text-center md:text-left",children:[f.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Proteja seu Pet com a ",f.jsx("span",{className:"text-petgreen",children:"PetFinder"})]}),f.jsx("p",{className:"text-gray-600 mb-6 text-base md:text-lg",children:"Cadastre seu pet, gere um código exclusivo com QR Code para a coleira. Caso ele se perca, quem o encontrar poderá acessar seus dados de contato facilmente."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center md:justify-start",children:[!r&&f.jsx(je,{asChild:!0,className:"bg-petgreen text-white hover:bg-petgreen-light",children:f.jsx(Fe,{to:"/cadastro",children:"Cadastre-se"})}),f.jsx(je,{asChild:!0,variant:"outline",className:"border-petgreen text-petgreen hover:bg-petgreen hover:text-white",children:f.jsx(Fe,{to:"/encontrar-pet",children:"Encontrar Pet"})})]})]}),f.jsx("div",{className:"md:w-1/2 flex justify-center",children:f.jsx("img",{src:"/lovable-uploads/884ac099-bebd-40de-8076-19a91769615b.png",alt:"Pets",className:"max-w-full md:max-w-[500px] h-auto rounded-lg"})})]})}),f.jsx("section",{className:"bg-petblue-light py-12 md:py-16",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Sobre o PetFinder"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-left mb-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-petgreen mb-4",children:"Como Funciona?"}),f.jsx("p",{className:"text-gray-600",children:"O PetFinder é uma plataforma que ajuda tutores de pets a recuperar seus animais perdidos através de um sistema simples e eficaz de QR Code."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-petgreen mb-4",children:"Por que usar?"}),f.jsx("p",{className:"text-gray-600",children:"Maior chance de recuperar seu pet caso ele se perca. Quem encontrá-lo pode escanear o QR Code e entrar em contato com você imediatamente."})]})]}),f.jsx(je,{asChild:!0,className:"bg-petgreen text-white hover:bg-opacity-90",children:f.jsx(Fe,{to:"/sobre",children:"Saiba Mais"})})]})})})]})}const x$=()=>{const t=Ri();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Vn=w.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Vn.displayName="Card";const ps=w.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",t),...e}));ps.displayName="CardHeader";const xi=w.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:Oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));xi.displayName="CardTitle";const za=w.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));za.displayName="CardDescription";const Fn=w.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Oe("p-6 pt-0",t),...e}));Fn.displayName="CardContent";const su=w.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",t),...e}));su.displayName="CardFooter";function u0(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var d0="Checkbox",[E$,z8]=Eo(d0),[T$,S$]=E$(d0),BR=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...p}=t,[h,g]=w.useState(null),_=He(e,I=>g(I)),y=w.useRef(!1),x=h?d||!!h.closest("form"):!0,[T=!1,v]=ao({prop:s,defaultProp:i,onChange:u}),S=w.useRef(T);return w.useEffect(()=>{const I=h==null?void 0:h.form;if(I){const k=()=>v(S.current);return I.addEventListener("reset",k),()=>I.removeEventListener("reset",k)}},[h,v]),f.jsxs(T$,{scope:n,state:T,disabled:a,children:[f.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":li(T)?"mixed":T,"aria-required":o,"data-state":qR(T),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:_,onKeyDown:fe(t.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:fe(t.onClick,I=>{v(k=>li(k)?!0:!k),x&&(y.current=I.isPropagationStopped(),y.current||I.stopPropagation())})}),x&&f.jsx(C$,{control:h,bubbles:!y.current,name:r,value:l,checked:T,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:li(i)?!1:i})]})});BR.displayName=d0;var HR="CheckboxIndicator",WR=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=S$(HR,n);return f.jsx(Ci,{present:r||li(i.state)||i.state===!0,children:f.jsx(Te.span,{"data-state":qR(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});WR.displayName=HR;var C$=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=w.useRef(null),a=u0(n),l=av(e);w.useEffect(()=>{const d=o.current,p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&g){const _=new Event("click",{bubbles:r});d.indeterminate=li(n),g.call(d,li(n)?!1:n),d.dispatchEvent(_)}},[a,n,r]);const u=w.useRef(li(n)?!1:n);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function li(t){return t==="indeterminate"}function qR(t){return li(t)?"indeterminate":t?"checked":"unchecked"}var KR=BR,b$=WR;const GR=w.forwardRef(({className:t,...e},n)=>f.jsx(KR,{ref:n,className:Oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:f.jsx(b$,{className:Oe("flex items-center justify-center text-current"),children:f.jsx(Jy,{className:"h-4 w-4"})})}));GR.displayName=KR.displayName;const _n=w.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));_n.displayName="Input";var I$="Label",QR=w.forwardRef((t,e)=>f.jsx(Te.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QR.displayName=I$;var YR=QR;const R$=Xy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bt=w.forwardRef(({className:t,...e},n)=>f.jsx(YR,{ref:n,className:Oe(R$(),t),...e}));bt.displayName=YR.displayName;function P$(){const{login:t}=ki(),{toast:e}=qy(),n=To(),[r,s]=w.useState(!1),[i,o]=w.useState({email:"",password:"",rememberMe:!1}),a=d=>{const{name:p,value:h}=d.target;o(g=>({...g,[p]:h}))},l=d=>{o(p=>({...p,rememberMe:d}))},u=async d=>{d.preventDefault(),s(!0);try{await t(i.email,i.password),e({title:"Login bem-sucedido",description:"Você foi conectado com sucesso!",variant:"default"}),n("/meus-pets")}catch{e({title:"Erro ao fazer login",description:"Email ou senha incorretos.",variant:"destructive"})}finally{s(!1)}};return f.jsx(vs,{children:f.jsx("div",{className:"container mx-auto px-4 py-10",children:f.jsx("div",{className:"max-w-md mx-auto",children:f.jsxs(Vn,{className:"shadow-lg",children:[f.jsxs(ps,{children:[f.jsx(xi,{className:"text-2xl text-center",children:"Login"}),f.jsx(za,{className:"text-center",children:"Entre na sua conta para gerenciar seus pets"})]}),f.jsx(Fn,{children:f.jsxs("form",{onSubmit:u,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"email",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(Zy,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",className:"pl-10",required:!0,value:i.email,onChange:a})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(bt,{htmlFor:"password",children:"Senha"}),f.jsx(Fe,{to:"/esqueci-senha",className:"text-sm text-petgreen hover:underline",children:"Esqueceu a senha?"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(tg,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"password",name:"password",type:"password",placeholder:"********",className:"pl-10",required:!0,value:i.password,onChange:a})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(GR,{id:"remember",checked:i.rememberMe,onCheckedChange:l}),f.jsx(bt,{htmlFor:"remember",className:"text-sm",children:"Lembrar de mim"})]}),f.jsx(je,{type:"submit",className:"w-full bg-petgreen hover:bg-opacity-90",disabled:r,children:r?"Entrando...":"Entrar"})]})}),f.jsx(su,{className:"flex justify-center",children:f.jsx("div",{className:"text-center",children:f.jsxs("span",{className:"text-sm text-gray-500",children:["Não tem uma conta?"," ",f.jsx(Fe,{to:"/cadastro",className:"text-petgreen hover:underline",children:"Cadastre-se"})]})})})]})})})})}var iu=t=>t.type==="checkbox",Ki=t=>t instanceof Date,cn=t=>t==null;const XR=t=>typeof t=="object";var wt=t=>!cn(t)&&!Array.isArray(t)&&XR(t)&&!Ki(t),JR=t=>wt(t)&&t.target?iu(t.target)?t.target.checked:t.target.value:t,A$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ZR=(t,e)=>t.has(A$(e)),N$=t=>{const e=t.constructor&&t.constructor.prototype;return wt(e)&&e.hasOwnProperty("isPrototypeOf")},h0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(h0&&(t instanceof Blob||r))&&(n||wt(t)))if(e=n?[]:{},!n&&!N$(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Lt(t[s]));else return t;return e}var Vf=t=>Array.isArray(t)?t.filter(Boolean):[],gt=t=>t===void 0,re=(t,e,n)=>{if(!e||!wt(t))return n;const r=Vf(e.split(/[,[\].]+?/)).reduce((s,i)=>cn(s)?s:s[i],t);return gt(r)||r===t?gt(t[e])?n:t[e]:r},kn=t=>typeof t=="boolean",f0=t=>/^\w*$/.test(t),eP=t=>Vf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(t,e,n)=>{let r=-1;const s=f0(e)?[e]:eP(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=wt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const kh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},k$=U.createContext(null),p0=()=>U.useContext(k$);var tP=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==cr.all&&(e._proxyFormState[o]=!r||cr.all),n&&(n[o]=!0),t[o]}});return s};function D$(t){const e=p0(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=U.useState(n._formState),l=U.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=U.useRef(s);return u.current=s,U.useEffect(()=>n._subscribe({name:u.current,formState:l.current,exact:i,callback:d=>{!r&&a({...n._formState,...d})}}),[n,r,i]),U.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),U.useMemo(()=>tP(o,n,l.current,!1),[o,n])}var Nr=t=>typeof t=="string",nP=(t,e,n,r,s)=>Nr(t)?(r&&e.watch.add(t),re(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),re(n,i))):(r&&(e.watchAll=!0),n);function O$(t){const e=p0(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=U.useRef(r),l=U.useRef(s);a.current=r,U.useEffect(()=>n._subscribe({name:a.current,formState:{values:!0},exact:o,callback:p=>!i&&d(nP(a.current,n._names,p.values||n._formValues,!1,l.current))}),[n,i,o]);const[u,d]=U.useState(n._getWatch(r,s));return U.useEffect(()=>n._removeUnmounted()),u}function M$(t){const e=p0(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=ZR(s._names.array,n),a=O$({control:s,name:n,defaultValue:re(s._formValues,n,re(s._defaultValues,n,t.defaultValue)),exact:!0}),l=D$({control:s,name:n,exact:!0}),u=U.useRef(t),d=U.useRef(s.register(n,{...t.rules,value:a,...kn(t.disabled)?{disabled:t.disabled}:{}})),p=U.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!re(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!re(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!re(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!re(l.validatingFields,n)},error:{enumerable:!0,get:()=>re(l.errors,n)}}),[l,n]),h=U.useCallback(x=>d.current.onChange({target:{value:JR(x),name:n},type:kh.CHANGE}),[n]),g=U.useCallback(()=>d.current.onBlur({target:{value:re(s._formValues,n),name:n},type:kh.BLUR}),[n,s._formValues]),_=U.useCallback(x=>{const T=re(s._fields,n);T&&x&&(T._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:v=>x.setCustomValidity(v),reportValidity:()=>x.reportValidity()})},[s._fields,n]),y=U.useMemo(()=>({name:n,value:a,...kn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:h,onBlur:g,ref:_}),[n,r,l.disabled,h,g,_,a]);return U.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(n,{...u.current.rules,...kn(u.current.disabled)?{disabled:u.current.disabled}:{}});const T=(v,S)=>{const I=re(s._fields,v);I&&I._f&&(I._f.mount=S)};if(T(n,!0),x){const v=Lt(re(s._options.defaultValues,n));Qe(s._defaultValues,n,v),gt(re(s._formValues,n))&&Qe(s._formValues,n,v)}return!o&&s.register(n),()=>{(o?x&&!s._state.action:x)?s.unregister(n):T(n,!1)}},[n,s,o,i]),U.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),U.useMemo(()=>({field:y,formState:l,fieldState:p}),[y,l,p])}const jE=t=>t.render(M$(t));var j$=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},tc=t=>Array.isArray(t)?t:[t],LE=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},$g=t=>cn(t)||!XR(t);function Vs(t,e){if($g(t)||$g(e))return t===e;if(Ki(t)&&Ki(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ki(i)&&Ki(o)||wt(i)&&wt(o)||Array.isArray(i)&&Array.isArray(o)?!Vs(i,o):i!==o)return!1}}return!0}var an=t=>wt(t)&&!Object.keys(t).length,m0=t=>t.type==="file",ur=t=>typeof t=="function",Dh=t=>{if(!h0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rP=t=>t.type==="select-multiple",g0=t=>t.type==="radio",L$=t=>g0(t)||iu(t),Gp=t=>Dh(t)&&t.isConnected;function V$(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=gt(t)?r++:t[e[r++]];return t}function F$(t){for(const e in t)if(t.hasOwnProperty(e)&&!gt(t[e]))return!1;return!0}function Ct(t,e){const n=Array.isArray(e)?e:f0(e)?[e]:eP(e),r=n.length===1?t:V$(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(wt(r)&&an(r)||Array.isArray(r)&&F$(r))&&Ct(t,n.slice(0,-1)),t}var sP=t=>{for(const e in t)if(ur(t[e]))return!0;return!1};function Oh(t,e={}){const n=Array.isArray(t);if(wt(t)||n)for(const r in t)Array.isArray(t[r])||wt(t[r])&&!sP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Oh(t[r],e[r])):cn(t[r])||(e[r]=!0);return e}function iP(t,e,n){const r=Array.isArray(t);if(wt(t)||r)for(const s in t)Array.isArray(t[s])||wt(t[s])&&!sP(t[s])?gt(e)||$g(n[s])?n[s]=Array.isArray(t[s])?Oh(t[s],[]):{...Oh(t[s])}:iP(t[s],cn(e)?{}:e[s],n[s]):n[s]=!Vs(t[s],e[s]);return n}var Il=(t,e)=>iP(t,e,Oh(e));const VE={value:!1,isValid:!1},FE={value:!0,isValid:!0};var oP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!gt(t[0].attributes.value)?gt(t[0].value)||t[0].value===""?FE:{value:t[0].value,isValid:!0}:FE:VE}return VE},aP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>gt(t)?t:e?t===""?NaN:t&&+t:n&&Nr(t)?new Date(t):r?r(t):t;const UE={isValid:!1,value:null};var lP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,UE):UE;function $E(t){const e=t.ref;return m0(e)?e.files:g0(e)?lP(t.refs).value:rP(e)?[...e.selectedOptions].map(({value:n})=>n):iu(e)?oP(t.refs).value:aP(gt(e.value)?t.ref.value:e.value,t)}var U$=(t,e,n,r)=>{const s={};for(const i of t){const o=re(e,i);o&&Qe(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Mh=t=>t instanceof RegExp,Rl=t=>gt(t)?t:Mh(t)?t.source:wt(t)?Mh(t.value)?t.value.source:t.value:t,zE=t=>({isOnSubmit:!t||t===cr.onSubmit,isOnBlur:t===cr.onBlur,isOnChange:t===cr.onChange,isOnAll:t===cr.all,isOnTouch:t===cr.onTouched});const BE="AsyncFunction";var $$=t=>!!t&&!!t.validate&&!!(ur(t.validate)&&t.validate.constructor.name===BE||wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===BE)),z$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),HE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const nc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=re(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(nc(a,e))break}else if(wt(a)&&nc(a,e))break}}};function WE(t,e,n){const r=re(t,n);if(r||f0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=re(e,i),a=re(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var B$=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return an(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||cr.all))},H$=(t,e,n)=>!t||!e||t===e||tc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),W$=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,q$=(t,e)=>!Vf(re(t,e)).length&&Ct(t,e),K$=(t,e,n)=>{const r=tc(re(t,n));return Qe(r,"root",e[n]),Qe(t,n,r),t},Id=t=>Nr(t);function qE(t,e,n="validate"){if(Id(t)||Array.isArray(t)&&t.every(Id)||kn(t)&&!t)return{type:n,message:Id(t)?t:"",ref:e}}var Do=t=>wt(t)&&!Mh(t)?t:{value:t,message:""},KE=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:p,max:h,pattern:g,validate:_,name:y,valueAsNumber:x,mount:T}=t._f,v=re(n,y);if(!T||e.has(y))return{};const S=a?a[0]:o,I=D=>{s&&S.reportValidity&&(S.setCustomValidity(kn(D)?"":D||""),S.reportValidity())},k={},j=g0(o),b=iu(o),C=j||b,R=(x||m0(o))&&gt(o.value)&&gt(v)||Dh(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,N=j$.bind(null,y,r,k),O=(D,A,B,Z=Kr.maxLength,X=Kr.minLength)=>{const se=D?A:B;k[y]={type:D?Z:X,message:se,ref:o,...N(D?Z:X,se)}};if(i?!Array.isArray(v)||!v.length:l&&(!C&&(R||cn(v))||kn(v)&&!v||b&&!oP(a).isValid||j&&!lP(a).isValid)){const{value:D,message:A}=Id(l)?{value:!!l,message:l}:Do(l);if(D&&(k[y]={type:Kr.required,message:A,ref:S,...N(Kr.required,A)},!r))return I(A),k}if(!R&&(!cn(p)||!cn(h))){let D,A;const B=Do(h),Z=Do(p);if(!cn(v)&&!isNaN(v)){const X=o.valueAsNumber||v&&+v;cn(B.value)||(D=X>B.value),cn(Z.value)||(A=X<Z.value)}else{const X=o.valueAsDate||new Date(v),se=ne=>new Date(new Date().toDateString()+" "+ne),V=o.type=="time",G=o.type=="week";Nr(B.value)&&v&&(D=V?se(v)>se(B.value):G?v>B.value:X>new Date(B.value)),Nr(Z.value)&&v&&(A=V?se(v)<se(Z.value):G?v<Z.value:X<new Date(Z.value))}if((D||A)&&(O(!!D,B.message,Z.message,Kr.max,Kr.min),!r))return I(k[y].message),k}if((u||d)&&!R&&(Nr(v)||i&&Array.isArray(v))){const D=Do(u),A=Do(d),B=!cn(D.value)&&v.length>+D.value,Z=!cn(A.value)&&v.length<+A.value;if((B||Z)&&(O(B,D.message,A.message),!r))return I(k[y].message),k}if(g&&!R&&Nr(v)){const{value:D,message:A}=Do(g);if(Mh(D)&&!v.match(D)&&(k[y]={type:Kr.pattern,message:A,ref:o,...N(Kr.pattern,A)},!r))return I(A),k}if(_){if(ur(_)){const D=await _(v,n),A=qE(D,S);if(A&&(k[y]={...A,...N(Kr.validate,A.message)},!r))return I(A.message),k}else if(wt(_)){let D={};for(const A in _){if(!an(D)&&!r)break;const B=qE(await _[A](v,n),S,A);B&&(D={...B,...N(A,B.message)},I(B.message),r&&(k[y]=D))}if(!an(D)&&(k[y]={ref:S,...D},!r))return k}}return I(!0),k};const G$={mode:cr.onSubmit,reValidateMode:cr.onChange,shouldFocusError:!0};function Q$(t={}){let e={...G$,...t},n={submitCount:0,isDirty:!1,isLoading:ur(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=wt(e.defaultValues)||wt(e.values)?Lt(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Lt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...d};const h={array:LE(),state:LE()},g=zE(e.mode),_=zE(e.reValidateMode),y=e.criteriaMode===cr.all,x=M=>F=>{clearTimeout(u),u=setTimeout(M,F)},T=async M=>{if(!e.disabled&&(d.isValid||p.isValid||M)){const F=e.resolver?an((await R()).errors):await O(r,!0);F!==n.isValid&&h.state.next({isValid:F})}},v=(M,F)=>{!e.disabled&&(d.isValidating||d.validatingFields||p.isValidating||p.validatingFields)&&((M||Array.from(a.mount)).forEach(z=>{z&&(F?Qe(n.validatingFields,z,F):Ct(n.validatingFields,z))}),h.state.next({validatingFields:n.validatingFields,isValidating:!an(n.validatingFields)}))},S=(M,F=[],z,te,Q=!0,K=!0)=>{if(te&&z&&!e.disabled){if(o.action=!0,K&&Array.isArray(re(r,M))){const ie=z(re(r,M),te.argA,te.argB);Q&&Qe(r,M,ie)}if(K&&Array.isArray(re(n.errors,M))){const ie=z(re(n.errors,M),te.argA,te.argB);Q&&Qe(n.errors,M,ie),q$(n.errors,M)}if((d.touchedFields||p.touchedFields)&&K&&Array.isArray(re(n.touchedFields,M))){const ie=z(re(n.touchedFields,M),te.argA,te.argB);Q&&Qe(n.touchedFields,M,ie)}(d.dirtyFields||p.dirtyFields)&&(n.dirtyFields=Il(s,i)),h.state.next({name:M,isDirty:A(M,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Qe(i,M,F)},I=(M,F)=>{Qe(n.errors,M,F),h.state.next({errors:n.errors})},k=M=>{n.errors=M,h.state.next({errors:n.errors,isValid:!1})},j=(M,F,z,te)=>{const Q=re(r,M);if(Q){const K=re(i,M,gt(z)?re(s,M):z);gt(K)||te&&te.defaultChecked||F?Qe(i,M,F?K:$E(Q._f)):X(M,K),o.mount&&T()}},b=(M,F,z,te,Q)=>{let K=!1,ie=!1;const we={name:M};if(!e.disabled){if(!z||te){(d.isDirty||p.isDirty)&&(ie=n.isDirty,n.isDirty=we.isDirty=A(),K=ie!==we.isDirty);const Xe=Vs(re(s,M),F);ie=!!re(n.dirtyFields,M),Xe?Ct(n.dirtyFields,M):Qe(n.dirtyFields,M,!0),we.dirtyFields=n.dirtyFields,K=K||(d.dirtyFields||p.dirtyFields)&&ie!==!Xe}if(z){const Xe=re(n.touchedFields,M);Xe||(Qe(n.touchedFields,M,z),we.touchedFields=n.touchedFields,K=K||(d.touchedFields||p.touchedFields)&&Xe!==z)}K&&Q&&h.state.next(we)}return K?we:{}},C=(M,F,z,te)=>{const Q=re(n.errors,M),K=(d.isValid||p.isValid)&&kn(F)&&n.isValid!==F;if(e.delayError&&z?(l=x(()=>I(M,z)),l(e.delayError)):(clearTimeout(u),l=null,z?Qe(n.errors,M,z):Ct(n.errors,M)),(z?!Vs(Q,z):Q)||!an(te)||K){const ie={...te,...K&&kn(F)?{isValid:F}:{},errors:n.errors,name:M};n={...n,...ie},h.state.next(ie)}},R=async M=>{v(M,!0);const F=await e.resolver(i,e.context,U$(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(M),F},N=async M=>{const{errors:F}=await R(M);if(M)for(const z of M){const te=re(F,z);te?Qe(n.errors,z,te):Ct(n.errors,z)}else n.errors=F;return F},O=async(M,F,z={valid:!0})=>{for(const te in M){const Q=M[te];if(Q){const{_f:K,...ie}=Q;if(K){const we=a.array.has(K.name),Xe=Q._f&&$$(Q._f);Xe&&d.validatingFields&&v([te],!0);const xt=await KE(Q,a.disabled,i,y,e.shouldUseNativeValidation&&!F,we);if(Xe&&d.validatingFields&&v([te]),xt[K.name]&&(z.valid=!1,F))break;!F&&(re(xt,K.name)?we?K$(n.errors,xt,K.name):Qe(n.errors,K.name,xt[K.name]):Ct(n.errors,K.name))}!an(ie)&&await O(ie,F,z)}}return z.valid},D=()=>{for(const M of a.unMount){const F=re(r,M);F&&(F._f.refs?F._f.refs.every(z=>!Gp(z)):!Gp(F._f.ref))&&We(M)}a.unMount=new Set},A=(M,F)=>!e.disabled&&(M&&F&&Qe(i,M,F),!Vs(oe(),s)),B=(M,F,z)=>nP(M,a,{...o.mount?i:gt(F)?s:Nr(M)?{[M]:F}:F},z,F),Z=M=>Vf(re(o.mount?i:s,M,e.shouldUnregister?re(s,M,[]):[])),X=(M,F,z={})=>{const te=re(r,M);let Q=F;if(te){const K=te._f;K&&(!K.disabled&&Qe(i,M,aP(F,K)),Q=Dh(K.ref)&&cn(F)?"":F,rP(K.ref)?[...K.ref.options].forEach(ie=>ie.selected=Q.includes(ie.value)):K.refs?iu(K.ref)?K.refs.length>1?K.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(Q)?!!Q.find(we=>we===ie.value):Q===ie.value)):K.refs[0]&&(K.refs[0].checked=!!Q):K.refs.forEach(ie=>ie.checked=ie.value===Q):m0(K.ref)?K.ref.value="":(K.ref.value=Q,K.ref.type||h.state.next({name:M,values:Lt(i)})))}(z.shouldDirty||z.shouldTouch)&&b(M,Q,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&ee(M)},se=(M,F,z)=>{for(const te in F){const Q=F[te],K=`${M}.${te}`,ie=re(r,K);(a.array.has(M)||wt(Q)||ie&&!ie._f)&&!Ki(Q)?se(K,Q,z):X(K,Q,z)}},V=(M,F,z={})=>{const te=re(r,M),Q=a.array.has(M),K=Lt(F);Qe(i,M,K),Q?(h.array.next({name:M,values:Lt(i)}),(d.isDirty||d.dirtyFields||p.isDirty||p.dirtyFields)&&z.shouldDirty&&h.state.next({name:M,dirtyFields:Il(s,i),isDirty:A(M,K)})):te&&!te._f&&!cn(K)?se(M,K,z):X(M,K,z),HE(M,a)&&h.state.next({...n}),h.state.next({name:o.mount?M:void 0,values:Lt(i)})},G=async M=>{o.mount=!0;const F=M.target;let z=F.name,te=!0;const Q=re(r,z),K=ie=>{te=Number.isNaN(ie)||Ki(ie)&&isNaN(ie.getTime())||Vs(ie,re(i,z,ie))};if(Q){let ie,we;const Xe=F.type?$E(Q._f):JR(M),xt=M.type===kh.BLUR||M.type===kh.FOCUS_OUT,Er=!z$(Q._f)&&!e.resolver&&!re(n.errors,z)&&!Q._f.deps||W$(xt,re(n.touchedFields,z),n.isSubmitted,_,g),$r=HE(z,a,xt);Qe(i,z,Xe),xt?(Q._f.onBlur&&Q._f.onBlur(M),l&&l(0)):Q._f.onChange&&Q._f.onChange(M);const ws=b(z,Xe,xt),zr=!an(ws)||$r;if(!xt&&h.state.next({name:z,type:M.type,values:Lt(i)}),Er)return(d.isValid||p.isValid)&&(e.mode==="onBlur"?xt&&T():xt||T()),zr&&h.state.next({name:z,...$r?{}:ws});if(!xt&&$r&&h.state.next({...n}),e.resolver){const{errors:In}=await R([z]);if(K(Xe),te){const il=WE(n.errors,r,z),me=WE(In,r,il.name||z);ie=me.error,z=me.name,we=an(In)}}else v([z],!0),ie=(await KE(Q,a.disabled,i,y,e.shouldUseNativeValidation))[z],v([z]),K(Xe),te&&(ie?we=!1:(d.isValid||p.isValid)&&(we=await O(r,!0)));te&&(Q._f.deps&&ee(Q._f.deps),C(z,we,ie,ws))}},ne=(M,F)=>{if(re(n.errors,F)&&M.focus)return M.focus(),1},ee=async(M,F={})=>{let z,te;const Q=tc(M);if(e.resolver){const K=await N(gt(M)?M:Q);z=an(K),te=M?!Q.some(ie=>re(K,ie)):z}else M?(te=(await Promise.all(Q.map(async K=>{const ie=re(r,K);return await O(ie&&ie._f?{[K]:ie}:ie)}))).every(Boolean),!(!te&&!n.isValid)&&T()):te=z=await O(r);return h.state.next({...!Nr(M)||(d.isValid||p.isValid)&&z!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:z}:{},errors:n.errors}),F.shouldFocus&&!te&&nc(r,ne,M?Q:a.mount),te},oe=M=>{const F={...o.mount?i:s};return gt(M)?F:Nr(M)?re(F,M):M.map(z=>re(F,z))},ue=(M,F)=>({invalid:!!re((F||n).errors,M),isDirty:!!re((F||n).dirtyFields,M),error:re((F||n).errors,M),isValidating:!!re(n.validatingFields,M),isTouched:!!re((F||n).touchedFields,M)}),Ae=M=>{M&&tc(M).forEach(F=>Ct(n.errors,F)),h.state.next({errors:M?n.errors:{}})},Ke=(M,F,z)=>{const te=(re(r,M,{_f:{}})._f||{}).ref,Q=re(n.errors,M)||{},{ref:K,message:ie,type:we,...Xe}=Q;Qe(n.errors,M,{...Xe,...F,ref:te}),h.state.next({name:M,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&te&&te.focus&&te.focus()},Se=(M,F)=>ur(M)?h.state.subscribe({next:z=>M(B(void 0,F),z)}):B(M,F,!0),de=M=>h.state.subscribe({next:F=>{H$(M.name,F.name,M.exact)&&B$(F,M.formState||d,ct,M.reRenderRoot)&&M.callback({values:{...i},...n,...F})}}).unsubscribe,De=M=>(o.mount=!0,p={...p,...M.formState},de({...M,formState:p})),We=(M,F={})=>{for(const z of M?tc(M):a.mount)a.mount.delete(z),a.array.delete(z),F.keepValue||(Ct(r,z),Ct(i,z)),!F.keepError&&Ct(n.errors,z),!F.keepDirty&&Ct(n.dirtyFields,z),!F.keepTouched&&Ct(n.touchedFields,z),!F.keepIsValidating&&Ct(n.validatingFields,z),!e.shouldUnregister&&!F.keepDefaultValue&&Ct(s,z);h.state.next({values:Lt(i)}),h.state.next({...n,...F.keepDirty?{isDirty:A()}:{}}),!F.keepIsValid&&T()},xe=({disabled:M,name:F})=>{(kn(M)&&o.mount||M||a.disabled.has(F))&&(M?a.disabled.add(F):a.disabled.delete(F))},Ce=(M,F={})=>{let z=re(r,M);const te=kn(F.disabled)||kn(e.disabled);return Qe(r,M,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:M}},name:M,mount:!0,...F}}),a.mount.add(M),z?xe({disabled:kn(F.disabled)?F.disabled:e.disabled,name:M}):j(M,!0,F.value),{...te?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Rl(F.min),max:Rl(F.max),minLength:Rl(F.minLength),maxLength:Rl(F.maxLength),pattern:Rl(F.pattern)}:{},name:M,onChange:G,onBlur:G,ref:Q=>{if(Q){Ce(M,F),z=re(r,M);const K=gt(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,ie=L$(K),we=z._f.refs||[];if(ie?we.find(Xe=>Xe===K):K===z._f.ref)return;Qe(r,M,{_f:{...z._f,...ie?{refs:[...we.filter(Gp),K,...Array.isArray(re(s,M))?[{}]:[]],ref:{type:K.type,name:M}}:{ref:K}}}),j(M,!1,void 0,K)}else z=re(r,M,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(ZR(a.array,M)&&o.action)&&a.unMount.add(M)}}},be=()=>e.shouldFocusError&&nc(r,ne,a.mount),pt=M=>{kn(M)&&(h.state.next({disabled:M}),nc(r,(F,z)=>{const te=re(r,z);te&&(F.disabled=te._f.disabled||M,Array.isArray(te._f.refs)&&te._f.refs.forEach(Q=>{Q.disabled=te._f.disabled||M}))},0,!1))},_t=(M,F)=>async z=>{let te;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let Q=Lt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:ie}=await R();n.errors=K,Q=ie}else await O(r);if(a.disabled.size)for(const K of a.disabled)Qe(Q,K,void 0);if(Ct(n.errors,"root"),an(n.errors)){h.state.next({errors:{}});try{await M(Q,z)}catch(K){te=K}}else F&&await F({...n.errors},z),be(),setTimeout(be);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:an(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},mn=(M,F={})=>{re(r,M)&&(gt(F.defaultValue)?V(M,Lt(re(s,M))):(V(M,F.defaultValue),Qe(s,M,Lt(F.defaultValue))),F.keepTouched||Ct(n.touchedFields,M),F.keepDirty||(Ct(n.dirtyFields,M),n.isDirty=F.defaultValue?A(M,Lt(re(s,M))):A()),F.keepError||(Ct(n.errors,M),d.isValid&&T()),h.state.next({...n}))},kt=(M,F={})=>{const z=M?Lt(M):s,te=Lt(z),Q=an(M),K=Q?s:te;if(F.keepDefaultValues||(s=z),!F.keepValues){if(F.keepDirtyValues){const ie=new Set([...a.mount,...Object.keys(Il(s,i))]);for(const we of Array.from(ie))re(n.dirtyFields,we)?Qe(K,we,re(i,we)):V(we,re(K,we))}else{if(h0&&gt(M))for(const ie of a.mount){const we=re(r,ie);if(we&&we._f){const Xe=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(Dh(Xe)){const xt=Xe.closest("form");if(xt){xt.reset();break}}}}for(const ie of a.mount)V(ie,re(K,ie))}i=Lt(K),h.array.next({values:{...K}}),h.state.next({values:{...K}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:Q?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Vs(M,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Q?{}:F.keepDirtyValues?F.keepDefaultValues&&i?Il(s,i):n.dirtyFields:F.keepDefaultValues&&M?Il(s,M):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Bn=(M,F)=>kt(ur(M)?M(i):M,F),Mi=(M,F={})=>{const z=re(r,M),te=z&&z._f;if(te){const Q=te.refs?te.refs[0]:te.ref;Q.focus&&(Q.focus(),F.shouldSelect&&ur(Q.select)&&Q.select())}},ct=M=>{n={...n,...M}},ji={control:{register:Ce,unregister:We,getFieldState:ue,handleSubmit:_t,setError:Ke,_subscribe:de,_runSchema:R,_getWatch:B,_getDirty:A,_setValid:T,_setFieldArray:S,_setDisabledField:xe,_setErrors:k,_getFieldArray:Z,_reset:kt,_resetDefaultValues:()=>ur(e.defaultValues)&&e.defaultValues().then(M=>{Bn(M,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:pt,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return a},set _names(M){a=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:De,trigger:ee,register:Ce,handleSubmit:_t,watch:Se,setValue:V,getValues:oe,reset:Bn,resetField:mn,clearErrors:Ae,unregister:We,setError:Ke,setFocus:Mi,getFieldState:ue};return{...ji,formControl:ji}}function cP(t={}){const e=U.useRef(void 0),n=U.useRef(void 0),[r,s]=U.useState({isDirty:!1,isValidating:!1,isLoading:ur(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ur(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Q$(t),formState:r},t.formControl&&t.defaultValues&&!ur(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,U.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),U.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),U.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),U.useEffect(()=>{t.values&&!Vs(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),U.useEffect(()=>{t.errors&&!an(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),U.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),U.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=tP(r,i),e.current}function Y$(){const{register:t}=ki(),{toast:e}=qy(),n=To(),[r,s]=w.useState(!1),{register:i,handleSubmit:o,formState:{errors:a},watch:l}=cP(),u=l("password",""),d=async p=>{s(!0);try{await t(p.name,p.email,p.phone,p.password),e({title:"Cadastro realizado com sucesso",description:"Sua conta foi criada com sucesso!",variant:"default"}),n("/meus-pets")}catch(h){e({title:"Erro ao criar conta",description:h.message||"Ocorreu um erro ao tentar criar sua conta. Tente novamente.",variant:"destructive"})}finally{s(!1)}};return f.jsx(vs,{children:f.jsx("div",{className:"container mx-auto px-4 py-10",children:f.jsx("div",{className:"max-w-lg mx-auto",children:f.jsxs(Vn,{className:"shadow-lg",children:[f.jsxs(ps,{children:[f.jsx(xi,{className:"text-2xl text-center",children:"Cadastro"}),f.jsx(za,{className:"text-center",children:"Crie sua conta para começar a usar o PetFinder"})]}),f.jsx(Fn,{children:f.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"name",children:"Nome Completo"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(BO,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"name",...i("name",{required:!0}),type:"text",placeholder:"Seu nome completo",className:`pl-10 ${a.name?"border-red-500":""}`})]}),a.name&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Nome é obrigatório"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"email",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(Zy,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"email",...i("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}),type:"email",placeholder:"seu@email.com",className:`pl-10 ${a.email?"border-red-500":""}`})]}),a.email&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.email.type==="required"?"Email é obrigatório":"Email inválido"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"phone",children:"Telefone"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(cC,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"phone",...i("phone",{required:!0}),type:"tel",placeholder:"(00) 00000-0000",className:`pl-10 ${a.phone?"border-red-500":""}`})]}),a.phone&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Telefone é obrigatório"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"password",children:"Senha"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(tg,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"password",...i("password",{required:!0,minLength:6}),type:"password",placeholder:"********",className:`pl-10 ${a.password?"border-red-500":""}`})]}),a.password&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.password.type==="required"?"Senha é obrigatória":"Senha deve ter no mínimo 6 caracteres"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"confirmPassword",children:"Confirme a Senha"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(tg,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"confirmPassword",...i("confirmPassword",{required:!0,validate:p=>p===u||"As senhas não coincidem"}),type:"password",placeholder:"********",className:`pl-10 ${a.confirmPassword?"border-red-500":""}`})]}),a.confirmPassword&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.confirmPassword.type==="required"?"Confirmação de senha é obrigatória":"As senhas não coincidem"})]}),f.jsx("div",{className:"pt-2",children:f.jsx(je,{type:"submit",className:"w-full bg-petgreen hover:bg-opacity-90",disabled:r,children:r?"Cadastrando...":"Cadastrar"})})]})}),f.jsx(su,{className:"flex justify-center",children:f.jsx("div",{className:"text-center",children:f.jsxs("span",{className:"text-sm text-gray-500",children:["Já tem uma conta?"," ",f.jsx(Fe,{to:"/login",className:"text-petgreen hover:underline",children:"Faça login"})]})})})]})})})})}const uP=w.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));uP.displayName="Textarea";function GE(t,[e,n]){return Math.min(n,Math.max(e,t))}var X$=w.createContext(void 0);function y0(t){const e=w.useContext(X$);return t||e||"ltr"}var Qp=0;function dP(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??QE()),document.body.insertAdjacentElement("beforeend",t[1]??QE()),Qp++,()=>{Qp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qp--}},[])}function QE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Yp="focusScope.autoFocusOnMount",Xp="focusScope.autoFocusOnUnmount",YE={bubbles:!1,cancelable:!0},J$="FocusScope",v0=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=w.useState(null),u=bn(s),d=bn(i),p=w.useRef(null),h=He(e,y=>l(y)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(S){if(g.paused||!a)return;const I=S.target;a.contains(I)?p.current=I:Ps(p.current,{select:!0})},x=function(S){if(g.paused||!a)return;const I=S.relatedTarget;I!==null&&(a.contains(I)||Ps(p.current,{select:!0}))},T=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&Ps(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const v=new MutationObserver(T);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),v.disconnect()}}},[r,a,g.paused]),w.useEffect(()=>{if(a){JE.add(g);const y=document.activeElement;if(!a.contains(y)){const T=new CustomEvent(Yp,YE);a.addEventListener(Yp,u),a.dispatchEvent(T),T.defaultPrevented||(Z$(sz(hP(a)),{select:!0}),document.activeElement===y&&Ps(a))}return()=>{a.removeEventListener(Yp,u),setTimeout(()=>{const T=new CustomEvent(Xp,YE);a.addEventListener(Xp,d),a.dispatchEvent(T),T.defaultPrevented||Ps(y??document.body,{select:!0}),a.removeEventListener(Xp,d),JE.remove(g)},0)}}},[a,u,d,g]);const _=w.useCallback(y=>{if(!n&&!r||g.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,T=document.activeElement;if(x&&T){const v=y.currentTarget,[S,I]=ez(v);S&&I?!y.shiftKey&&T===I?(y.preventDefault(),n&&Ps(S,{select:!0})):y.shiftKey&&T===S&&(y.preventDefault(),n&&Ps(I,{select:!0})):T===v&&y.preventDefault()}},[n,r,g.paused]);return f.jsx(Te.div,{tabIndex:-1,...o,ref:h,onKeyDown:_})});v0.displayName=J$;function Z$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ps(r,{select:e}),document.activeElement!==n)return}function ez(t){const e=hP(t),n=XE(e,t),r=XE(e.reverse(),t);return[n,r]}function hP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XE(t,e){for(const n of t)if(!tz(n,{upTo:e}))return n}function tz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function nz(t){return t instanceof HTMLInputElement&&"select"in t}function Ps(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&nz(t)&&e&&t.select()}}var JE=rz();function rz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ZE(t,e),t.unshift(e)},remove(e){var n;t=ZE(t,e),(n=t[0])==null||n.resume()}}}function ZE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function sz(t){return t.filter(e=>e.tagName!=="A")}var iz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Oo=new WeakMap,Ju=new WeakMap,Zu={},Jp=0,fP=function(t){return t&&(t.host||fP(t.parentNode))},oz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=fP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},az=function(t,e,n,r){var s=oz(e,Array.isArray(t)?t:[t]);Zu[n]||(Zu[n]=new WeakMap);var i=Zu[n],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var g=h.getAttribute(r),_=g!==null&&g!=="false",y=(Oo.get(h)||0)+1,x=(i.get(h)||0)+1;Oo.set(h,y),i.set(h,x),o.push(h),y===1&&_&&Ju.set(h,!0),x===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",h,T)}})};return d(e),a.clear(),Jp++,function(){o.forEach(function(p){var h=Oo.get(p)-1,g=i.get(p)-1;Oo.set(p,h),i.set(p,g),h||(Ju.has(p)||p.removeAttribute(r),Ju.delete(p)),g||p.removeAttribute(n)}),Jp--,Jp||(Oo=new WeakMap,Oo=new WeakMap,Ju=new WeakMap,Zu={})}},pP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=iz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),az(r,s,n,"aria-hidden")):function(){return null}},Rd="right-scroll-bar-position",Pd="width-before-scroll-bar",lz="with-scroll-bars-hidden",cz="--removed-body-scroll-bar-size";function Zp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uz(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var dz=typeof window<"u"?w.useLayoutEffect:w.useEffect,e1=new WeakMap;function hz(t,e){var n=uz(null,function(r){return t.forEach(function(s){return Zp(s,r)})});return dz(function(){var r=e1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Zp(a,null)}),i.forEach(function(a){s.has(a)||Zp(a,o)})}e1.set(n,t)},[t]),n}function fz(t){return t}function pz(t,e){e===void 0&&(e=fz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function mz(t){t===void 0&&(t={});var e=pz(null);return e.options=Ar({async:!0,ssr:!1},t),e}var mP=function(t){var e=t.sideCar,n=Kc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Ar({},n))};mP.isSideCarExport=!0;function gz(t,e){return t.useMedium(e),mP}var gP=mz(),em=function(){},Ff=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:em,onWheelCapture:em,onTouchMoveCapture:em}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,g=t.noIsolation,_=t.inert,y=t.allowPinchZoom,x=t.as,T=x===void 0?"div":x,v=t.gapMode,S=Kc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=h,k=hz([n,e]),j=Ar(Ar({},S),s);return w.createElement(w.Fragment,null,d&&w.createElement(I,{sideCar:gP,removeScrollBar:u,shards:p,noIsolation:g,inert:_,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:v}),o?w.cloneElement(w.Children.only(a),Ar(Ar({},j),{ref:k})):w.createElement(T,Ar({},j,{className:l,ref:k}),a))});Ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ff.classNames={fullWidth:Pd,zeroRight:Rd};var yz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yz();return e&&t.setAttribute("nonce",e),t}function wz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _z(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vz())&&(wz(e,n),_z(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ez=function(){var t=xz();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yP=function(){var t=Ez(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Tz={left:0,top:0,right:0,gap:0},tm=function(t){return parseInt(t||"",10)||0},Sz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[tm(n),tm(r),tm(s)]},Cz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Tz;var e=Sz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bz=yP(),pa="data-scroll-locked",Iz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(pa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Rd," .").concat(Rd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pd," .").concat(Pd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pa,`] {
    `).concat(cz,": ").concat(a,`px;
  }
`)},t1=function(){var t=parseInt(document.body.getAttribute(pa)||"0",10);return isFinite(t)?t:0},Rz=function(){w.useEffect(function(){return document.body.setAttribute(pa,(t1()+1).toString()),function(){var t=t1()-1;t<=0?document.body.removeAttribute(pa):document.body.setAttribute(pa,t.toString())}},[])},Pz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Rz();var i=w.useMemo(function(){return Cz(s)},[s]);return w.createElement(bz,{styles:Iz(i,!e,s,n?"":"!important")})},zg=!1;if(typeof window<"u")try{var ed=Object.defineProperty({},"passive",{get:function(){return zg=!0,!0}});window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{zg=!1}var Mo=zg?{passive:!1}:!1,Az=function(t){return t.tagName==="TEXTAREA"},vP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Az(t)&&n[e]==="visible")},Nz=function(t){return vP(t,"overflowY")},kz=function(t){return vP(t,"overflowX")},n1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wP(t,r);if(s){var i=_P(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Dz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Oz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wP=function(t,e){return t==="v"?Nz(e):kz(e)},_P=function(t,e){return t==="v"?Dz(e):Oz(e)},Mz=function(t,e){return t==="h"&&e==="rtl"?-1:1},jz=function(t,e,n,r,s){var i=Mz(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,p=0,h=0;do{var g=_P(t,a),_=g[0],y=g[1],x=g[2],T=y-x-i*_;(_||T)&&wP(t,a)&&(p+=T,h+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},td=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},r1=function(t){return[t.deltaX,t.deltaY]},s1=function(t){return t&&"current"in t?t.current:t},Lz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Vz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fz=0,jo=[];function Uz(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(Fz++)[0],i=w.useState(yP)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=L4([t.lockRef.current],(t.shards||[]).map(s1),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var T=td(y),v=n.current,S="deltaX"in y?y.deltaX:v[0]-T[0],I="deltaY"in y?y.deltaY:v[1]-T[1],k,j=y.target,b=Math.abs(S)>Math.abs(I)?"h":"v";if("touches"in y&&b==="h"&&j.type==="range")return!1;var C=n1(b,j);if(!C)return!0;if(C?k=b:(k=b==="v"?"h":"v",C=n1(b,j)),!C)return!1;if(!r.current&&"changedTouches"in y&&(S||I)&&(r.current=k),!k)return!0;var R=r.current||k;return jz(R,x,y,R==="h"?S:I,!0)},[]),l=w.useCallback(function(y){var x=y;if(!(!jo.length||jo[jo.length-1]!==i)){var T="deltaY"in x?r1(x):td(x),v=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&Lz(k.delta,T)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var S=(o.current.shards||[]).map(s1).filter(Boolean).filter(function(k){return k.contains(x.target)}),I=S.length>0?a(x,S[0]):!o.current.noIsolation;I&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(y,x,T,v){var S={name:y,delta:x,target:T,should:v,shadowParent:$z(T)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(I){return I!==S})},1)},[]),d=w.useCallback(function(y){n.current=td(y),r.current=void 0},[]),p=w.useCallback(function(y){u(y.type,r1(y),y.target,a(y,t.lockRef.current))},[]),h=w.useCallback(function(y){u(y.type,td(y),y.target,a(y,t.lockRef.current))},[]);w.useEffect(function(){return jo.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Mo),document.addEventListener("touchmove",l,Mo),document.addEventListener("touchstart",d,Mo),function(){jo=jo.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Mo),document.removeEventListener("touchmove",l,Mo),document.removeEventListener("touchstart",d,Mo)}},[]);var g=t.removeScrollBar,_=t.inert;return w.createElement(w.Fragment,null,_?w.createElement(i,{styles:Vz(s)}):null,g?w.createElement(Pz,{gapMode:t.gapMode}):null)}function $z(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zz=gz(gP,Uz);var w0=w.forwardRef(function(t,e){return w.createElement(Ff,Ar({},t,{ref:e,sideCar:zz}))});w0.classNames=Ff.classNames;var Bz=[" ","Enter","ArrowUp","ArrowDown"],Hz=[" ","Enter"],ou="Select",[Uf,$f,Wz]=Ky(ou),[sl,B8]=Eo(ou,[Wz,uf]),zf=uf(),[qz,Di]=sl(ou),[Kz,Gz]=sl(ou),xP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:p,disabled:h,required:g,form:_}=t,y=zf(e),[x,T]=w.useState(null),[v,S]=w.useState(null),[I,k]=w.useState(!1),j=y0(u),[b=!1,C]=ao({prop:r,defaultProp:s,onChange:i}),[R,N]=ao({prop:o,defaultProp:a,onChange:l}),O=w.useRef(null),D=x?_||!!x.closest("form"):!0,[A,B]=w.useState(new Set),Z=Array.from(A).map(X=>X.props.value).join(";");return f.jsx(dL,{...y,children:f.jsxs(qz,{required:g,scope:e,trigger:x,onTriggerChange:T,valueNode:v,onValueNodeChange:S,valueNodeHasChildren:I,onValueNodeHasChildrenChange:k,contentId:eo(),value:R,onValueChange:N,open:b,onOpenChange:C,dir:j,triggerPointerDownPosRef:O,disabled:h,children:[f.jsx(Uf.Provider,{scope:e,children:f.jsx(Kz,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(X=>{B(se=>new Set(se).add(X))},[]),onNativeOptionRemove:w.useCallback(X=>{B(se=>{const V=new Set(se);return V.delete(X),V})},[]),children:n})}),D?f.jsxs(qP,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:p,value:R,onChange:X=>N(X.target.value),disabled:h,form:_,children:[R===void 0?f.jsx("option",{value:""}):null,Array.from(A)]},Z):null]})})};xP.displayName=ou;var EP="SelectTrigger",TP=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=zf(n),o=Di(EP,n),a=o.disabled||r,l=He(e,o.onTriggerChange),u=$f(n),d=w.useRef("touch"),[p,h,g]=KP(y=>{const x=u().filter(S=>!S.disabled),T=x.find(S=>S.value===o.value),v=GP(x,y,T);v!==void 0&&o.onValueChange(v.value)}),_=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(FC,{asChild:!0,...i,children:f.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":WP(o.value)?"":void 0,...s,ref:l,onClick:fe(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&_(y)}),onPointerDown:fe(s.onPointerDown,y=>{d.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(_(y),y.preventDefault())}),onKeyDown:fe(s.onKeyDown,y=>{const x=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(x&&y.key===" ")&&Bz.includes(y.key)&&(_(),y.preventDefault())})})})});TP.displayName=EP;var SP="SelectValue",CP=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Di(SP,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,p=He(e,l.onValueNodeChange);return nn(()=>{u(d)},[u,d]),f.jsx(Te.span,{...a,ref:p,style:{pointerEvents:"none"},children:WP(l.value)?f.jsx(f.Fragment,{children:o}):i})});CP.displayName=SP;var Qz="SelectIcon",bP=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(Te.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});bP.displayName=Qz;var Yz="SelectPortal",IP=t=>f.jsx(rf,{asChild:!0,...t});IP.displayName=Yz;var go="SelectContent",RP=w.forwardRef((t,e)=>{const n=Di(go,t.__scopeSelect),[r,s]=w.useState();if(nn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?xo.createPortal(f.jsx(PP,{scope:t.__scopeSelect,children:f.jsx(Uf.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(AP,{...t,ref:e})});RP.displayName=go;var rr=10,[PP,Oi]=sl(go),Xz="SelectContentImpl",AP=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:g,sticky:_,hideWhenDetached:y,avoidCollisions:x,...T}=t,v=Di(go,n),[S,I]=w.useState(null),[k,j]=w.useState(null),b=He(e,de=>I(de)),[C,R]=w.useState(null),[N,O]=w.useState(null),D=$f(n),[A,B]=w.useState(!1),Z=w.useRef(!1);w.useEffect(()=>{if(S)return pP(S)},[S]),dP();const X=w.useCallback(de=>{const[De,...We]=D().map(be=>be.ref.current),[xe]=We.slice(-1),Ce=document.activeElement;for(const be of de)if(be===Ce||(be==null||be.scrollIntoView({block:"nearest"}),be===De&&k&&(k.scrollTop=0),be===xe&&k&&(k.scrollTop=k.scrollHeight),be==null||be.focus(),document.activeElement!==Ce))return},[D,k]),se=w.useCallback(()=>X([C,S]),[X,C,S]);w.useEffect(()=>{A&&se()},[A,se]);const{onOpenChange:V,triggerPointerDownPosRef:G}=v;w.useEffect(()=>{if(S){let de={x:0,y:0};const De=xe=>{var Ce,be;de={x:Math.abs(Math.round(xe.pageX)-(((Ce=G.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((be=G.current)==null?void 0:be.y)??0))}},We=xe=>{de.x<=10&&de.y<=10?xe.preventDefault():S.contains(xe.target)||V(!1),document.removeEventListener("pointermove",De),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",We,{capture:!0})}}},[S,V,G]),w.useEffect(()=>{const de=()=>V(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[V]);const[ne,ee]=KP(de=>{const De=D().filter(Ce=>!Ce.disabled),We=De.find(Ce=>Ce.ref.current===document.activeElement),xe=GP(De,de,We);xe&&setTimeout(()=>xe.ref.current.focus())}),oe=w.useCallback((de,De,We)=>{const xe=!Z.current&&!We;(v.value!==void 0&&v.value===De||xe)&&(R(de),xe&&(Z.current=!0))},[v.value]),ue=w.useCallback(()=>S==null?void 0:S.focus(),[S]),Ae=w.useCallback((de,De,We)=>{const xe=!Z.current&&!We;(v.value!==void 0&&v.value===De||xe)&&O(de)},[v.value]),Ke=r==="popper"?Bg:NP,Se=Ke===Bg?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:g,sticky:_,hideWhenDetached:y,avoidCollisions:x}:{};return f.jsx(PP,{scope:n,content:S,viewport:k,onViewportChange:j,itemRefCallback:oe,selectedItem:C,onItemLeave:ue,itemTextRefCallback:Ae,focusSelectedItem:se,selectedItemText:N,position:r,isPositioned:A,searchRef:ne,children:f.jsx(w0,{as:oo,allowPinchZoom:!0,children:f.jsx(v0,{asChild:!0,trapped:v.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:fe(s,de=>{var De;(De=v.trigger)==null||De.focus({preventScroll:!0}),de.preventDefault()}),children:f.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:f.jsx(Ke,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:de=>de.preventDefault(),...T,...Se,onPlaced:()=>B(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:fe(T.onKeyDown,de=>{const De=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!De&&de.key.length===1&&ee(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let xe=D().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(de.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Ce=de.target,be=xe.indexOf(Ce);xe=xe.slice(be+1)}setTimeout(()=>X(xe)),de.preventDefault()}})})})})})})});AP.displayName=Xz;var Jz="SelectItemAlignedPosition",NP=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Di(go,n),o=Oi(go,n),[a,l]=w.useState(null),[u,d]=w.useState(null),p=He(e,b=>d(b)),h=$f(n),g=w.useRef(!1),_=w.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:T,focusSelectedItem:v}=o,S=w.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&x&&T){const b=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),N=T.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=N.left-C.left,be=R.left-Ce,pt=b.left-be,_t=b.width+pt,mn=Math.max(_t,C.width),kt=window.innerWidth-rr,Bn=GE(be,[rr,Math.max(rr,kt-mn)]);a.style.minWidth=_t+"px",a.style.left=Bn+"px"}else{const Ce=C.right-N.right,be=window.innerWidth-R.right-Ce,pt=window.innerWidth-b.right-be,_t=b.width+pt,mn=Math.max(_t,C.width),kt=window.innerWidth-rr,Bn=GE(be,[rr,Math.max(rr,kt-mn)]);a.style.minWidth=_t+"px",a.style.right=Bn+"px"}const O=h(),D=window.innerHeight-rr*2,A=y.scrollHeight,B=window.getComputedStyle(u),Z=parseInt(B.borderTopWidth,10),X=parseInt(B.paddingTop,10),se=parseInt(B.borderBottomWidth,10),V=parseInt(B.paddingBottom,10),G=Z+X+A+V+se,ne=Math.min(x.offsetHeight*5,G),ee=window.getComputedStyle(y),oe=parseInt(ee.paddingTop,10),ue=parseInt(ee.paddingBottom,10),Ae=b.top+b.height/2-rr,Ke=D-Ae,Se=x.offsetHeight/2,de=x.offsetTop+Se,De=Z+X+de,We=G-De;if(De<=Ae){const Ce=O.length>0&&x===O[O.length-1].ref.current;a.style.bottom="0px";const be=u.clientHeight-y.offsetTop-y.offsetHeight,pt=Math.max(Ke,Se+(Ce?ue:0)+be+se),_t=De+pt;a.style.height=_t+"px"}else{const Ce=O.length>0&&x===O[0].ref.current;a.style.top="0px";const pt=Math.max(Ae,Z+y.offsetTop+(Ce?oe:0)+Se)+We;a.style.height=pt+"px",y.scrollTop=De-Ae+y.offsetTop}a.style.margin=`${rr}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,a,u,y,x,T,i.dir,r]);nn(()=>S(),[S]);const[I,k]=w.useState();nn(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const j=w.useCallback(b=>{b&&_.current===!0&&(S(),v==null||v(),_.current=!1)},[S,v]);return f.jsx(eB,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:f.jsx(Te.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});NP.displayName=Jz;var Zz="SelectPopperPosition",Bg=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=rr,...i}=t,o=zf(n);return f.jsx(UC,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bg.displayName=Zz;var[eB,_0]=sl(go,{}),Hg="SelectViewport",kP=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Oi(Hg,n),o=_0(Hg,n),a=He(e,i.onViewportChange),l=w.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Uf.Slot,{scope:n,children:f.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&p){const g=Math.abs(l.current-d.scrollTop);if(g>0){const _=window.innerHeight-rr*2,y=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),T=Math.max(y,x);if(T<_){const v=T+g,S=Math.min(_,v),I=v-S;p.style.height=S+"px",p.style.bottom==="0px"&&(d.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});kP.displayName=Hg;var DP="SelectGroup",[tB,nB]=sl(DP),rB=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=eo();return f.jsx(tB,{scope:n,id:s,children:f.jsx(Te.div,{role:"group","aria-labelledby":s,...r,ref:e})})});rB.displayName=DP;var OP="SelectLabel",MP=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=nB(OP,n);return f.jsx(Te.div,{id:s.id,...r,ref:e})});MP.displayName=OP;var jh="SelectItem",[sB,jP]=sl(jh),LP=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Di(jh,n),l=Oi(jh,n),u=a.value===r,[d,p]=w.useState(i??""),[h,g]=w.useState(!1),_=He(e,v=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,v,r,s)}),y=eo(),x=w.useRef("touch"),T=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(sB,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:w.useCallback(v=>{p(S=>S||((v==null?void 0:v.textContent)??"").trim())},[]),children:f.jsx(Uf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(Te.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:fe(o.onFocus,()=>g(!0)),onBlur:fe(o.onBlur,()=>g(!1)),onClick:fe(o.onClick,()=>{x.current!=="mouse"&&T()}),onPointerUp:fe(o.onPointerUp,()=>{x.current==="mouse"&&T()}),onPointerDown:fe(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:fe(o.onPointerMove,v=>{var S;x.current=v.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,v=>{var S;v.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:fe(o.onKeyDown,v=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&v.key===" "||(Hz.includes(v.key)&&T(),v.key===" "&&v.preventDefault())})})})})});LP.displayName=jh;var Fl="SelectItemText",VP=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Di(Fl,n),a=Oi(Fl,n),l=jP(Fl,n),u=Gz(Fl,n),[d,p]=w.useState(null),h=He(e,T=>p(T),l.onItemTextChange,T=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,T,l.value,l.disabled)}),g=d==null?void 0:d.textContent,_=w.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=u;return nn(()=>(y(_),()=>x(_)),[y,x,_]),f.jsxs(f.Fragment,{children:[f.jsx(Te.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xo.createPortal(i.children,o.valueNode):null]})});VP.displayName=Fl;var FP="SelectItemIndicator",UP=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return jP(FP,n).isSelected?f.jsx(Te.span,{"aria-hidden":!0,...r,ref:e}):null});UP.displayName=FP;var Wg="SelectScrollUpButton",$P=w.forwardRef((t,e)=>{const n=Oi(Wg,t.__scopeSelect),r=_0(Wg,t.__scopeSelect),[s,i]=w.useState(!1),o=He(e,r.onScrollButtonChange);return nn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(BP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});$P.displayName=Wg;var qg="SelectScrollDownButton",zP=w.forwardRef((t,e)=>{const n=Oi(qg,t.__scopeSelect),r=_0(qg,t.__scopeSelect),[s,i]=w.useState(!1),o=He(e,r.onScrollButtonChange);return nn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(BP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});zP.displayName=qg;var BP=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Oi("SelectScrollButton",n),o=w.useRef(null),a=$f(n),l=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),nn(()=>{var d;const u=a().find(p=>p.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(Te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{l()})})}),iB="SelectSeparator",HP=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(Te.div,{"aria-hidden":!0,...r,ref:e})});HP.displayName=iB;var Kg="SelectArrow",oB=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zf(n),i=Di(Kg,n),o=Oi(Kg,n);return i.open&&o.position==="popper"?f.jsx($C,{...s,...r,ref:e}):null});oB.displayName=Kg;function WP(t){return t===""||t===void 0}var qP=w.forwardRef((t,e)=>{const{value:n,...r}=t,s=w.useRef(null),i=He(e,s),o=u0(n);return w.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const p=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(p)}},[o,n]),f.jsx(Bc,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});qP.displayName="BubbleSelect";function KP(t){const e=bn(t),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function GP(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=aB(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function aB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lB=xP,QP=TP,cB=CP,uB=bP,dB=IP,YP=RP,hB=kP,XP=MP,JP=LP,fB=VP,pB=UP,ZP=$P,eA=zP,tA=HP;const mB=lB,gB=cB,nA=w.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(QP,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(uB,{asChild:!0,children:f.jsx(aC,{className:"h-4 w-4 opacity-50"})})]}));nA.displayName=QP.displayName;const rA=w.forwardRef(({className:t,...e},n)=>f.jsx(ZP,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(cO,{className:"h-4 w-4"})}));rA.displayName=ZP.displayName;const sA=w.forwardRef(({className:t,...e},n)=>f.jsx(eA,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(aC,{className:"h-4 w-4"})}));sA.displayName=eA.displayName;const iA=w.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(dB,{children:f.jsxs(YP,{ref:s,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(rA,{}),f.jsx(hB,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(sA,{})]})}));iA.displayName=YP.displayName;const yB=w.forwardRef(({className:t,...e},n)=>f.jsx(XP,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));yB.displayName=XP.displayName;const Ad=w.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(JP,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(pB,{children:f.jsx(Jy,{className:"h-4 w-4"})})}),f.jsx(fB,{children:e})]}));Ad.displayName=JP.displayName;const vB=w.forwardRef(({className:t,...e},n)=>f.jsx(tA,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));vB.displayName=tA.displayName;function wB(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:g,..._}=p,y=(h==null?void 0:h[t][l])||a,x=w.useMemo(()=>_,Object.values(_));return f.jsx(y.Provider,{value:x,children:g})}function d(p,h){const g=(h==null?void 0:h[t][l])||a,_=w.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,_B(s,...e)]}function _B(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var nm="rovingFocusGroup.onEntryFocus",xB={bubbles:!1,cancelable:!0},Bf="RovingFocusGroup",[Gg,oA,EB]=Ky(Bf),[TB,aA]=wB(Bf,[EB]),[SB,CB]=TB(Bf),lA=w.forwardRef((t,e)=>f.jsx(Gg.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Gg.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(bB,{...t,ref:e})})}));lA.displayName=Bf;var bB=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,h=w.useRef(null),g=He(e,h),_=y0(i),[y=null,x]=ao({prop:o,defaultProp:a,onChange:l}),[T,v]=w.useState(!1),S=bn(u),I=oA(n),k=w.useRef(!1),[j,b]=w.useState(0);return w.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(nm,S),()=>C.removeEventListener(nm,S)},[S]),f.jsx(SB,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:y,onItemFocus:w.useCallback(C=>x(C),[x]),onItemShiftTab:w.useCallback(()=>v(!0),[]),onFocusableItemAdd:w.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:w.useCallback(()=>b(C=>C-1),[]),children:f.jsx(Te.div,{tabIndex:T||j===0?-1:0,"data-orientation":r,...p,ref:g,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{k.current=!0}),onFocus:fe(t.onFocus,C=>{const R=!k.current;if(C.target===C.currentTarget&&R&&!T){const N=new CustomEvent(nm,xB);if(C.currentTarget.dispatchEvent(N),!N.defaultPrevented){const O=I().filter(X=>X.focusable),D=O.find(X=>X.active),A=O.find(X=>X.id===y),Z=[D,A,...O].filter(Boolean).map(X=>X.ref.current);dA(Z,d)}}k.current=!1}),onBlur:fe(t.onBlur,()=>v(!1))})})}),cA="RovingFocusGroupItem",uA=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=eo(),l=i||a,u=CB(cA,n),d=u.currentTabStopId===l,p=oA(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return w.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),f.jsx(Gg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(Te.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,_=>{r?u.onItemFocus(l):_.preventDefault()}),onFocus:fe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:fe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const y=PB(_,u.orientation,u.dir);if(y!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=p().filter(v=>v.focusable).map(v=>v.ref.current);if(y==="last")T.reverse();else if(y==="prev"||y==="next"){y==="prev"&&T.reverse();const v=T.indexOf(_.currentTarget);T=u.loop?AB(T,v+1):T.slice(v+1)}setTimeout(()=>dA(T))}})})})});uA.displayName=cA;var IB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function PB(t,e,n){const r=RB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return IB[r]}function dA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var NB=lA,kB=uA,x0="Radio",[DB,hA]=Eo(x0),[OB,MB]=DB(x0),fA=w.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[p,h]=w.useState(null),g=He(e,x=>h(x)),_=w.useRef(!1),y=p?u||!!p.closest("form"):!0;return f.jsxs(OB,{scope:n,checked:s,disabled:o,children:[f.jsx(Te.button,{type:"button",role:"radio","aria-checked":s,"data-state":gA(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:g,onClick:fe(t.onClick,x=>{s||l==null||l(),y&&(_.current=x.isPropagationStopped(),_.current||x.stopPropagation())})}),y&&f.jsx(jB,{control:p,bubbles:!_.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});fA.displayName=x0;var pA="RadioIndicator",mA=w.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=MB(pA,n);return f.jsx(Ci,{present:r||i.checked,children:f.jsx(Te.span,{"data-state":gA(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});mA.displayName=pA;var jB=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=w.useRef(null),o=u0(n),a=av(e);return w.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const h=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(h)}},[o,n,r]),f.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gA(t){return t?"checked":"unchecked"}var LB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E0="RadioGroup",[VB,H8]=Eo(E0,[aA,hA]),yA=aA(),vA=hA(),[FB,UB]=VB(E0),wA=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:p,...h}=t,g=yA(n),_=y0(u),[y,x]=ao({prop:i,defaultProp:s,onChange:p});return f.jsx(FB,{scope:n,name:r,required:o,disabled:a,value:y,onValueChange:x,children:f.jsx(NB,{asChild:!0,...g,orientation:l,dir:_,loop:d,children:f.jsx(Te.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:_,...h,ref:e})})})});wA.displayName=E0;var _A="RadioGroupItem",xA=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=UB(_A,n),o=i.disabled||r,a=yA(n),l=vA(n),u=w.useRef(null),d=He(e,u),p=i.value===s.value,h=w.useRef(!1);return w.useEffect(()=>{const g=y=>{LB.includes(y.key)&&(h.current=!0)},_=()=>h.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",_)}},[]),f.jsx(kB,{asChild:!0,...a,focusable:!o,active:p,children:f.jsx(fA,{disabled:o,required:i.required,checked:p,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:fe(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:fe(s.onFocus,()=>{var g;h.current&&((g=u.current)==null||g.click())})})})});xA.displayName=_A;var $B="RadioGroupIndicator",EA=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=vA(n);return f.jsx(mA,{...s,...r,ref:e})});EA.displayName=$B;var TA=wA,SA=xA,zB=EA;const CA=w.forwardRef(({className:t,...e},n)=>f.jsx(TA,{className:Oe("grid gap-2",t),...e,ref:n}));CA.displayName=TA.displayName;const Qg=w.forwardRef(({className:t,...e},n)=>f.jsx(SA,{ref:n,className:Oe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(zB,{className:"flex items-center justify-center",children:f.jsx(mO,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Qg.displayName=SA.displayName;var BB=Object.defineProperty,Lh=Object.getOwnPropertySymbols,bA=Object.prototype.hasOwnProperty,IA=Object.prototype.propertyIsEnumerable,i1=(t,e,n)=>e in t?BB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yg=(t,e)=>{for(var n in e||(e={}))bA.call(e,n)&&i1(t,n,e[n]);if(Lh)for(var n of Lh(e))IA.call(e,n)&&i1(t,n,e[n]);return t},Xg=(t,e)=>{var n={};for(var r in t)bA.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Lh)for(var r of Lh(t))e.indexOf(r)<0&&IA.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var yo;(t=>{const e=class Re{constructor(l,u,d,p){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<Re.MIN_VERSION||l>Re.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let _=0;_<this.size;_++)h.push(!1);for(let _=0;_<this.size;_++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),p==-1){let _=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const x=this.getPenaltyScore();x<_&&(p=y,_=x),this.applyMask(y)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(l,u){const d=t.QrSegment.makeSegments(l);return Re.encodeSegments(d,u)}static encodeBinary(l,u){const d=t.QrSegment.makeBytes(l);return Re.encodeSegments([d],u)}static encodeSegments(l,u,d=1,p=40,h=-1,g=!0){if(!(Re.MIN_VERSION<=d&&d<=p&&p<=Re.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let _,y;for(_=d;;_++){const S=Re.getNumDataCodewords(_,u)*8,I=o.getTotalBits(l,_);if(I<=S){y=I;break}if(_>=p)throw new RangeError("Data too long")}for(const S of[Re.Ecc.MEDIUM,Re.Ecc.QUARTILE,Re.Ecc.HIGH])g&&y<=Re.getNumDataCodewords(_,S)*8&&(u=S);let x=[];for(const S of l){n(S.mode.modeBits,4,x),n(S.numChars,S.mode.numCharCountBits(_),x);for(const I of S.getData())x.push(I)}s(x.length==y);const T=Re.getNumDataCodewords(_,u)*8;s(x.length<=T),n(0,Math.min(4,T-x.length),x),n(0,(8-x.length%8)%8,x),s(x.length%8==0);for(let S=236;x.length<T;S^=253)n(S,8,x);let v=[];for(;v.length*8<x.length;)v.push(0);return x.forEach((S,I)=>v[I>>>3]|=S<<7-(I&7)),new Re(_,u,v,h)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let p=0;p<u;p++)d==0&&p==0||d==0&&p==u-1||d==u-1&&p==0||this.drawAlignmentPattern(l[d],l[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const p=(u<<10|d)^21522;s(p>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(p,h));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(p,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(p,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(p,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;s(u>>>18==0);for(let d=0;d<18;d++){const p=r(u,d),h=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(h,g,p),this.setFunctionModule(g,h,p)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let p=-4;p<=4;p++){const h=Math.max(Math.abs(p),Math.abs(d)),g=l+p,_=u+d;0<=g&&g<this.size&&0<=_&&_<this.size&&this.setFunctionModule(g,_,h!=2&&h!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let p=-2;p<=2;p++)this.setFunctionModule(l+p,u+d,Math.max(Math.abs(p),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=Re.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const p=Re.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Re.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(Re.getNumRawDataModules(u)/8),_=p-g%p,y=Math.floor(g/p);let x=[];const T=Re.reedSolomonComputeDivisor(h);for(let S=0,I=0;S<p;S++){let k=l.slice(I,I+y-h+(S<_?0:1));I+=k.length;const j=Re.reedSolomonComputeRemainder(k,T);S<_&&k.push(0),x.push(k.concat(j))}let v=[];for(let S=0;S<x[0].length;S++)x.forEach((I,k)=>{(S!=y-h||k>=_)&&v.push(I[S])});return s(v.length==g),v}drawCodewords(l){if(l.length!=Math.floor(Re.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let p=0;p<this.size;p++)for(let h=0;h<2;h++){const g=d-h,y=(d+1&2)==0?this.size-1-p:p;!this.isFunction[y][g]&&u<l.length*8&&(this.modules[y][g]=r(l[u>>>3],7-(u&7)),u++)}}s(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let p;switch(l){case 0:p=(d+u)%2==0;break;case 1:p=u%2==0;break;case 2:p=d%3==0;break;case 3:p=(d+u)%3==0;break;case 4:p=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:p=d*u%2+d*u%3==0;break;case 6:p=(d*u%2+d*u%3)%2==0;break;case 7:p=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&p&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let g=!1,_=0,y=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[h][x]==g?(_++,_==5?l+=Re.PENALTY_N1:_>5&&l++):(this.finderPenaltyAddHistory(_,y),g||(l+=this.finderPenaltyCountPatterns(y)*Re.PENALTY_N3),g=this.modules[h][x],_=1);l+=this.finderPenaltyTerminateAndCount(g,_,y)*Re.PENALTY_N3}for(let h=0;h<this.size;h++){let g=!1,_=0,y=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][h]==g?(_++,_==5?l+=Re.PENALTY_N1:_>5&&l++):(this.finderPenaltyAddHistory(_,y),g||(l+=this.finderPenaltyCountPatterns(y)*Re.PENALTY_N3),g=this.modules[x][h],_=1);l+=this.finderPenaltyTerminateAndCount(g,_,y)*Re.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let g=0;g<this.size-1;g++){const _=this.modules[h][g];_==this.modules[h][g+1]&&_==this.modules[h+1][g]&&_==this.modules[h+1][g+1]&&(l+=Re.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((g,_)=>g+(_?1:0),u);const d=this.size*this.size,p=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=p&&p<=9),l+=p*Re.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let p=this.size-7;d.length<l;p-=u)d.splice(1,0,p);return d}}static getNumRawDataModules(l){if(l<Re.MIN_VERSION||l>Re.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(Re.getNumRawDataModules(l)/8)-Re.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*Re.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let p=0;p<l-1;p++)u.push(0);u.push(1);let d=1;for(let p=0;p<l;p++){for(let h=0;h<u.length;h++)u[h]=Re.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Re.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(p=>0);for(const p of l){const h=p^d.shift();d.push(0),u.forEach((g,_)=>d[_]^=Re.reedSolomonMultiply(g,h))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let p=7;p>=0;p--)d=d<<1^(d>>>7)*285,d^=(u>>>p&1)*l;return s(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];s(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(a>>>d&1)}function r(a,l){return(a>>>l&1)!=0}function s(a){if(!a)throw new Error("Assertion error")}const i=class dt{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new dt(dt.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!dt.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const p=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+p),10),p*3+1,u),d+=p}return new dt(dt.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!dt.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let p=dt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;p+=dt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(p,11,u)}return d<l.length&&n(dt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new dt(dt.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:dt.isNumeric(l)?[dt.makeNumeric(l)]:dt.isAlphanumeric(l)?[dt.makeAlphanumeric(l)]:[dt.makeBytes(dt.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new dt(dt.Mode.ECI,0,u)}static isNumeric(l){return dt.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return dt.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const p of l){const h=p.mode.numCharCountBits(u);if(p.numChars>=1<<h)return 1/0;d+=4+h+p.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(yo||(yo={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(yo||(yo={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(yo||(yo={}));var ta=yo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var HB={L:ta.QrCode.Ecc.LOW,M:ta.QrCode.Ecc.MEDIUM,Q:ta.QrCode.Ecc.QUARTILE,H:ta.QrCode.Ecc.HIGH},RA=128,PA="L",AA="#FFFFFF",NA="#000000",kA=!1,DA=1,WB=4,qB=0,KB=.1;function OA(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}o&&i===null&&(i=a)})}),n.join("")}function MA(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function GB(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*KB),o=s/e,a=(r.width||i)*o,l=(r.height||i)*o,u=r.x==null?t.length/2-a/2:r.x*o,d=r.y==null?t.length/2-l/2:r.y*o,p=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let _=Math.floor(u),y=Math.floor(d),x=Math.ceil(a+u-_),T=Math.ceil(l+d-y);h={x:_,y,w:x,h:T}}const g=r.crossOrigin;return{x:u,y:d,h:l,w:a,excavation:h,opacity:p,crossOrigin:g}}function QB(t,e){return e!=null?Math.max(Math.floor(e),0):t?WB:qB}function jA({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:a}){let l=U.useMemo(()=>{const _=(Array.isArray(t)?t:[t]).reduce((y,x)=>(y.push(...ta.QrSegment.makeSegments(x)),y),[]);return ta.QrCode.encodeSegments(_,HB[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:u,margin:d,numCells:p,calculatedImageSettings:h}=U.useMemo(()=>{let g=l.getModules();const _=QB(r,s),y=g.length+_*2,x=GB(g,o,_,i);return{cells:g,margin:_,numCells:y,calculatedImageSettings:x}},[l,o,i,r,s]);return{qrcode:l,margin:d,cells:u,numCells:p,calculatedImageSettings:h}}var YB=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),XB=U.forwardRef(function(e,n){const r=e,{value:s,size:i=RA,level:o=PA,bgColor:a=AA,fgColor:l=NA,includeMargin:u=kA,minVersion:d=DA,boostLevel:p,marginSize:h,imageSettings:g}=r,y=Xg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:x}=y,T=Xg(y,["style"]),v=g==null?void 0:g.src,S=U.useRef(null),I=U.useRef(null),k=U.useCallback(B=>{S.current=B,typeof n=="function"?n(B):n&&(n.current=B)},[n]),[j,b]=U.useState(!1),{margin:C,cells:R,numCells:N,calculatedImageSettings:O}=jA({value:s,level:o,minVersion:d,boostLevel:p,includeMargin:u,marginSize:h,imageSettings:g,size:i});U.useEffect(()=>{if(S.current!=null){const B=S.current,Z=B.getContext("2d");if(!Z)return;let X=R;const se=I.current,V=O!=null&&se!==null&&se.complete&&se.naturalHeight!==0&&se.naturalWidth!==0;V&&O.excavation!=null&&(X=MA(R,O.excavation));const G=window.devicePixelRatio||1;B.height=B.width=i*G;const ne=i/N*G;Z.scale(ne,ne),Z.fillStyle=a,Z.fillRect(0,0,N,N),Z.fillStyle=l,YB?Z.fill(new Path2D(OA(X,C))):R.forEach(function(ee,oe){ee.forEach(function(ue,Ae){ue&&Z.fillRect(Ae+C,oe+C,1,1)})}),O&&(Z.globalAlpha=O.opacity),V&&Z.drawImage(se,O.x+C,O.y+C,O.w,O.h)}}),U.useEffect(()=>{b(!1)},[v]);const D=Yg({height:i,width:i},x);let A=null;return v!=null&&(A=U.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{b(!0)},ref:I,crossOrigin:O==null?void 0:O.crossOrigin})),U.createElement(U.Fragment,null,U.createElement("canvas",Yg({style:D,height:i,width:i,ref:k,role:"img"},T)),A)});XB.displayName="QRCodeCanvas";var Oc=U.forwardRef(function(e,n){const r=e,{value:s,size:i=RA,level:o=PA,bgColor:a=AA,fgColor:l=NA,includeMargin:u=kA,minVersion:d=DA,boostLevel:p,title:h,marginSize:g,imageSettings:_}=r,y=Xg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:x,cells:T,numCells:v,calculatedImageSettings:S}=jA({value:s,level:o,minVersion:d,boostLevel:p,includeMargin:u,marginSize:g,imageSettings:_,size:i});let I=T,k=null;_!=null&&S!=null&&(S.excavation!=null&&(I=MA(T,S.excavation)),k=U.createElement("image",{href:_.src,height:S.h,width:S.w,x:S.x+x,y:S.y+x,preserveAspectRatio:"none",opacity:S.opacity,crossOrigin:S.crossOrigin}));const j=OA(I,x);return U.createElement("svg",Yg({height:i,width:i,viewBox:`0 0 ${v} ${v}`,ref:n,role:"img"},y),!!h&&U.createElement("title",null,h),U.createElement("path",{fill:a,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),U.createElement("path",{fill:l,d:j,shapeRendering:"crispEdges"}),k)});Oc.displayName="QRCodeSVG";function JB(){const{user:t,isAuthenticated:e}=ki();To();const{register:n,handleSubmit:r,control:s,formState:{errors:i},watch:o}=cP(),[a,l]=w.useState(null),[u,d]=w.useState(!1),[p,h]=w.useState(null),[g,_]=w.useState(!1),y=w.useRef(null);w.useState(!1),o("imagem");const x=I=>{var j;const k=(j=I.target.files)==null?void 0:j[0];if(k){const b=new FileReader;b.onloadend=()=>{l(b.result)},b.readAsDataURL(k)}},T=async()=>{let I=!0,k="";for(;I;){k="PET"+Math.floor(1e5+Math.random()*9e5);const j=hr(En,"pets",k);I=(await ea(j)).exists()}return k},v=async I=>{if(t){_(!0);try{const k=new FormData;k.append("image",I.imagem[0]);const b=await(await fetch("https://api.imgbb.com/1/upload?key=f54f446538856c6595086ab3bf8aa9dc",{method:"POST",body:k})).json();if(!b.success)throw new Error("Falha ao enviar imagem");const C=b.data.url,R=await T();await UR(hr(En,"pets",R),{nomePet:I.nomePet,tipo:I.tipo,raca:I.raca,cor:I.cor,sexo:I.sexo,dataNascimento:I.dataNascimento,descricao:I.descricao,imagemUrl:C,ownerId:t.uid,petCode:R,createdAt:new Date}),h(R),d(!0)}catch(k){console.error("Erro ao cadastrar pet:",k),alert("Ocorreu um erro ao cadastrar o pet. Tente novamente.")}finally{_(!1)}}},S=()=>{const I=y.current;if(!I){alert("QR Code não encontrado.");return}const k=new XMLSerializer().serializeToString(I),j=document.createElement("canvas"),b=j.getContext("2d"),C=new Image;C.onload=()=>{j.width=C.width,j.height=C.height,b.drawImage(C,0,0);const R=j.toDataURL("image/png"),N=document.createElement("a");N.href=R,N.download=`qrcode-${p}.png`,N.click()},C.src="data:image/svg+xml;base64,"+btoa(k)};return f.jsx(vs,{children:f.jsx("div",{className:"container mx-auto px-4 py-10",children:f.jsx("div",{className:"max-w-2xl mx-auto",children:u?f.jsxs(Vn,{className:"shadow-lg",children:[f.jsxs(ps,{children:[f.jsx(xi,{className:"text-2xl text-center text-petgreen",children:"Pet Cadastrado com Sucesso!"}),f.jsx(za,{className:"text-center",children:"Seu pet foi registrado e agora possui um QR Code único que pode ser usado para identificá-lo."})]}),f.jsxs(Fn,{className:"flex flex-col items-center",children:[f.jsx("div",{className:"bg-petgreen-light p-8 rounded-lg mb-4",children:f.jsx(Oc,{value:`https://projeto-pet.netlify.app/encontrar?codigo=${p}`,ref:y})}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"font-medium",children:"Código do Pet:"}),f.jsx("p",{className:"text-xl font-bold text-petgreen mb-4",children:p}),f.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Escaneie este QR Code para obter informações sobre o pet caso ele esteja perdido."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs(je,{className:"bg-petgreen hover:bg-opacity-90 flex items-center gap-2",onClick:S,children:[f.jsx(nh,{size:18}),f.jsx("span",{children:"Baixar QR Code"})]}),f.jsx(je,{variant:"outline",className:"border-petgreen text-petgreen hover:bg-petgreen hover:text-white",children:"Ver Página do Pet"})]})]})]}),f.jsx(su,{className:"flex justify-center",children:f.jsx(je,{variant:"ghost",className:"text-petgreen",onClick:()=>d(!1),children:"Cadastrar Outro Pet"})})]}):f.jsxs(Vn,{className:"shadow-lg",children:[f.jsxs(ps,{children:[f.jsx(xi,{className:"text-2xl text-center",children:"Cadastrar Pet"}),f.jsx(za,{className:"text-center",children:"Registre seu pet para gerar um QR Code único"})]}),f.jsx(Fn,{children:f.jsxs("form",{onSubmit:r(v),className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"nomePet",children:"Nome do Pet"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(th,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"nomePet",...n("nomePet",{required:!0}),placeholder:"Nome do seu pet",className:`pl-10 ${i.nomePet?"border-red-500":""}`})]}),i.nomePet&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Nome do pet é obrigatório"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"tipo",children:"Tipo"}),f.jsx(jE,{name:"tipo",control:s,rules:{required:!0},render:({field:I})=>f.jsxs(mB,{onValueChange:I.onChange,defaultValue:I.value,children:[f.jsx(nA,{className:i.tipo?"border-red-500":"",children:f.jsx(gB,{placeholder:"Selecione o tipo"})}),f.jsxs(iA,{children:[f.jsx(Ad,{value:"Cachorro",children:"Cachorro"}),f.jsx(Ad,{value:"Gato",children:"Gato"}),f.jsx(Ad,{value:"Outro",children:"Outro"})]})]})}),i.tipo&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Tipo é obrigatório"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"raca",children:"Raça"}),f.jsx(_n,{id:"raca",...n("raca",{required:!0}),placeholder:"Raça do seu pet",className:i.raca?"border-red-500":""}),i.raca&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Raça é obrigatória"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"cor",children:"Cor"}),f.jsx(_n,{id:"cor",...n("cor",{required:!0}),placeholder:"Cor do seu pet",className:i.cor?"border-red-500":""}),i.cor&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Cor é obrigatória"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"sexo",children:"Sexo"}),f.jsx(jE,{name:"sexo",control:s,rules:{required:!0},render:({field:I})=>f.jsxs(CA,{onValueChange:I.onChange,defaultValue:I.value,className:"flex space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Qg,{value:"Macho",id:"macho"}),f.jsx(bt,{htmlFor:"macho",children:"Macho"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Qg,{value:"Fêmea",id:"femea"}),f.jsx(bt,{htmlFor:"femea",children:"Fêmea"})]})]})}),i.sexo&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Sexo é obrigatório"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(oC,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"dataNascimento",...n("dataNascimento",{required:!0}),type:"date",className:`pl-10 ${i.dataNascimento?"border-red-500":""}`})]}),i.dataNascimento&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Data de nascimento é obrigatória"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"descricao",children:"Descrição"}),f.jsx(uP,{id:"descricao",...n("descricao",{required:!0}),placeholder:"Descreva características importantes do seu pet",className:i.descricao?"border-red-500":"",rows:3}),i.descricao&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Descrição é obrigatória"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(bt,{htmlFor:"imagem",children:"Imagem do Pet"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx($O,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{id:"imagem",type:"file",accept:"image/*",className:`pl-10 ${i.imagem?"border-red-500":""}`,...n("imagem",{required:!0}),onChange:x})]}),i.imagem&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Imagem é obrigatória"})]}),f.jsx("div",{className:"flex justify-center",children:a?f.jsx("img",{src:a,alt:"Preview",className:"h-32 w-32 object-cover rounded-md"}):f.jsx("div",{className:"h-32 w-32 bg-gray-100 flex items-center justify-center rounded-md",children:f.jsx(th,{className:"h-10 w-10 text-gray-300"})})})]})]}),f.jsxs(je,{type:"submit",className:"w-full bg-petgreen hover:bg-opacity-90 flex items-center justify-center gap-2",disabled:g,children:[g&&f.jsx(SO,{className:"h-4 w-4 animate-spin"}),g?"Cadastrando...":"Cadastrar Pet"]})]})})]})})})})}var T0="Dialog",[LA,K8]=Eo(T0),[ZB,xr]=LA(T0),VA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=w.useRef(null),l=w.useRef(null),[u=!1,d]=ao({prop:r,defaultProp:s,onChange:i});return f.jsx(ZB,{scope:e,triggerRef:a,contentRef:l,contentId:eo(),titleId:eo(),descriptionId:eo(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};VA.displayName=T0;var FA="DialogTrigger",e8=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(FA,n),i=He(e,s.triggerRef);return f.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":b0(s.open),...r,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});e8.displayName=FA;var S0="DialogPortal",[t8,UA]=LA(S0,{forceMount:void 0}),$A=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=xr(S0,e);return f.jsx(t8,{scope:e,forceMount:n,children:w.Children.map(r,o=>f.jsx(Ci,{present:n||i.open,children:f.jsx(rf,{asChild:!0,container:s,children:o})}))})};$A.displayName=S0;var Vh="DialogOverlay",zA=w.forwardRef((t,e)=>{const n=UA(Vh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=xr(Vh,t.__scopeDialog);return i.modal?f.jsx(Ci,{present:r||i.open,children:f.jsx(n8,{...s,ref:e})}):null});zA.displayName=Vh;var n8=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(Vh,n);return f.jsx(w0,{as:oo,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(Te.div,{"data-state":b0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),vo="DialogContent",BA=w.forwardRef((t,e)=>{const n=UA(vo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=xr(vo,t.__scopeDialog);return f.jsx(Ci,{present:r||i.open,children:i.modal?f.jsx(r8,{...s,ref:e}):f.jsx(s8,{...s,ref:e})})});BA.displayName=vo;var r8=w.forwardRef((t,e)=>{const n=xr(vo,t.__scopeDialog),r=w.useRef(null),s=He(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return pP(i)},[]),f.jsx(HA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),s8=w.forwardRef((t,e)=>{const n=xr(vo,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return f.jsx(HA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),HA=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=xr(vo,n),l=w.useRef(null),u=He(e,l);return dP(),f.jsxs(f.Fragment,{children:[f.jsx(v0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(zc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":b0(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(i8,{titleId:a.titleId}),f.jsx(a8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),C0="DialogTitle",WA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(C0,n);return f.jsx(Te.h2,{id:s.titleId,...r,ref:e})});WA.displayName=C0;var qA="DialogDescription",KA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(qA,n);return f.jsx(Te.p,{id:s.descriptionId,...r,ref:e})});KA.displayName=qA;var GA="DialogClose",QA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(GA,n);return f.jsx(Te.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});QA.displayName=GA;function b0(t){return t?"open":"closed"}var YA="DialogTitleWarning",[G8,XA]=gD(YA,{contentName:vo,titleName:C0,docsSlug:"dialog"}),i8=({titleId:t})=>{const e=XA(YA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},o8="DialogDescriptionWarning",a8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XA(o8).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},l8=VA,c8=$A,JA=zA,ZA=BA,eN=WA,tN=KA,u8=QA;const d8=l8,h8=c8,nN=w.forwardRef(({className:t,...e},n)=>f.jsx(JA,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));nN.displayName=JA.displayName;const rN=w.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(h8,{children:[f.jsx(nN,{}),f.jsxs(ZA,{ref:r,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(u8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(rh,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rN.displayName=ZA.displayName;const sN=({className:t,...e})=>f.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});sN.displayName="DialogHeader";const iN=({className:t,...e})=>f.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});iN.displayName="DialogFooter";const oN=w.forwardRef(({className:t,...e},n)=>f.jsx(eN,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",t),...e}));oN.displayName=eN.displayName;const aN=w.forwardRef(({className:t,...e},n)=>f.jsx(tN,{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));aN.displayName=tN.displayName;var lN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o1=U.createContext&&U.createContext(lN),f8=["attr","size","title"];function p8(t,e){if(t==null)return{};var n=m8(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){g8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g8(t,e,n){return e=y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y8(t){var e=v8(t,"string");return typeof e=="symbol"?e:e+""}function v8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cN(t){return t&&t.map((e,n)=>U.createElement(e.tag,Uh({key:n},e.attr),cN(e.child)))}function w8(t){return e=>U.createElement(_8,Fh({attr:Uh({},t.attr)},e),cN(t.child))}function _8(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=p8(t,f8),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),U.createElement("svg",Fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Uh(Uh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&U.createElement("title",null,i),t.children)};return o1!==void 0?U.createElement(o1.Consumer,null,n=>e(n)):e(lN)}function x8(t){return w8({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function E8(){const[t,e]=w.useState(""),[n,r]=w.useState(null),[s,i]=w.useState(!1),[o,a]=w.useState(!1),[l]=ZV();w.useEffect(()=>{const p=l.get("codigo");p&&(e(p),u(p))},[l]);const u=async p=>{a(!0);try{const h=hr(En,"pets",p.trim()),g=await ea(h);if(g.exists()){const _=g.data(),y=hr(En,"usuarios",_.ownerId),x=await ea(y),T=x.exists()?x.data():{};r({id:g.id,..._,tutorTelefone:T.phone||"",tutorNome:T.name||"",tutorEmail:T.email||""}),i(!0)}else alert("Pet não encontrado.")}catch(h){console.error("Erro ao buscar pet pela URL:",h),alert("Erro ao buscar pet.")}finally{a(!1)}},d=async()=>{if(t.trim()){a(!0);try{const p=hr(En,"pets",t.trim()),h=await ea(p);if(h.exists()){const g=h.data(),_=hr(En,"usuarios",g.ownerId),y=await ea(_),x=y.exists()?y.data():{};r({id:h.id,...g,tutorTelefone:x.phone||"",tutorNome:x.name||"",tutorEmail:x.email||""}),i(!0)}else alert("Pet não encontrado. Verifique o código.")}catch(p){console.error("Erro ao buscar pet:",p),alert("Erro ao buscar pet. Tente novamente.")}finally{a(!1)}}};return f.jsx(vs,{children:f.jsxs("div",{className:"container mx-auto px-4 py-10",children:[f.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Encontrou um Pet Perdido?"}),f.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Digite o código da coleira abaixo para encontrar o tutor do pet e ajudá-lo a voltar para casa."}),f.jsx(Vn,{className:"mb-8 bg-petgreen-light border-0",children:f.jsx(Fn,{className:"pt-6 pb-6",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[f.jsxs("div",{className:"relative flex-grow",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:f.jsx(uC,{className:"h-5 w-5 text-gray-400"})}),f.jsx(_n,{placeholder:"Digite o código do pet",value:t,onChange:p=>e(p.target.value),className:"pl-10 bg-white"})]}),f.jsx(je,{className:"bg-petgreen hover:bg-opacity-90 min-w-[100px]",onClick:d,disabled:o,children:o?"Buscando...":"Buscar"})]})})}),f.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 mb-4",children:f.jsx("div",{className:"text-lg font-medium",children:"OU"})}),f.jsxs(Vn,{className:"bg-white shadow-md border-0",children:[f.jsxs(ps,{children:[f.jsxs(xi,{className:"text-xl text-center flex justify-center",children:[f.jsx(nh,{className:"h-6 w-6 mr-2 text-petgreen"}),f.jsx("span",{children:"Escanear QR Code"})]}),f.jsx(za,{className:"text-center",children:"Use a câmera do seu smartphone para escanear o QR Code na coleira do pet"})]}),f.jsx(Fn,{className:"flex justify-center pb-6",children:f.jsxs(je,{className:"bg-petpurple hover:bg-petpurple-secondary flex gap-2",onClick:()=>alert("não disponível no momento"),children:[f.jsx(nh,{size:18}),f.jsx("span",{children:"Iniciar Scanner"})]})})]})]}),f.jsx(d8,{open:s,onOpenChange:i,children:f.jsxs(rN,{className:"max-w-3xl",children:[f.jsxs(sN,{children:[f.jsx(oN,{className:"text-2xl text-petgreen",children:"Pet Encontrado!"}),f.jsx(aN,{children:"Aqui estão as informações do pet e como entrar em contato com o tutor."})]}),n&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("img",{src:n.imagemUrl,alt:n.nomePet,className:"w-full h-64 object-cover rounded-md mb-4"}),f.jsxs("div",{className:"bg-petgreen-light p-4 rounded-md flex flex-col items-center",children:[f.jsx("p",{className:"text-sm mb-2",children:"Escaneie para mais informações:"}),f.jsx(Oc,{value:`https://petfinder.com/pet/${n.petCode}`,size:150})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-petgreen mb-2",children:n.nomePet}),f.jsxs("p",{className:"text-gray-600 mb-4",children:[n.tipo," • ",n.raca," • ",n.cor]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium",children:"Descrição:"}),f.jsx("p",{className:"text-gray-600",children:n.descricao})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium",children:"Sexo:"}),f.jsx("p",{className:"text-gray-600",children:n.sexo})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium",children:"Data de Nascimento:"}),f.jsx("p",{className:"text-gray-600",children:new Date(n.dataNascimento).toLocaleDateString("pt-BR")})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium",children:"Código do Pet:"}),f.jsx("p",{className:"text-gray-600",children:n.petCode})]})]})]})]}),f.jsx(iN,{children:f.jsxs(je,{className:"bg-petgreen hover:bg-opacity-90 w-full sm:w-auto flex gap-2",onClick:()=>{const h=`https://wa.me/55${n.tutorTelefone.replace(/\D/g,"")}?text=Olá!%20Encontrei%20seu%20pet%20${n.nomePet}%20com%20o%20código%20${n.petCode}`;window.open(h,"_blank")},children:[f.jsx(x8,{size:18,className:"text-white"}),f.jsx("span",{children:"Entrar em Contato com o Tutor"})]})})]})})]})})}function T8({pet:t,showQRCode:e=!0,onDetails:n}){const r=o=>new Date(o).toLocaleDateString("pt-BR"),s=w.useRef(null);t.qrcodeUrl.split("/").pop()||t.id;const i=()=>{const o=s.current;if(!o){alert("QR Code não encontrado.");return}const a=new XMLSerializer().serializeToString(o),l=document.createElement("canvas"),u=l.getContext("2d"),d=new Image;d.onload=()=>{l.width=d.width,l.height=d.height,u.drawImage(d,0,0);const p=l.toDataURL("image/png"),h=document.createElement("a"),g=t.qrcodeUrl.split("/").pop()||t.id;h.href=p,h.download=`qrcode-${g}.png`,h.click()},d.src="data:image/svg+xml;base64,"+btoa(a)};return f.jsxs(Vn,{className:"overflow-hidden hover:shadow-md transition-shadow duration-300",children:[f.jsx("div",{className:"relative h-52 overflow-hidden",children:f.jsx("img",{src:t.imagem||"/placeholder.svg",alt:t.nomePet,className:"w-full h-full object-cover"})}),f.jsx(ps,{className:"pb-2",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-petgreen",children:t.nomePet}),f.jsxs("p",{className:"text-sm text-gray-500",children:[t.tipo," • ",t.raca]})]}),e&&f.jsx("div",{className:"w-16 h-16",children:f.jsx(Oc,{value:t.qrcodeUrl,size:64})})]})}),f.jsxs(Fn,{className:"pb-2",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"bg-petpurple-light p-1 rounded-full",children:f.jsx(fO,{size:16,className:"text-petpurple"})}),f.jsx("span",{className:"text-gray-600",children:t.sexo})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"bg-petblue-light p-1 rounded-full",children:f.jsx(iO,{size:16,className:"text-petblue"})}),f.jsx("span",{className:"text-gray-600",children:r(t.dataNascimento)})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1 mb-1",children:[f.jsx(lC,{size:14,className:"text-petgreen"})," Descrição"]}),f.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.descricao})]})]}),f.jsxs(su,{className:"flex justify-between pt-2",children:[f.jsx(je,{onClick:n,variant:"outline",size:"sm",className:"text-petgreen border-petgreen hover:bg-petgreen hover:text-white",children:"Ver Detalhes"}),e&&f.jsxs(je,{variant:"ghost",size:"sm",className:"text-petgreen flex items-center gap-1",onClick:i,children:[f.jsx(Oc,{value:t.qrcodeUrl,size:64,ref:s}),f.jsx("span",{children:"Baixar QR Code"})]})]})]})}function S8({pet:t,isOpen:e,onClose:n}){return!e||!t?null:f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:f.jsxs("div",{style:{background:"#fff",padding:24,borderRadius:8,minWidth:300,maxWidth:400,position:"relative"},children:[f.jsx("button",{onClick:n,style:{position:"absolute",top:8,right:8},children:"X"}),f.jsx("h2",{children:"Detalhes do Pet"}),t.fotoUrl&&f.jsx("img",{src:t.fotoUrl,alt:t.nome,style:{maxWidth:"100%"}}),f.jsxs("p",{children:[f.jsx("strong",{children:"Nome:"})," ",t.nomePet]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Espécie:"})," ",t.tipo]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Código do Pet:"})," ",t.petCode]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Raça:"})," ",t.raca]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Sexo:"})," ",t.sexo]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Data de Cadastro:"})," ",t.dataCadastro]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Descrição:"})," ",t.descricao]})]})})}function C8(){const{user:t,isAuthenticated:e}=ki(),n=To(),[r,s]=w.useState([]),[i,o]=w.useState(!0),[a,l]=w.useState(!1),[u,d]=w.useState(null),[p,h]=w.useState(!1);w.useEffect(()=>{(!e||!t)&&n("/login")},[e,t,n]),w.useEffect(()=>{t&&(async()=>{if(t!=null&&t.uid){o(!0);try{const x=o$(Ah(En,"pets"),a$("ownerId","==",t.uid)),T=await c0(x);l(!T.empty);const v=T.docs.map(S=>{var k,j,b,C;const I=S.data();return{id:S.id,nomePet:I.nomePet,tipo:I.tipo,raca:I.raca,cor:I.cor,sexo:I.sexo,dataNascimento:I.dataNascimento,descricao:I.descricao,imagem:I.imagemUrl,qrcodeUrl:`https://petfinder.com/pet/${I.petCode}`,dataCadastro:((C=(j=(k=I.createdAt)==null?void 0:k.toDate)==null?void 0:(b=j.call(k)).toISOString)==null?void 0:C.call(b))??"",petCode:I.petCode}});s(v)}catch(x){console.error("Erro ao buscar pets:",x)}finally{o(!1)}}})()},[t]);const g=y=>{d(y),h(!0)},_=()=>{h(!1),d(null)};return e?f.jsxs(vs,{children:[f.jsxs("div",{className:"container mx-auto px-4 py-10",children:[a&&f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Meus Pets"}),f.jsx(je,{asChild:!0,className:"bg-petgreen hover:bg-opacity-90 flex gap-2",children:f.jsxs(Fe,{to:"/cadastro-pet",children:[f.jsx(dO,{size:18}),f.jsx("span",{children:"Adicionar Pet"})]})})]}),i?f.jsx("div",{className:"flex justify-center py-20",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-petgreen"})}):r.length===0?f.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-medium text-gray-600 mb-4",children:"Você ainda não tem pets cadastrados"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"Cadastre seu primeiro pet para gerar um QR Code e facilitar sua identificação"}),f.jsx(je,{asChild:!0,className:"bg-petgreen hover:bg-opacity-90",children:f.jsx(Fe,{to:"/cadastro-pet",children:"Cadastrar Pet"})})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(y=>f.jsx(T8,{pet:y,onDetails:()=>g(y)},y.id))})]}),f.jsx(S8,{pet:u,isOpen:p,onClose:_})]}):null}function b8(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),s=async()=>{r(!0);try{const o=(await c0(Ah(En,"campanhas"))).docs.map(a=>({id:a.id,...a.data()}));e(o)}catch(i){console.error("Erro ao buscar campanhas",i)}finally{r(!1)}};return w.useEffect(()=>{s()},[]),f.jsx(vs,{children:f.jsxs("div",{className:"container mx-auto px-4 py-10",children:[f.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-10",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Campanhas de Vacinação"}),f.jsx("p",{className:"text-lg text-gray-600",children:"Confira as campanhas de vacinação que estão acontecendo na sua cidade. Mantenha seu pet saudável e protegido!"})]}),n?f.jsx("p",{children:"Carregando campanhas..."}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>f.jsxs(Vn,{className:"hover:shadow-md transition-shadow",children:[f.jsx(ps,{className:"pb-2",children:f.jsx(xi,{className:"text-xl text-petgreen",children:i.title})}),f.jsx(Fn,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center text-gray-500",children:[f.jsx(oC,{size:18,className:"mr-2 text-petgreen"}),f.jsx("span",{children:i.date})]}),f.jsxs("div",{className:"flex items-center text-gray-500",children:[f.jsx(PO,{size:18,className:"mr-2 text-petgreen"}),f.jsx("span",{children:i.location})]}),f.jsx("p",{className:"text-gray-600",children:i.description}),f.jsxs("details",{className:"text-sm",children:[f.jsxs("summary",{className:"text-petgreen font-medium cursor-pointer flex items-center",children:[f.jsx(lC,{size:16,className:"mr-1"}),"Mais informações"]}),f.jsx("p",{className:"pt-2 px-2 text-gray-600",children:i.moreInfo})]}),f.jsx(je,{className:"w-full bg-petgreen hover:bg-opacity-90",children:"Lembrar-me"})]})})]},i.id))})]})})}function I8(){return f.jsx(vs,{children:f.jsxs("div",{className:"container mx-auto px-4 py-10",children:[f.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Sobre o PetFinder"}),f.jsx("p",{className:"text-lg text-gray-600",children:"Conheça nossa missão, como funcionamos e por que somos a melhor solução para proteger seu pet e garantir que ele volte para casa caso se perca."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mb-16",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-petgreen mb-4",children:"Nossa Missão"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"O PetFinder nasceu da preocupação com os animais perdidos e da dificuldade que muitos tutores enfrentam para encontrar seus pets quando eles se perdem. Nossa missão é criar uma comunidade solidária, onde tutores possam recuperar seus pets com mais facilidade e rapidez."}),f.jsx("p",{className:"text-gray-600",children:"Utilizamos tecnologia moderna de QR Code para criar uma solução simples e eficaz. Qualquer pessoa que encontrar um pet perdido pode escanear o código na coleira e entrar em contato diretamente com o tutor."})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-petgreen mb-4",children:"Por que usar o PetFinder?"}),f.jsx("ul",{className:"space-y-3",children:["Maior chance de recuperar seu pet caso ele se perca","Fácil de usar - qualquer pessoa pode escanear o QR Code","Sem necessidade de aplicativos especiais","Dados de contato protegidos - só aparecem quando necessário","Serviço acessível e de baixo custo","Plataforma brasileira, com suporte local"].map((t,e)=>f.jsxs("li",{className:"flex items-start",children:[f.jsx(Jy,{className:"h-5 w-5 text-petgreen shrink-0 mr-2 mt-0.5"}),f.jsx("span",{className:"text-gray-600",children:t})]},e))})]})]}),f.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Como Funciona?"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:[f.jsx(Vn,{className:"text-center p-6 hover:shadow-md transition-shadow",children:f.jsxs(Fn,{className:"p-0",children:[f.jsx("div",{className:"bg-petgreen-light w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(th,{className:"h-8 w-8 text-petgreen"})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"1. Cadastre seu Pet"}),f.jsx("p",{className:"text-gray-600",children:"Crie uma conta e cadastre as informações do seu pet em nossa plataforma. Adicione uma foto e detalhes importantes para identificação."})]})}),f.jsx(Vn,{className:"text-center p-6 hover:shadow-md transition-shadow",children:f.jsxs(Fn,{className:"p-0",children:[f.jsx("div",{className:"bg-petpurple-light w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(nh,{className:"h-8 w-8 text-petpurple"})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"2. Receba seu QR Code"}),f.jsx("p",{className:"text-gray-600",children:"Após o cadastro, você recebe um QR Code único para seu pet. Imprima e coloque na coleira ou em um pingente."})]})}),f.jsx(Vn,{className:"text-center p-6 hover:shadow-md transition-shadow",children:f.jsxs(Fn,{className:"p-0",children:[f.jsx("div",{className:"bg-petblue-light w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(LO,{className:"h-8 w-8 text-petblue"})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"3. Recuperação Rápida"}),f.jsx("p",{className:"text-gray-600",children:"Se seu pet se perder, quem o encontrar pode escanear o QR Code, ver suas informações e entrar em contato com você diretamente."})]})})]}),f.jsxs("div",{className:"bg-petgreen-light rounded-lg p-8 text-center mb-16",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Depoimentos de Tutores"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[f.jsx("p",{className:"italic text-gray-600 mb-4",children:'"Meu cachorro Toby escapou durante uma tempestade. Graças ao QR Code do PetFinder, uma pessoa que o encontrou conseguiu entrar em contato comigo em menos de uma hora!"'}),f.jsx("p",{className:"font-medium",children:"- Maria S., Igarassu Centro"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[f.jsx("p",{className:"italic text-gray-600 mb-4",children:'"Minha gata costuma sair para explorar e às vezes vai longe demais. Com o PetFinder, tenho tranquilidade sabendo que se alguém a encontrar, poderá me contatar facilmente."'}),f.jsx("p",{className:"font-medium",children:"- Pedro L., Nova Cruz"})]})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Pronto para proteger seu pet?"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx(je,{asChild:!0,className:"bg-petgreen hover:bg-opacity-90 flex gap-2",children:f.jsxs(Fe,{to:"/cadastro",children:[f.jsx(wO,{size:18}),f.jsx("span",{children:"Cadastre-se Agora"})]})}),f.jsx(je,{asChild:!0,variant:"outline",className:"border-petgreen text-petgreen hover:bg-petgreen hover:text-white",children:f.jsxs(Fe,{to:"/encontrar-pet",children:[f.jsx(uC,{size:18,className:"mr-1"}),f.jsx("span",{children:"Encontrar um Pet"})]})})]})]})]})})}function R8(){const{pathname:t}=Ri();return w.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function P8(){const{isAdmin:t}=ki(),[e,n]=w.useState([]),[r,s]=w.useState(!0),[i,o]=w.useState(!1),[a,l]=w.useState({id:void 0,title:"",date:"",location:"",description:"",moreInfo:""}),u=async()=>{s(!0);try{const _=(await c0(Ah(En,"campanhas"))).docs.map(y=>({id:y.id,...y.data()}));n(_)}catch(g){console.error("Erro ao buscar campanhas",g)}finally{s(!1)}};w.useEffect(()=>{u()},[]);const d=g=>{l(_=>({..._,[g.target.name]:g.target.value}))},p=async g=>{g.preventDefault();try{if(a.id){const _=hr(En,"campanhas",a.id);await d$(_,{title:a.title,date:a.date,location:a.location,description:a.description,moreInfo:a.moreInfo})}else await f$(Ah(En,"campanhas"),{title:a.title,date:a.date,location:a.location,description:a.description,moreInfo:a.moreInfo});o(!1),l({id:void 0,title:"",date:"",location:"",description:"",moreInfo:""}),u()}catch(_){console.error("Erro ao salvar campanha",_)}},h=async g=>{window.confirm("Tem certeza que deseja excluir essa campanha?")&&(await h$(hr(En,"campanhas",g)),u())};return t?f.jsx(vs,{children:f.jsxs("div",{className:"container mx-auto px-4 py-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Gerenciar Campanhas"}),f.jsx(je,{onClick:()=>{l({id:void 0,title:"",date:"",location:"",description:"",moreInfo:""}),o(!0)},className:"bg-petgreen hover:bg-opacity-90",children:"Nova Campanha"})]}),r?f.jsx("p",{children:"Carregando..."}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(g=>f.jsxs(Vn,{children:[f.jsx(ps,{children:f.jsx(xi,{children:g.title})}),f.jsx(Fn,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Data:"})," ",g.date]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Local:"})," ",g.location]}),f.jsx("p",{children:g.description}),f.jsx("p",{children:f.jsx("em",{children:g.moreInfo})}),f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx(je,{variant:"outline",size:"sm",onClick:()=>{l(g),o(!0)},children:"Editar"}),f.jsx(je,{variant:"destructive",size:"sm",onClick:()=>h(g.id),children:"Excluir"})]})]})})]},g.id))}),i&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full max-w-md",children:[f.jsxs("h2",{className:"text-2xl mb-4",children:[a.id?"Editar":"Nova"," Campanha"]}),f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f.jsx("input",{name:"title",placeholder:"Título",value:a.title,onChange:d,className:"w-full p-2 border rounded",required:!0}),f.jsx("input",{name:"date",type:"date",value:a.date,onChange:d,className:"w-full p-2 border rounded",required:!0}),f.jsx("input",{name:"location",placeholder:"Localização",value:a.location,onChange:d,className:"w-full p-2 border rounded",required:!0}),f.jsx("textarea",{name:"description",placeholder:"Descrição",value:a.description,onChange:d,className:"w-full p-2 border rounded",required:!0}),f.jsx("textarea",{name:"moreInfo",placeholder:"Mais informações",value:a.moreInfo,onChange:d,className:"w-full p-2 border rounded"}),f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx(je,{type:"button",onClick:()=>o(!1),variant:"outline",children:"Cancelar"}),f.jsx(je,{type:"submit",children:"Salvar"})]})]})]})})]})}):f.jsx(hb,{to:"/",replace:!0})}const A8=new XL,rm=({children:t})=>{const{isAuthenticated:e,isLoading:n}=ki();return n?f.jsx("div",{className:"flex justify-center items-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-petgreen"})}):e?f.jsx(f.Fragment,{children:t}):f.jsx(hb,{to:"/login",replace:!0})},N8=()=>f.jsxs($V,{children:[f.jsx(nr,{path:"/",element:f.jsx(_$,{})}),f.jsx(nr,{path:"/login",element:f.jsx(P$,{})}),f.jsx(nr,{path:"/cadastro",element:f.jsx(Y$,{})}),f.jsx(nr,{path:"/encontrar-pet",element:f.jsx(E8,{})}),f.jsx(nr,{path:"/campanhas",element:f.jsx(b8,{})}),f.jsx(nr,{path:"/sobre",element:f.jsx(I8,{})}),f.jsx(nr,{path:"/admin/campanhas",element:f.jsx(rm,{children:f.jsx(P8,{})})}),f.jsx(nr,{path:"/cadastro-pet",element:f.jsx(rm,{children:f.jsx(JB,{})})}),f.jsx(nr,{path:"/meus-pets",element:f.jsx(rm,{children:f.jsx(C8,{})})}),f.jsx(nr,{path:"*",element:f.jsx(x$,{})})]}),k8=()=>f.jsx(ZL,{client:A8,children:f.jsx(g$,{children:f.jsxs(RL,{children:[f.jsx(bM,{}),f.jsx(tj,{}),f.jsxs(QV,{children:[f.jsx(R8,{}),f.jsx(N8,{})]})]})})});NS(document.getElementById("root")).render(f.jsx(k8,{}));
