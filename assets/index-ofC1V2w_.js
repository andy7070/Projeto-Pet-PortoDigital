var Fw=t=>{throw TypeError(t)};var lp=(t,e,n)=>e.has(t)||Fw("Cannot "+n);var W=(t,e,n)=>(lp(t,e,"read from private field"),n?n.call(t):e.get(t)),$e=(t,e,n)=>e.has(t)?Fw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Te=(t,e,n,r)=>(lp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qt=(t,e,n)=>(lp(t,e,"access private method"),n);var Au=(t,e,n,r)=>({set _(s){Te(t,e,s,n)},get _(){return W(t,e,r)}});function _k(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function V1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F1={exports:{}},Kh={},U1={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bc=Symbol.for("react.element"),xk=Symbol.for("react.portal"),Ek=Symbol.for("react.fragment"),Tk=Symbol.for("react.strict_mode"),Sk=Symbol.for("react.profiler"),Ck=Symbol.for("react.provider"),bk=Symbol.for("react.context"),Ik=Symbol.for("react.forward_ref"),Ak=Symbol.for("react.suspense"),Rk=Symbol.for("react.memo"),Pk=Symbol.for("react.lazy"),Uw=Symbol.iterator;function Nk(t){return t===null||typeof t!="object"?null:(t=Uw&&t[Uw]||t["@@iterator"],typeof t=="function"?t:null)}var $1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z1=Object.assign,B1={};function Ga(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||$1}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H1(){}H1.prototype=Ga.prototype;function nv(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||$1}var rv=nv.prototype=new H1;rv.constructor=nv;z1(rv,Ga.prototype);rv.isPureReactComponent=!0;var $w=Array.isArray,W1=Object.prototype.hasOwnProperty,sv={current:null},q1={key:!0,ref:!0,__self:!0,__source:!0};function K1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)W1.call(e,r)&&!q1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Bc,type:t,key:i,ref:o,props:s,_owner:sv.current}}function kk(t,e){return{$$typeof:Bc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bc}function Dk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zw=/\/+/g;function cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dk(""+t.key):e.toString(36)}function cd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bc:case xk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+cp(o,0):r,$w(s)?(n="",t!=null&&(n=t.replace(zw,"$&/")+"/"),cd(s,e,n,"",function(c){return c})):s!=null&&(iv(s)&&(s=kk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",$w(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+cp(i,a);o+=cd(i,e,n,l,s)}else if(l=Nk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+cp(i,a++),o+=cd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ru(t,e,n){if(t==null)return t;var r=[],s=0;return cd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Ok(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},ud={transition:null},jk={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:ud,ReactCurrentOwner:sv};function G1(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Ru,forEach:function(t,e,n){Ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ru(t,function(){e++}),e},toArray:function(t){return Ru(t,function(e){return e})||[]},only:function(t){if(!iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Ga;Pe.Fragment=Ek;Pe.Profiler=Sk;Pe.PureComponent=nv;Pe.StrictMode=Tk;Pe.Suspense=Ak;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk;Pe.act=G1;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)W1.call(e,l)&&!q1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Bc,type:t.type,key:s,ref:i,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:bk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ck,_context:t},t.Consumer=t};Pe.createElement=K1;Pe.createFactory=function(t){var e=K1.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:Ik,render:t}};Pe.isValidElement=iv;Pe.lazy=function(t){return{$$typeof:Pk,_payload:{_status:-1,_result:t},_init:Ok}};Pe.memo=function(t,e){return{$$typeof:Rk,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=ud.transition;ud.transition={};try{t()}finally{ud.transition=e}};Pe.unstable_act=G1;Pe.useCallback=function(t,e){return mn.current.useCallback(t,e)};Pe.useContext=function(t){return mn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return mn.current.useEffect(t,e)};Pe.useId=function(){return mn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return mn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Pe.useRef=function(t){return mn.current.useRef(t)};Pe.useState=function(t){return mn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return mn.current.useTransition()};Pe.version="18.3.1";U1.exports=Pe;var y=U1.exports;const U=V1(y),Q1=_k({__proto__:null,default:U},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=y,Lk=Symbol.for("react.element"),Vk=Symbol.for("react.fragment"),Fk=Object.prototype.hasOwnProperty,Uk=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$k={key:!0,ref:!0,__self:!0,__source:!0};function Y1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Fk.call(e,r)&&!$k.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Lk,type:t,key:i,ref:o,props:s,_owner:Uk.current}}Kh.Fragment=Vk;Kh.jsx=Y1;Kh.jsxs=Y1;F1.exports=Kh;var d=F1.exports,X1={exports:{}},zn={},J1={exports:{}},Z1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,G){var ne=V.length;V.push(G);e:for(;0<ne;){var ee=ne-1>>>1,oe=V[ee];if(0<s(oe,G))V[ee]=G,V[ne]=oe,ne=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],ne=V.pop();if(ne!==G){V[0]=ne;e:for(var ee=0,oe=V.length,ue=oe>>>1;ee<ue;){var Ne=2*(ee+1)-1,Qe=V[Ne],Ce=Ne+1,de=V[Ce];if(0>s(Qe,ne))Ce<oe&&0>s(de,Qe)?(V[ee]=de,V[Ce]=ne,ee=Ce):(V[ee]=Qe,V[Ne]=ne,ee=Ne);else if(Ce<oe&&0>s(de,ne))V[ee]=de,V[Ce]=ne,ee=Ce;else break e}}return G}function s(V,G){var ne=V.sortIndex-G.sortIndex;return ne!==0?ne:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,p=null,f=3,v=!1,_=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=V)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function I(V){if(g=!1,S(V),!_)if(n(l)!==null)_=!0,X(k);else{var G=n(c);G!==null&&se(I,G.startTime-V)}}function k(V,G){_=!1,g&&(g=!1,E(C),C=-1),v=!0;var ne=f;try{for(S(G),p=n(l);p!==null&&(!(p.expirationTime>G)||V&&!D());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,f=p.priorityLevel;var oe=ee(p.expirationTime<=G);G=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(l)&&r(l),S(G)}else r(l);p=n(l)}if(p!==null)var ue=!0;else{var Ne=n(c);Ne!==null&&se(I,Ne.startTime-G),ue=!1}return ue}finally{p=null,f=ne,v=!1}}var M=!1,b=null,C=-1,A=5,R=-1;function D(){return!(t.unstable_now()-R<A)}function O(){if(b!==null){var V=t.unstable_now();R=V;var G=!0;try{G=b(!0,V)}finally{G?N():(M=!1,b=null)}}else M=!1}var N;if(typeof w=="function")N=function(){w(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Z=B.port2;B.port1.onmessage=O,N=function(){Z.postMessage(null)}}else N=function(){x(O,0)};function X(V){b=V,M||(M=!0,N())}function se(V,G){C=x(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,X(k))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var ne=f;f=G;try{return V()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ne=f;f=V;try{return G()}finally{f=ne}},t.unstable_scheduleCallback=function(V,G,ne){var ee=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ee+ne:ee):ne=ee,V){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,V={id:h++,callback:G,priorityLevel:V,startTime:ne,expirationTime:oe,sortIndex:-1},ne>ee?(V.sortIndex=ne,e(c,V),n(l)===null&&V===n(c)&&(g?(E(C),C=-1):g=!0,se(I,ne-ee))):(V.sortIndex=oe,e(l,V),_||v||(_=!0,X(k))),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var G=f;return function(){var ne=f;f=G;try{return V.apply(this,arguments)}finally{f=ne}}}})(Z1);J1.exports=Z1;var zk=J1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=y,$n=zk;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eT=new Set,lc={};function Co(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(lc[t]=e,t=0;t<e.length;t++)eT.add(e[t])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cm=Object.prototype.hasOwnProperty,Hk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bw={},Hw={};function Wk(t){return cm.call(Hw,t)?!0:cm.call(Bw,t)?!1:Hk.test(t)?Hw[t]=!0:(Bw[t]=!0,!1)}function qk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Kk(t,e,n,r){if(e===null||typeof e>"u"||qk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,av);Ht[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,av);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,av);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function lv(t,e,n,r){var s=Ht.hasOwnProperty(e)?Ht[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Kk(e,n,s,r)&&(n=null),r||s===null?Wk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ys=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pu=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),tT=Symbol.for("react.provider"),nT=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),dv=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),rT=Symbol.for("react.offscreen"),Ww=Symbol.iterator;function El(t){return t===null||typeof t!="object"?null:(t=Ww&&t[Ww]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,up;function Ol(t){if(up===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);up=e&&e[1]||""}return`
`+up+t}var dp=!1;function hp(t,e){if(!t||dp)return"";dp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{dp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ol(t):""}function Gk(t){switch(t.tag){case 5:return Ol(t.type);case 16:return Ol("Lazy");case 13:return Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 2:case 15:return t=hp(t.type,!1),t;case 11:return t=hp(t.type.render,!1),t;case 1:return t=hp(t.type,!0),t;default:return""}}function fm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ko:return"Fragment";case qo:return"Portal";case um:return"Profiler";case cv:return"StrictMode";case dm:return"Suspense";case hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nT:return(t.displayName||"Context")+".Consumer";case tT:return(t._context.displayName||"Context")+".Provider";case uv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dv:return e=t.displayName||null,e!==null?e:fm(t.type)||"Memo";case Ms:e=t._payload,t=t._init;try{return fm(t(e))}catch{}}return null}function Qk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fm(e);case 8:return e===cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yk(t){var e=sT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nu(t){t._valueTracker||(t._valueTracker=Yk(t))}function iT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pm(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oT(t,e){e=e.checked,e!=null&&lv(t,"checked",e,!1)}function mm(t,e){oT(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gm(t,e.type,n):e.hasOwnProperty("defaultValue")&&gm(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gm(t,e,n){(e!=="number"||Ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jl=Array.isArray;function oa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(jl(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function aT(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ku,cT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ku=ku||document.createElement("div"),ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xk=["Webkit","ms","Moz","O"];Object.keys(Wl).forEach(function(t){Xk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wl[e]=Wl[t]})});function uT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wl.hasOwnProperty(t)&&Wl[t]?(""+e).trim():e+"px"}function dT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Jk=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(t,e){if(e){if(Jk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function _m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=null;function hv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Em=null,aa=null,la=null;function Yw(t){if(t=qc(t)){if(typeof Em!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Jh(e),Em(t.stateNode,t.type,e))}}function hT(t){aa?la?la.push(t):la=[t]:aa=t}function fT(){if(aa){var t=aa,e=la;if(la=aa=null,Yw(t),e)for(t=0;t<e.length;t++)Yw(e[t])}}function pT(t,e){return t(e)}function mT(){}var fp=!1;function gT(t,e,n){if(fp)return t(e,n);fp=!0;try{return pT(t,e,n)}finally{fp=!1,(aa!==null||la!==null)&&(mT(),fT())}}function uc(t,e){var n=t.stateNode;if(n===null)return null;var r=Jh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Tm=!1;if(as)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Tm=!1}function Zk(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ql=!1,Vd=null,Fd=!1,Sm=null,e2={onError:function(t){ql=!0,Vd=t}};function t2(t,e,n,r,s,i,o,a,l){ql=!1,Vd=null,Zk.apply(e2,arguments)}function n2(t,e,n,r,s,i,o,a,l){if(t2.apply(this,arguments),ql){if(ql){var c=Vd;ql=!1,Vd=null}else throw Error(Y(198));Fd||(Fd=!0,Sm=c)}}function bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xw(t){if(bo(t)!==t)throw Error(Y(188))}function r2(t){var e=t.alternate;if(!e){if(e=bo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xw(s),t;if(i===r)return Xw(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function yT(t){return t=r2(t),t!==null?wT(t):null}function wT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wT(t);if(e!==null)return e;t=t.sibling}return null}var _T=$n.unstable_scheduleCallback,Jw=$n.unstable_cancelCallback,s2=$n.unstable_shouldYield,i2=$n.unstable_requestPaint,yt=$n.unstable_now,o2=$n.unstable_getCurrentPriorityLevel,fv=$n.unstable_ImmediatePriority,xT=$n.unstable_UserBlockingPriority,Ud=$n.unstable_NormalPriority,a2=$n.unstable_LowPriority,ET=$n.unstable_IdlePriority,Gh=null,Dr=null;function l2(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Gh,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:d2,c2=Math.log,u2=Math.LN2;function d2(t){return t>>>=0,t===0?32:31-(c2(t)/u2|0)|0}var Du=64,Ou=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $d(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ml(a):(i&=o,i!==0&&(r=Ml(i)))}else o=n&~s,o!==0?r=Ml(o):i!==0&&(r=Ml(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),s=1<<n,r|=t[n],e&=~s;return r}function h2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=h2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TT(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function pp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function p2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var qe=0;function ST(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CT,mv,bT,IT,AT,bm=!1,ju=[],ei=null,ti=null,ni=null,dc=new Map,hc=new Map,Vs=[],m2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zw(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(e.pointerId)}}function Sl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qc(e),e!==null&&mv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function g2(t,e,n,r,s){switch(e){case"focusin":return ei=Sl(ei,t,e,n,r,s),!0;case"dragenter":return ti=Sl(ti,t,e,n,r,s),!0;case"mouseover":return ni=Sl(ni,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return dc.set(i,Sl(dc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,hc.set(i,Sl(hc.get(i)||null,t,e,n,r,s)),!0}return!1}function RT(t){var e=qi(t.target);if(e!==null){var n=bo(e);if(n!==null){if(e=n.tag,e===13){if(e=vT(n),e!==null){t.blockedOn=e,AT(t.priority,function(){bT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Im(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xm=r,n.target.dispatchEvent(r),xm=null}else return e=qc(n),e!==null&&mv(e),t.blockedOn=n,!1;e.shift()}return!0}function e_(t,e,n){dd(t)&&n.delete(e)}function v2(){bm=!1,ei!==null&&dd(ei)&&(ei=null),ti!==null&&dd(ti)&&(ti=null),ni!==null&&dd(ni)&&(ni=null),dc.forEach(e_),hc.forEach(e_)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,bm||(bm=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,v2)))}function fc(t){function e(s){return Cl(s,t)}if(0<ju.length){Cl(ju[0],t);for(var n=1;n<ju.length;n++){var r=ju[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&Cl(ei,t),ti!==null&&Cl(ti,t),ni!==null&&Cl(ni,t),dc.forEach(e),hc.forEach(e),n=0;n<Vs.length;n++)r=Vs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vs.length&&(n=Vs[0],n.blockedOn===null);)RT(n),n.blockedOn===null&&Vs.shift()}var ca=ys.ReactCurrentBatchConfig,zd=!0;function y2(t,e,n,r){var s=qe,i=ca.transition;ca.transition=null;try{qe=1,gv(t,e,n,r)}finally{qe=s,ca.transition=i}}function w2(t,e,n,r){var s=qe,i=ca.transition;ca.transition=null;try{qe=4,gv(t,e,n,r)}finally{qe=s,ca.transition=i}}function gv(t,e,n,r){if(zd){var s=Im(t,e,n,r);if(s===null)Sp(t,e,r,Bd,n),Zw(t,r);else if(g2(s,t,e,n,r))r.stopPropagation();else if(Zw(t,r),e&4&&-1<m2.indexOf(t)){for(;s!==null;){var i=qc(s);if(i!==null&&CT(i),i=Im(t,e,n,r),i===null&&Sp(t,e,r,Bd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Sp(t,e,r,null,n)}}var Bd=null;function Im(t,e,n,r){if(Bd=null,t=hv(r),t=qi(t),t!==null)if(e=bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bd=t,null}function PT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o2()){case fv:return 1;case xT:return 4;case Ud:case a2:return 16;case ET:return 536870912;default:return 16}default:return 16}}var Ys=null,vv=null,hd=null;function NT(){if(hd)return hd;var t,e=vv,n=e.length,r,s="value"in Ys?Ys.value:Ys.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hd=s.slice(t,1<r?1-r:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mu(){return!0}function t_(){return!1}function Bn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mu:t_,this.isPropagationStopped=t_,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yv=Bn(Qa),Wc=lt({},Qa,{view:0,detail:0}),_2=Bn(Wc),mp,gp,bl,Qh=lt({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bl&&(bl&&t.type==="mousemove"?(mp=t.screenX-bl.screenX,gp=t.screenY-bl.screenY):gp=mp=0,bl=t),mp)},movementY:function(t){return"movementY"in t?t.movementY:gp}}),n_=Bn(Qh),x2=lt({},Qh,{dataTransfer:0}),E2=Bn(x2),T2=lt({},Wc,{relatedTarget:0}),vp=Bn(T2),S2=lt({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),C2=Bn(S2),b2=lt({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I2=Bn(b2),A2=lt({},Qa,{data:0}),r_=Bn(A2),R2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N2[t])?!!e[t]:!1}function wv(){return k2}var D2=lt({},Wc,{key:function(t){if(t.key){var e=R2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wv,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O2=Bn(D2),j2=lt({},Qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s_=Bn(j2),M2=lt({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wv}),L2=Bn(M2),V2=lt({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),F2=Bn(V2),U2=lt({},Qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$2=Bn(U2),z2=[9,13,27,32],_v=as&&"CompositionEvent"in window,Kl=null;as&&"documentMode"in document&&(Kl=document.documentMode);var B2=as&&"TextEvent"in window&&!Kl,kT=as&&(!_v||Kl&&8<Kl&&11>=Kl),i_=" ",o_=!1;function DT(t,e){switch(t){case"keyup":return z2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Go=!1;function H2(t,e){switch(t){case"compositionend":return OT(e);case"keypress":return e.which!==32?null:(o_=!0,i_);case"textInput":return t=e.data,t===i_&&o_?null:t;default:return null}}function W2(t,e){if(Go)return t==="compositionend"||!_v&&DT(t,e)?(t=NT(),hd=vv=Ys=null,Go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kT&&e.locale!=="ko"?null:e.data;default:return null}}var q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q2[t.type]:e==="textarea"}function jT(t,e,n,r){hT(r),e=Hd(e,"onChange"),0<e.length&&(n=new yv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gl=null,pc=null;function K2(t){qT(t,0)}function Yh(t){var e=Xo(t);if(iT(e))return t}function G2(t,e){if(t==="change")return e}var MT=!1;if(as){var yp;if(as){var wp="oninput"in document;if(!wp){var l_=document.createElement("div");l_.setAttribute("oninput","return;"),wp=typeof l_.oninput=="function"}yp=wp}else yp=!1;MT=yp&&(!document.documentMode||9<document.documentMode)}function c_(){Gl&&(Gl.detachEvent("onpropertychange",LT),pc=Gl=null)}function LT(t){if(t.propertyName==="value"&&Yh(pc)){var e=[];jT(e,pc,t,hv(t)),gT(K2,e)}}function Q2(t,e,n){t==="focusin"?(c_(),Gl=e,pc=n,Gl.attachEvent("onpropertychange",LT)):t==="focusout"&&c_()}function Y2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yh(pc)}function X2(t,e){if(t==="click")return Yh(e)}function J2(t,e){if(t==="input"||t==="change")return Yh(e)}function Z2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:Z2;function mc(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cm.call(e,s)||!mr(t[s],e[s]))return!1}return!0}function u_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function d_(t,e){var n=u_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u_(n)}}function VT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FT(){for(var t=window,e=Ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ld(t.document)}return e}function xv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eD(t){var e=FT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VT(n.ownerDocument.documentElement,n)){if(r!==null&&xv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=d_(n,i);var o=d_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tD=as&&"documentMode"in document&&11>=document.documentMode,Qo=null,Am=null,Ql=null,Rm=!1;function h_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rm||Qo==null||Qo!==Ld(r)||(r=Qo,"selectionStart"in r&&xv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ql&&mc(Ql,r)||(Ql=r,r=Hd(Am,"onSelect"),0<r.length&&(e=new yv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qo)))}function Lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yo={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},_p={},UT={};as&&(UT=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Xh(t){if(_p[t])return _p[t];if(!Yo[t])return t;var e=Yo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UT)return _p[t]=e[n];return t}var $T=Xh("animationend"),zT=Xh("animationiteration"),BT=Xh("animationstart"),HT=Xh("transitionend"),WT=new Map,f_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){WT.set(t,e),Co(e,[t])}for(var xp=0;xp<f_.length;xp++){var Ep=f_[xp],nD=Ep.toLowerCase(),rD=Ep[0].toUpperCase()+Ep.slice(1);Ii(nD,"on"+rD)}Ii($T,"onAnimationEnd");Ii(zT,"onAnimationIteration");Ii(BT,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(HT,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function p_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n2(r,e,void 0,t),t.currentTarget=null}function qT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;p_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;p_(s,a,c),i=l}}}if(Fd)throw t=Sm,Fd=!1,Sm=null,t}function nt(t,e){var n=e[Om];n===void 0&&(n=e[Om]=new Set);var r=t+"__bubble";n.has(r)||(KT(e,t,2,!1),n.add(r))}function Tp(t,e,n){var r=0;e&&(r|=4),KT(n,t,r,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function gc(t){if(!t[Vu]){t[Vu]=!0,eT.forEach(function(n){n!=="selectionchange"&&(sD.has(n)||Tp(n,!1,t),Tp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,Tp("selectionchange",!1,e))}}function KT(t,e,n,r){switch(PT(e)){case 1:var s=y2;break;case 4:s=w2;break;default:s=gv}n=s.bind(null,e,n,t),s=void 0,!Tm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Sp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}gT(function(){var c=i,h=hv(n),p=[];e:{var f=WT.get(t);if(f!==void 0){var v=yv,_=t;switch(t){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":v=O2;break;case"focusin":_="focus",v=vp;break;case"focusout":_="blur",v=vp;break;case"beforeblur":case"afterblur":v=vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=n_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=E2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=L2;break;case $T:case zT:case BT:v=C2;break;case HT:v=F2;break;case"scroll":v=_2;break;case"wheel":v=$2;break;case"copy":case"cut":case"paste":v=I2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=s_}var g=(e&4)!==0,x=!g&&t==="scroll",E=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,S;w!==null;){S=w;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,E!==null&&(I=uc(w,E),I!=null&&g.push(vc(w,I,S)))),x)break;w=w.return}0<g.length&&(f=new v(f,_,null,n,h),p.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==xm&&(_=n.relatedTarget||n.fromElement)&&(qi(_)||_[ls]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=c,_=_?qi(_):null,_!==null&&(x=bo(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=c),v!==_)){if(g=n_,I="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=s_,I="onPointerLeave",E="onPointerEnter",w="pointer"),x=v==null?f:Xo(v),S=_==null?f:Xo(_),f=new g(I,w+"leave",v,n,h),f.target=x,f.relatedTarget=S,I=null,qi(h)===c&&(g=new g(E,w+"enter",_,n,h),g.target=S,g.relatedTarget=x,I=g),x=I,v&&_)t:{for(g=v,E=_,w=0,S=g;S;S=Lo(S))w++;for(S=0,I=E;I;I=Lo(I))S++;for(;0<w-S;)g=Lo(g),w--;for(;0<S-w;)E=Lo(E),S--;for(;w--;){if(g===E||E!==null&&g===E.alternate)break t;g=Lo(g),E=Lo(E)}g=null}else g=null;v!==null&&m_(p,f,v,g,!1),_!==null&&x!==null&&m_(p,x,_,g,!0)}}e:{if(f=c?Xo(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var k=G2;else if(a_(f))if(MT)k=J2;else{k=Y2;var M=Q2}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=X2);if(k&&(k=k(t,c))){jT(p,k,n,h);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&gm(f,"number",f.value)}switch(M=c?Xo(c):window,t){case"focusin":(a_(M)||M.contentEditable==="true")&&(Qo=M,Am=c,Ql=null);break;case"focusout":Ql=Am=Qo=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,h_(p,n,h);break;case"selectionchange":if(tD)break;case"keydown":case"keyup":h_(p,n,h)}var b;if(_v)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Go?DT(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(kT&&n.locale!=="ko"&&(Go||C!=="onCompositionStart"?C==="onCompositionEnd"&&Go&&(b=NT()):(Ys=h,vv="value"in Ys?Ys.value:Ys.textContent,Go=!0)),M=Hd(c,C),0<M.length&&(C=new r_(C,t,null,n,h),p.push({event:C,listeners:M}),b?C.data=b:(b=OT(n),b!==null&&(C.data=b)))),(b=B2?H2(t,n):W2(t,n))&&(c=Hd(c,"onBeforeInput"),0<c.length&&(h=new r_("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=b))}qT(p,e)})}function vc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uc(t,n),i!=null&&r.unshift(vc(t,i,s)),i=uc(t,e),i!=null&&r.push(vc(t,i,s))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function m_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=uc(n,i),l!=null&&o.unshift(vc(n,l,a))):s||(l=uc(n,i),l!=null&&o.push(vc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iD=/\r\n?/g,oD=/\u0000|\uFFFD/g;function g_(t){return(typeof t=="string"?t:""+t).replace(iD,`
`).replace(oD,"")}function Fu(t,e,n){if(e=g_(e),g_(t)!==e&&n)throw Error(Y(425))}function Wd(){}var Pm=null,Nm=null;function km(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,aD=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,lD=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(t){return v_.resolve(null).then(t).catch(cD)}:Dm;function cD(t){setTimeout(function(){throw t})}function Cp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),fc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fc(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Ya,yc="__reactProps$"+Ya,ls="__reactContainer$"+Ya,Om="__reactEvents$"+Ya,uD="__reactListeners$"+Ya,dD="__reactHandles$"+Ya;function qi(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ls]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y_(t);t!==null;){if(n=t[Pr])return n;t=y_(t)}return e}t=n,n=t.parentNode}return null}function qc(t){return t=t[Pr]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Jh(t){return t[yc]||null}var jm=[],Jo=-1;function Ai(t){return{current:t}}function st(t){0>Jo||(t.current=jm[Jo],jm[Jo]=null,Jo--)}function Ze(t,e){Jo++,jm[Jo]=t.current,t.current=e}var gi={},rn=Ai(gi),Sn=Ai(!1),oo=gi;function Pa(t,e){var n=t.type.contextTypes;if(!n)return gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Cn(t){return t=t.childContextTypes,t!=null}function qd(){st(Sn),st(rn)}function w_(t,e,n){if(rn.current!==gi)throw Error(Y(168));Ze(rn,e),Ze(Sn,n)}function GT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,Qk(t)||"Unknown",s));return lt({},n,r)}function Kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,oo=rn.current,Ze(rn,t),Ze(Sn,Sn.current),!0}function __(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=GT(t,e,oo),r.__reactInternalMemoizedMergedChildContext=t,st(Sn),st(rn),Ze(rn,t)):st(Sn),Ze(Sn,n)}var Zr=null,Zh=!1,bp=!1;function QT(t){Zr===null?Zr=[t]:Zr.push(t)}function hD(t){Zh=!0,QT(t)}function Ri(){if(!bp&&Zr!==null){bp=!0;var t=0,e=qe;try{var n=Zr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,Zh=!1}catch(s){throw Zr!==null&&(Zr=Zr.slice(t+1)),_T(fv,Ri),s}finally{qe=e,bp=!1}}return null}var Zo=[],ea=0,Gd=null,Qd=0,Kn=[],Gn=0,ao=null,es=1,ts="";function Bi(t,e){Zo[ea++]=Qd,Zo[ea++]=Gd,Gd=t,Qd=e}function YT(t,e,n){Kn[Gn++]=es,Kn[Gn++]=ts,Kn[Gn++]=ao,ao=t;var r=es;t=ts;var s=32-fr(r)-1;r&=~(1<<s),n+=1;var i=32-fr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,es=1<<32-fr(e)+s|n<<s|r,ts=i+t}else es=1<<i|n<<s|r,ts=t}function Ev(t){t.return!==null&&(Bi(t,1),YT(t,1,0))}function Tv(t){for(;t===Gd;)Gd=Zo[--ea],Zo[ea]=null,Qd=Zo[--ea],Zo[ea]=null;for(;t===ao;)ao=Kn[--Gn],Kn[Gn]=null,ts=Kn[--Gn],Kn[Gn]=null,es=Kn[--Gn],Kn[Gn]=null}var Fn=null,Ln=null,it=!1,cr=null;function XT(t,e){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function x_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Ln=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ao!==null?{id:es,overflow:ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,Ln=null,!0):!1;default:return!1}}function Mm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lm(t){if(it){var e=Ln;if(e){var n=e;if(!x_(t,e)){if(Mm(t))throw Error(Y(418));e=ri(n.nextSibling);var r=Fn;e&&x_(t,e)?XT(r,n):(t.flags=t.flags&-4097|2,it=!1,Fn=t)}}else{if(Mm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,it=!1,Fn=t}}}function E_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function Uu(t){if(t!==Fn)return!1;if(!it)return E_(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!km(t.type,t.memoizedProps)),e&&(e=Ln)){if(Mm(t))throw JT(),Error(Y(418));for(;e;)XT(t,e),e=ri(e.nextSibling)}if(E_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=Fn?ri(t.stateNode.nextSibling):null;return!0}function JT(){for(var t=Ln;t;)t=ri(t.nextSibling)}function Na(){Ln=Fn=null,it=!1}function Sv(t){cr===null?cr=[t]:cr.push(t)}var fD=ys.ReactCurrentBatchConfig;function Il(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function $u(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T_(t){var e=t._init;return e(t._payload)}function ZT(t){function e(E,w){if(t){var S=E.deletions;S===null?(E.deletions=[w],E.flags|=16):S.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=ai(E,w),E.index=0,E.sibling=null,E}function i(E,w,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<w?(E.flags|=2,w):S):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,S,I){return w===null||w.tag!==6?(w=Dp(S,E.mode,I),w.return=E,w):(w=s(w,S),w.return=E,w)}function l(E,w,S,I){var k=S.type;return k===Ko?h(E,w,S.props.children,I,S.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ms&&T_(k)===w.type)?(I=s(w,S.props),I.ref=Il(E,w,S),I.return=E,I):(I=_d(S.type,S.key,S.props,null,E.mode,I),I.ref=Il(E,w,S),I.return=E,I)}function c(E,w,S,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Op(S,E.mode,I),w.return=E,w):(w=s(w,S.children||[]),w.return=E,w)}function h(E,w,S,I,k){return w===null||w.tag!==7?(w=ro(S,E.mode,I,k),w.return=E,w):(w=s(w,S),w.return=E,w)}function p(E,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Dp(""+w,E.mode,S),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pu:return S=_d(w.type,w.key,w.props,null,E.mode,S),S.ref=Il(E,null,w),S.return=E,S;case qo:return w=Op(w,E.mode,S),w.return=E,w;case Ms:var I=w._init;return p(E,I(w._payload),S)}if(jl(w)||El(w))return w=ro(w,E.mode,S,null),w.return=E,w;$u(E,w)}return null}function f(E,w,S,I){var k=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(E,w,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pu:return S.key===k?l(E,w,S,I):null;case qo:return S.key===k?c(E,w,S,I):null;case Ms:return k=S._init,f(E,w,k(S._payload),I)}if(jl(S)||El(S))return k!==null?null:h(E,w,S,I,null);$u(E,S)}return null}function v(E,w,S,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(S)||null,a(w,E,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Pu:return E=E.get(I.key===null?S:I.key)||null,l(w,E,I,k);case qo:return E=E.get(I.key===null?S:I.key)||null,c(w,E,I,k);case Ms:var M=I._init;return v(E,w,S,M(I._payload),k)}if(jl(I)||El(I))return E=E.get(S)||null,h(w,E,I,k,null);$u(w,I)}return null}function _(E,w,S,I){for(var k=null,M=null,b=w,C=w=0,A=null;b!==null&&C<S.length;C++){b.index>C?(A=b,b=null):A=b.sibling;var R=f(E,b,S[C],I);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(E,b),w=i(R,w,C),M===null?k=R:M.sibling=R,M=R,b=A}if(C===S.length)return n(E,b),it&&Bi(E,C),k;if(b===null){for(;C<S.length;C++)b=p(E,S[C],I),b!==null&&(w=i(b,w,C),M===null?k=b:M.sibling=b,M=b);return it&&Bi(E,C),k}for(b=r(E,b);C<S.length;C++)A=v(b,E,C,S[C],I),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?C:A.key),w=i(A,w,C),M===null?k=A:M.sibling=A,M=A);return t&&b.forEach(function(D){return e(E,D)}),it&&Bi(E,C),k}function g(E,w,S,I){var k=El(S);if(typeof k!="function")throw Error(Y(150));if(S=k.call(S),S==null)throw Error(Y(151));for(var M=k=null,b=w,C=w=0,A=null,R=S.next();b!==null&&!R.done;C++,R=S.next()){b.index>C?(A=b,b=null):A=b.sibling;var D=f(E,b,R.value,I);if(D===null){b===null&&(b=A);break}t&&b&&D.alternate===null&&e(E,b),w=i(D,w,C),M===null?k=D:M.sibling=D,M=D,b=A}if(R.done)return n(E,b),it&&Bi(E,C),k;if(b===null){for(;!R.done;C++,R=S.next())R=p(E,R.value,I),R!==null&&(w=i(R,w,C),M===null?k=R:M.sibling=R,M=R);return it&&Bi(E,C),k}for(b=r(E,b);!R.done;C++,R=S.next())R=v(b,E,C,R.value,I),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?C:R.key),w=i(R,w,C),M===null?k=R:M.sibling=R,M=R);return t&&b.forEach(function(O){return e(E,O)}),it&&Bi(E,C),k}function x(E,w,S,I){if(typeof S=="object"&&S!==null&&S.type===Ko&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Pu:e:{for(var k=S.key,M=w;M!==null;){if(M.key===k){if(k=S.type,k===Ko){if(M.tag===7){n(E,M.sibling),w=s(M,S.props.children),w.return=E,E=w;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ms&&T_(k)===M.type){n(E,M.sibling),w=s(M,S.props),w.ref=Il(E,M,S),w.return=E,E=w;break e}n(E,M);break}else e(E,M);M=M.sibling}S.type===Ko?(w=ro(S.props.children,E.mode,I,S.key),w.return=E,E=w):(I=_d(S.type,S.key,S.props,null,E.mode,I),I.ref=Il(E,w,S),I.return=E,E=I)}return o(E);case qo:e:{for(M=S.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(E,w.sibling),w=s(w,S.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Op(S,E.mode,I),w.return=E,E=w}return o(E);case Ms:return M=S._init,x(E,w,M(S._payload),I)}if(jl(S))return _(E,w,S,I);if(El(S))return g(E,w,S,I);$u(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,S),w.return=E,E=w):(n(E,w),w=Dp(S,E.mode,I),w.return=E,E=w),o(E)):n(E,w)}return x}var ka=ZT(!0),eS=ZT(!1),Yd=Ai(null),Xd=null,ta=null,Cv=null;function bv(){Cv=ta=Xd=null}function Iv(t){var e=Yd.current;st(Yd),t._currentValue=e}function Vm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ua(t,e){Xd=t,Cv=ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function Zn(t){var e=t._currentValue;if(Cv!==t)if(t={context:t,memoizedValue:e,next:null},ta===null){if(Xd===null)throw Error(Y(308));ta=t,Xd.dependencies={lanes:0,firstContext:t}}else ta=ta.next=t;return e}var Ki=null;function Av(t){Ki===null?Ki=[t]:Ki.push(t)}function tS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Av(e)):(n.next=s.next,s.next=n),e.interleaved=n,cs(t,r)}function cs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ls=!1;function Rv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,cs(t,n)}return s=r.interleaved,s===null?(e.next=e,Av(r)):(e.next=s.next,s.next=e),r.interleaved=e,cs(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}function S_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jd(t,e,n,r){var s=t.updateQueue;Ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=c=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(f=e,v=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){p=_.call(v,p,f);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,f=typeof _=="function"?_.call(v,p,f):_,f==null)break e;p=lt({},p,f);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,l=p):h=h.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);co|=o,t.lanes=o,t.memoizedState=p}}function C_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Kc={},Or=Ai(Kc),wc=Ai(Kc),_c=Ai(Kc);function Gi(t){if(t===Kc)throw Error(Y(174));return t}function Pv(t,e){switch(Ze(_c,e),Ze(wc,t),Ze(Or,Kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ym(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ym(e,t)}st(Or),Ze(Or,e)}function Da(){st(Or),st(wc),st(_c)}function rS(t){Gi(_c.current);var e=Gi(Or.current),n=ym(e,t.type);e!==n&&(Ze(wc,t),Ze(Or,n))}function Nv(t){wc.current===t&&(st(Or),st(wc))}var ot=Ai(0);function Zd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ip=[];function kv(){for(var t=0;t<Ip.length;t++)Ip[t]._workInProgressVersionPrimary=null;Ip.length=0}var md=ys.ReactCurrentDispatcher,Ap=ys.ReactCurrentBatchConfig,lo=0,at=null,It=null,jt=null,eh=!1,Yl=!1,xc=0,pD=0;function Yt(){throw Error(Y(321))}function Dv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}function Ov(t,e,n,r,s,i){if(lo=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,md.current=t===null||t.memoizedState===null?yD:wD,t=n(r,s),Yl){i=0;do{if(Yl=!1,xc=0,25<=i)throw Error(Y(301));i+=1,jt=It=null,e.updateQueue=null,md.current=_D,t=n(r,s)}while(Yl)}if(md.current=th,e=It!==null&&It.next!==null,lo=0,jt=It=at=null,eh=!1,e)throw Error(Y(300));return t}function jv(){var t=xc!==0;return xc=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?at.memoizedState=jt=t:jt=jt.next=t,jt}function er(){if(It===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=jt===null?at.memoizedState:jt.next;if(e!==null)jt=e,It=t;else{if(t===null)throw Error(Y(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},jt===null?at.memoizedState=jt=t:jt=jt.next=t}return jt}function Ec(t,e){return typeof e=="function"?e(t):e}function Rp(t){var e=er(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=It,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((lo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,at.lanes|=h,co|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,mr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,at.lanes|=i,co|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pp(t){var e=er(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);mr(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function sS(){}function iS(t,e){var n=at,r=er(),s=e(),i=!mr(r.memoizedState,s);if(i&&(r.memoizedState=s,En=!0),r=r.queue,Mv(lS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Tc(9,aS.bind(null,n,r,s,e),void 0,null),Mt===null)throw Error(Y(349));lo&30||oS(n,e,s)}return s}function oS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aS(t,e,n,r){e.value=n,e.getSnapshot=r,cS(e)&&uS(t)}function lS(t,e,n){return n(function(){cS(e)&&uS(t)})}function cS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mr(t,n)}catch{return!0}}function uS(t){var e=cs(t,1);e!==null&&pr(e,t,1,-1)}function b_(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:t},e.queue=t,t=t.dispatch=vD.bind(null,at,t),[e.memoizedState,t]}function Tc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dS(){return er().memoizedState}function gd(t,e,n,r){var s=Cr();at.flags|=t,s.memoizedState=Tc(1|e,n,void 0,r===void 0?null:r)}function ef(t,e,n,r){var s=er();r=r===void 0?null:r;var i=void 0;if(It!==null){var o=It.memoizedState;if(i=o.destroy,r!==null&&Dv(r,o.deps)){s.memoizedState=Tc(e,n,i,r);return}}at.flags|=t,s.memoizedState=Tc(1|e,n,i,r)}function I_(t,e){return gd(8390656,8,t,e)}function Mv(t,e){return ef(2048,8,t,e)}function hS(t,e){return ef(4,2,t,e)}function fS(t,e){return ef(4,4,t,e)}function pS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mS(t,e,n){return n=n!=null?n.concat([t]):null,ef(4,4,pS.bind(null,e,t),n)}function Lv(){}function gS(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vS(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yS(t,e,n){return lo&21?(mr(n,e)||(n=TT(),at.lanes|=n,co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function mD(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Ap.transition;Ap.transition={};try{t(!1),e()}finally{qe=n,Ap.transition=r}}function wS(){return er().memoizedState}function gD(t,e,n){var r=oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_S(t))xS(e,n);else if(n=tS(t,e,n,r),n!==null){var s=fn();pr(n,t,r,s),ES(n,e,r)}}function vD(t,e,n){var r=oi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_S(t))xS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,mr(a,o)){var l=e.interleaved;l===null?(s.next=s,Av(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=tS(t,e,s,r),n!==null&&(s=fn(),pr(n,t,r,s),ES(n,e,r))}}function _S(t){var e=t.alternate;return t===at||e!==null&&e===at}function xS(t,e){Yl=eh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ES(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}var th={readContext:Zn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},yD={readContext:Zn,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:I_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,pS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gD.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:b_,useDebugValue:Lv,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=b_(!1),e=t[0];return t=mD.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,s=Cr();if(it){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Mt===null)throw Error(Y(349));lo&30||oS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,I_(lS.bind(null,r,i,t),[t]),r.flags|=2048,Tc(9,aS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Mt.identifierPrefix;if(it){var n=ts,r=es;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wD={readContext:Zn,useCallback:gS,useContext:Zn,useEffect:Mv,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:vS,useReducer:Rp,useRef:dS,useState:function(){return Rp(Ec)},useDebugValue:Lv,useDeferredValue:function(t){var e=er();return yS(e,It.memoizedState,t)},useTransition:function(){var t=Rp(Ec)[0],e=er().memoizedState;return[t,e]},useMutableSource:sS,useSyncExternalStore:iS,useId:wS,unstable_isNewReconciler:!1},_D={readContext:Zn,useCallback:gS,useContext:Zn,useEffect:Mv,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:vS,useReducer:Pp,useRef:dS,useState:function(){return Pp(Ec)},useDebugValue:Lv,useDeferredValue:function(t){var e=er();return It===null?e.memoizedState=t:yS(e,It.memoizedState,t)},useTransition:function(){var t=Pp(Ec)[0],e=er().memoizedState;return[t,e]},useMutableSource:sS,useSyncExternalStore:iS,useId:wS,unstable_isNewReconciler:!1};function ir(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tf={isMounted:function(t){return(t=t._reactInternals)?bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),s=oi(t),i=ss(r,s);i.payload=e,n!=null&&(i.callback=n),e=si(t,i,s),e!==null&&(pr(e,t,s,r),pd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),s=oi(t),i=ss(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=si(t,i,s),e!==null&&(pr(e,t,s,r),pd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=oi(t),s=ss(n,r);s.tag=2,e!=null&&(s.callback=e),e=si(t,s,r),e!==null&&(pr(e,t,r,n),pd(e,t,r))}};function A_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!mc(n,r)||!mc(s,i):!0}function TS(t,e,n){var r=!1,s=gi,i=e.contextType;return typeof i=="object"&&i!==null?i=Zn(i):(s=Cn(e)?oo:rn.current,r=e.contextTypes,i=(r=r!=null)?Pa(t,s):gi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function R_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tf.enqueueReplaceState(e,e.state,null)}function Um(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Rv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Zn(i):(i=Cn(e)?oo:rn.current,s.context=Pa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&tf.enqueueReplaceState(s,s.state,null),Jd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Oa(t,e){try{var n="",r=e;do n+=Gk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $m(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xD=typeof WeakMap=="function"?WeakMap:Map;function SS(t,e,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rh||(rh=!0,Xm=r),$m(t,e)},n}function CS(t,e,n){n=ss(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$m(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$m(t,e),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function P_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=jD.bind(null,t,e,n),e.then(t,t))}function N_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function k_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ss(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t)}var ED=ys.ReactCurrentOwner,En=!1;function un(t,e,n,r){e.child=t===null?eS(e,null,n,r):ka(e,t.child,n,r)}function D_(t,e,n,r,s){n=n.render;var i=e.ref;return ua(e,s),r=Ov(t,e,n,r,i,s),n=jv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(it&&n&&Ev(e),e.flags|=1,un(t,e,r,s),e.child)}function O_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Wv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bS(t,e,i,r,s)):(t=_d(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:mc,n(o,r)&&t.ref===e.ref)return us(t,e,s)}return e.flags|=1,t=ai(i,r),t.ref=e.ref,t.return=e,e.child=t}function bS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(mc(i,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,us(t,e,s)}return zm(t,e,n,r,s)}function IS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ra,On),On|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(ra,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(ra,On),On|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze(ra,On),On|=r;return un(t,e,s,n),e.child}function AS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zm(t,e,n,r,s){var i=Cn(n)?oo:rn.current;return i=Pa(e,i),ua(e,s),n=Ov(t,e,n,r,i,s),r=jv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(it&&r&&Ev(e),e.flags|=1,un(t,e,n,s),e.child)}function j_(t,e,n,r,s){if(Cn(n)){var i=!0;Kd(e)}else i=!1;if(ua(e,s),e.stateNode===null)vd(t,e),TS(e,n,r),Um(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zn(c):(c=Cn(n)?oo:rn.current,c=Pa(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&R_(e,o,r,c),Ls=!1;var f=e.memoizedState;o.state=f,Jd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Sn.current||Ls?(typeof h=="function"&&(Fm(e,n,h,r),l=e.memoizedState),(a=Ls||A_(e,n,a,r,f,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ir(e.type,a),o.props=c,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zn(l):(l=Cn(n)?oo:rn.current,l=Pa(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&R_(e,o,r,l),Ls=!1,f=e.memoizedState,o.state=f,Jd(e,r,o,s);var _=e.memoizedState;a!==p||f!==_||Sn.current||Ls?(typeof v=="function"&&(Fm(e,n,v,r),_=e.memoizedState),(c=Ls||A_(e,n,c,r,f,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Bm(t,e,n,r,i,s)}function Bm(t,e,n,r,s,i){AS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&__(e,n,!1),us(t,e,i);r=e.stateNode,ED.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ka(e,t.child,null,i),e.child=ka(e,null,a,i)):un(t,e,a,i),e.memoizedState=r.state,s&&__(e,n,!0),e.child}function RS(t){var e=t.stateNode;e.pendingContext?w_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w_(t,e.context,!1),Pv(t,e.containerInfo)}function M_(t,e,n,r,s){return Na(),Sv(s),e.flags|=256,un(t,e,n,r),e.child}var Hm={dehydrated:null,treeContext:null,retryLane:0};function Wm(t){return{baseLanes:t,cachePool:null,transitions:null}}function PS(t,e,n){var r=e.pendingProps,s=ot.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(ot,s&1),t===null)return Lm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sf(o,r,0,null),t=ro(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wm(n),e.memoizedState=Hm,t):Vv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return TD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ai(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ai(a,i):(i=ro(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Wm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Hm,r}return i=t.child,t=i.sibling,r=ai(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vv(t,e){return e=sf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zu(t,e,n,r){return r!==null&&Sv(r),ka(e,t.child,null,n),t=Vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Np(Error(Y(422))),zu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=sf({mode:"visible",children:r.children},s,0,null),i=ro(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ka(e,t.child,null,o),e.child.memoizedState=Wm(o),e.memoizedState=Hm,i);if(!(e.mode&1))return zu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=Np(i,r,void 0),zu(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=Mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,cs(t,s),pr(r,t,s,-1))}return Hv(),r=Np(Error(Y(421))),zu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=MD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ln=ri(s.nextSibling),Fn=e,it=!0,cr=null,t!==null&&(Kn[Gn++]=es,Kn[Gn++]=ts,Kn[Gn++]=ao,es=t.id,ts=t.overflow,ao=e),e=Vv(e,r.children),e.flags|=4096,e)}function L_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vm(t.return,e,n)}function kp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function NS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(un(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L_(t,n,e);else if(t.tag===19)L_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ot,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),kp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}kp(e,!0,n,null,i);break;case"together":kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SD(t,e,n){switch(e.tag){case 3:RS(e),Na();break;case 5:rS(e);break;case 1:Cn(e.type)&&Kd(e);break;case 4:Pv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(Yd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?PS(t,e,n):(Ze(ot,ot.current&1),t=us(t,e,n),t!==null?t.sibling:null);Ze(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,IS(t,e,n)}return us(t,e,n)}var kS,qm,DS,OS;kS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qm=function(){};DS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Gi(Or.current);var i=null;switch(n){case"input":s=pm(t,s),r=pm(t,r),i=[];break;case"select":s=lt({},s,{value:void 0}),r=lt({},r,{value:void 0}),i=[];break;case"textarea":s=vm(t,s),r=vm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wd)}wm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};OS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Al(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CD(t,e,n){var r=e.pendingProps;switch(Tv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return Cn(e.type)&&qd(),Xt(e),null;case 3:return r=e.stateNode,Da(),st(Sn),st(rn),kv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Uu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(eg(cr),cr=null))),qm(t,e),Xt(e),null;case 5:Nv(e);var s=Gi(_c.current);if(n=e.type,t!==null&&e.stateNode!=null)DS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Xt(e),null}if(t=Gi(Or.current),Uu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Pr]=e,r[yc]=i,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(s=0;s<Ll.length;s++)nt(Ll[s],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":qw(r,i),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nt("invalid",r);break;case"textarea":Gw(r,i),nt("invalid",r)}wm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fu(r.textContent,a,t),s=["children",""+a]):lc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":Nu(r),Kw(r,i,!0);break;case"textarea":Nu(r),Qw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pr]=e,t[yc]=r,kS(t,e,!1,!1),e.stateNode=t;e:{switch(o=_m(n,r),n){case"dialog":nt("cancel",t),nt("close",t),s=r;break;case"iframe":case"object":case"embed":nt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ll.length;s++)nt(Ll[s],t);s=r;break;case"source":nt("error",t),s=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),s=r;break;case"details":nt("toggle",t),s=r;break;case"input":qw(t,r),s=pm(t,r),nt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=lt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":Gw(t,r),s=vm(t,r),nt("invalid",t);break;default:s=r}wm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?dT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cc(t,l):typeof l=="number"&&cc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&nt("scroll",t):l!=null&&lv(t,i,l,o))}switch(n){case"input":Nu(t),Kw(t,r,!1);break;case"textarea":Nu(t),Qw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?oa(t,!!r.multiple,i,!1):r.defaultValue!=null&&oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)OS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Gi(_c.current),Gi(Or.current),Uu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(i=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:Fu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Xt(e),null;case 13:if(st(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&Ln!==null&&e.mode&1&&!(e.flags&128))JT(),Na(),e.flags|=98560,i=!1;else if(i=Uu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Pr]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),i=!1}else cr!==null&&(eg(cr),cr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Rt===0&&(Rt=3):Hv())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Da(),qm(t,e),t===null&&gc(e.stateNode.containerInfo),Xt(e),null;case 10:return Iv(e.type._context),Xt(e),null;case 17:return Cn(e.type)&&qd(),Xt(e),null;case 19:if(st(ot),i=e.memoizedState,i===null)return Xt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Al(i,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zd(t),o!==null){for(e.flags|=128,Al(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ot,ot.current&1|2),e.child}t=t.sibling}i.tail!==null&&yt()>ja&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304)}else{if(!r)if(t=Zd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!it)return Xt(e),null}else 2*yt()-i.renderingStartTime>ja&&n!==1073741824&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=ot.current,Ze(ot,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return Bv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function bD(t,e){switch(Tv(e),e.tag){case 1:return Cn(e.type)&&qd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Da(),st(Sn),st(rn),kv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nv(e),null;case 13:if(st(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ot),null;case 4:return Da(),null;case 10:return Iv(e.type._context),null;case 22:case 23:return Bv(),null;case 24:return null;default:return null}}var Bu=!1,tn=!1,ID=typeof WeakSet=="function"?WeakSet:Set,le=null;function na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function Km(t,e,n){try{n()}catch(r){pt(t,e,r)}}var V_=!1;function AD(t,e){if(Pm=zd,t=FT(),xv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,p=t,f=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)f=p,p=v;for(;;){if(p===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++h===r&&(l=o),(v=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nm={focusedElem:t,selectionRange:n},zd=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,x=_.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:ir(e.type,g),x);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(I){pt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return _=V_,V_=!1,_}function Xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Km(e,n,i)}s=s.next}while(s!==r)}}function nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jS(t){var e=t.alternate;e!==null&&(t.alternate=null,jS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[yc],delete e[Om],delete e[uD],delete e[dD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MS(t){return t.tag===5||t.tag===3||t.tag===4}function F_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wd));else if(r!==4&&(t=t.child,t!==null))for(Qm(t,e,n),t=t.sibling;t!==null;)Qm(t,e,n),t=t.sibling}function Ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ym(t,e,n),t=t.sibling;t!==null;)Ym(t,e,n),t=t.sibling}var Ft=null,lr=!1;function Ps(t,e,n){for(n=n.child;n!==null;)LS(t,e,n),n=n.sibling}function LS(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Gh,n)}catch{}switch(n.tag){case 5:tn||na(n,e);case 6:var r=Ft,s=lr;Ft=null,Ps(t,e,n),Ft=r,lr=s,Ft!==null&&(lr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(lr?(t=Ft,n=n.stateNode,t.nodeType===8?Cp(t.parentNode,n):t.nodeType===1&&Cp(t,n),fc(t)):Cp(Ft,n.stateNode));break;case 4:r=Ft,s=lr,Ft=n.stateNode.containerInfo,lr=!0,Ps(t,e,n),Ft=r,lr=s;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Km(n,e,o),s=s.next}while(s!==r)}Ps(t,e,n);break;case 1:if(!tn&&(na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}Ps(t,e,n);break;case 21:Ps(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Ps(t,e,n),tn=r):Ps(t,e,n);break;default:Ps(t,e,n)}}function U_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ID),e.forEach(function(r){var s=LD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,lr=!1;break e;case 3:Ft=a.stateNode.containerInfo,lr=!0;break e;case 4:Ft=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(Ft===null)throw Error(Y(160));LS(i,o,s),Ft=null,lr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){pt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VS(e,t),e=e.sibling}function VS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),Sr(t),r&4){try{Xl(3,t,t.return),nf(3,t)}catch(g){pt(t,t.return,g)}try{Xl(5,t,t.return)}catch(g){pt(t,t.return,g)}}break;case 1:rr(e,t),Sr(t),r&512&&n!==null&&na(n,n.return);break;case 5:if(rr(e,t),Sr(t),r&512&&n!==null&&na(n,n.return),t.flags&32){var s=t.stateNode;try{cc(s,"")}catch(g){pt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&oT(s,i),_m(a,o);var c=_m(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?dT(s,p):h==="dangerouslySetInnerHTML"?cT(s,p):h==="children"?cc(s,p):lv(s,h,p,c)}switch(a){case"input":mm(s,i);break;case"textarea":aT(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?oa(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?oa(s,!!i.multiple,i.defaultValue,!0):oa(s,!!i.multiple,i.multiple?[]:"",!1))}s[yc]=i}catch(g){pt(t,t.return,g)}}break;case 6:if(rr(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){pt(t,t.return,g)}}break;case 3:if(rr(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fc(e.containerInfo)}catch(g){pt(t,t.return,g)}break;case 4:rr(e,t),Sr(t);break;case 13:rr(e,t),Sr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($v=yt())),r&4&&U_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(c=tn)||h,rr(e,t),tn=c):rr(e,t),Sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(le=t,h=t.child;h!==null;){for(p=le=h;le!==null;){switch(f=le,v=f.child,f.tag){case 0:case 11:case 14:case 15:Xl(4,f,f.return);break;case 1:na(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){pt(r,n,g)}}break;case 5:na(f,f.return);break;case 22:if(f.memoizedState!==null){z_(p);continue}}v!==null?(v.return=f,le=v):z_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uT("display",o))}catch(g){pt(t,t.return,g)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){pt(t,t.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:rr(e,t),Sr(t),r&4&&U_(t);break;case 21:break;default:rr(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MS(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(cc(s,""),r.flags&=-33);var i=F_(t);Ym(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=F_(t);Qm(t,a,o);break;default:throw Error(Y(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RD(t,e,n){le=t,FS(t)}function FS(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||tn;a=Bu;var c=tn;if(Bu=o,(tn=l)&&!c)for(le=s;le!==null;)o=le,l=o.child,o.tag===22&&o.memoizedState!==null?B_(s):l!==null?(l.return=o,le=l):B_(s);for(;i!==null;)le=i,FS(i),i=i.sibling;le=s,Bu=a,tn=c}$_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):$_(t)}}function $_(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||nf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&C_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&fc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}tn||e.flags&512&&Gm(e)}catch(f){pt(e,e.return,f)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function z_(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function B_(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nf(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){pt(e,s,l)}}var i=e.return;try{Gm(e)}catch(l){pt(e,i,l)}break;case 5:var o=e.return;try{Gm(e)}catch(l){pt(e,o,l)}}}catch(l){pt(e,e.return,l)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var PD=Math.ceil,nh=ys.ReactCurrentDispatcher,Fv=ys.ReactCurrentOwner,Xn=ys.ReactCurrentBatchConfig,Ve=0,Mt=null,St=null,Bt=0,On=0,ra=Ai(0),Rt=0,Sc=null,co=0,rf=0,Uv=0,Jl=null,_n=null,$v=0,ja=1/0,Jr=null,rh=!1,Xm=null,ii=null,Hu=!1,Xs=null,sh=0,Zl=0,Jm=null,yd=-1,wd=0;function fn(){return Ve&6?yt():yd!==-1?yd:yd=yt()}function oi(t){return t.mode&1?Ve&2&&Bt!==0?Bt&-Bt:fD.transition!==null?(wd===0&&(wd=TT()),wd):(t=qe,t!==0||(t=window.event,t=t===void 0?16:PT(t.type)),t):1}function pr(t,e,n,r){if(50<Zl)throw Zl=0,Jm=null,Error(Y(185));Hc(t,n,r),(!(Ve&2)||t!==Mt)&&(t===Mt&&(!(Ve&2)&&(rf|=n),Rt===4&&Fs(t,Bt)),bn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(ja=yt()+500,Zh&&Ri()))}function bn(t,e){var n=t.callbackNode;f2(t,e);var r=$d(t,t===Mt?Bt:0);if(r===0)n!==null&&Jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jw(n),e===1)t.tag===0?hD(H_.bind(null,t)):QT(H_.bind(null,t)),lD(function(){!(Ve&6)&&Ri()}),n=null;else{switch(ST(r)){case 1:n=fv;break;case 4:n=xT;break;case 16:n=Ud;break;case 536870912:n=ET;break;default:n=Ud}n=KS(n,US.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function US(t,e){if(yd=-1,wd=0,Ve&6)throw Error(Y(327));var n=t.callbackNode;if(da()&&t.callbackNode!==n)return null;var r=$d(t,t===Mt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ih(t,r);else{e=r;var s=Ve;Ve|=2;var i=zS();(Mt!==t||Bt!==e)&&(Jr=null,ja=yt()+500,no(t,e));do try{DD();break}catch(a){$S(t,a)}while(!0);bv(),nh.current=i,Ve=s,St!==null?e=0:(Mt=null,Bt=0,e=Rt)}if(e!==0){if(e===2&&(s=Cm(t),s!==0&&(r=s,e=Zm(t,s))),e===1)throw n=Sc,no(t,0),Fs(t,r),bn(t,yt()),n;if(e===6)Fs(t,r);else{if(s=t.current.alternate,!(r&30)&&!ND(s)&&(e=ih(t,r),e===2&&(i=Cm(t),i!==0&&(r=i,e=Zm(t,i))),e===1))throw n=Sc,no(t,0),Fs(t,r),bn(t,yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Hi(t,_n,Jr);break;case 3:if(Fs(t,r),(r&130023424)===r&&(e=$v+500-yt(),10<e)){if($d(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Dm(Hi.bind(null,t,_n,Jr),e);break}Hi(t,_n,Jr);break;case 4:if(Fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PD(r/1960))-r,10<r){t.timeoutHandle=Dm(Hi.bind(null,t,_n,Jr),r);break}Hi(t,_n,Jr);break;case 5:Hi(t,_n,Jr);break;default:throw Error(Y(329))}}}return bn(t,yt()),t.callbackNode===n?US.bind(null,t):null}function Zm(t,e){var n=Jl;return t.current.memoizedState.isDehydrated&&(no(t,e).flags|=256),t=ih(t,e),t!==2&&(e=_n,_n=n,e!==null&&eg(e)),t}function eg(t){_n===null?_n=t:_n.push.apply(_n,t)}function ND(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~Uv,e&=~rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function H_(t){if(Ve&6)throw Error(Y(327));da();var e=$d(t,0);if(!(e&1))return bn(t,yt()),null;var n=ih(t,e);if(t.tag!==0&&n===2){var r=Cm(t);r!==0&&(e=r,n=Zm(t,r))}if(n===1)throw n=Sc,no(t,0),Fs(t,e),bn(t,yt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,_n,Jr),bn(t,yt()),null}function zv(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(ja=yt()+500,Zh&&Ri())}}function uo(t){Xs!==null&&Xs.tag===0&&!(Ve&6)&&da();var e=Ve;Ve|=1;var n=Xn.transition,r=qe;try{if(Xn.transition=null,qe=1,t)return t()}finally{qe=r,Xn.transition=n,Ve=e,!(Ve&6)&&Ri()}}function Bv(){On=ra.current,st(ra)}function no(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aD(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(Tv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qd();break;case 3:Da(),st(Sn),st(rn),kv();break;case 5:Nv(r);break;case 4:Da();break;case 13:st(ot);break;case 19:st(ot);break;case 10:Iv(r.type._context);break;case 22:case 23:Bv()}n=n.return}if(Mt=t,St=t=ai(t.current,null),Bt=On=e,Rt=0,Sc=null,Uv=rf=co=0,_n=Jl=null,Ki!==null){for(e=0;e<Ki.length;e++)if(n=Ki[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ki=null}return t}function $S(t,e){do{var n=St;try{if(bv(),md.current=th,eh){for(var r=at.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}eh=!1}if(lo=0,jt=It=at=null,Yl=!1,xc=0,Fv.current=null,n===null||n.return===null){Rt=1,Sc=e,St=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=N_(o);if(v!==null){v.flags&=-257,k_(v,o,a,i,e),v.mode&1&&P_(i,c,e),e=v,l=c;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){P_(i,c,e),Hv();break e}l=Error(Y(426))}}else if(it&&a.mode&1){var x=N_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),k_(x,o,a,i,e),Sv(Oa(l,a));break e}}i=l=Oa(l,a),Rt!==4&&(Rt=2),Jl===null?Jl=[i]:Jl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=SS(i,l,e);S_(i,E);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ii===null||!ii.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=CS(i,a,e);S_(i,I);break e}}i=i.return}while(i!==null)}HS(n)}catch(k){e=k,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function zS(){var t=nh.current;return nh.current=th,t===null?th:t}function Hv(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Mt===null||!(co&268435455)&&!(rf&268435455)||Fs(Mt,Bt)}function ih(t,e){var n=Ve;Ve|=2;var r=zS();(Mt!==t||Bt!==e)&&(Jr=null,no(t,e));do try{kD();break}catch(s){$S(t,s)}while(!0);if(bv(),Ve=n,nh.current=r,St!==null)throw Error(Y(261));return Mt=null,Bt=0,Rt}function kD(){for(;St!==null;)BS(St)}function DD(){for(;St!==null&&!s2();)BS(St)}function BS(t){var e=qS(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?HS(t):St=e,Fv.current=null}function HS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bD(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,St=null;return}}else if(n=CD(n,e,On),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Rt===0&&(Rt=5)}function Hi(t,e,n){var r=qe,s=Xn.transition;try{Xn.transition=null,qe=1,OD(t,e,n,r)}finally{Xn.transition=s,qe=r}return null}function OD(t,e,n,r){do da();while(Xs!==null);if(Ve&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(p2(t,i),t===Mt&&(St=Mt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hu||(Hu=!0,KS(Ud,function(){return da(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xn.transition,Xn.transition=null;var o=qe;qe=1;var a=Ve;Ve|=4,Fv.current=null,AD(t,n),VS(n,t),eD(Nm),zd=!!Pm,Nm=Pm=null,t.current=n,RD(n),i2(),Ve=a,qe=o,Xn.transition=i}else t.current=n;if(Hu&&(Hu=!1,Xs=t,sh=s),i=t.pendingLanes,i===0&&(ii=null),l2(n.stateNode),bn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(rh)throw rh=!1,t=Xm,Xm=null,t;return sh&1&&t.tag!==0&&da(),i=t.pendingLanes,i&1?t===Jm?Zl++:(Zl=0,Jm=t):Zl=0,Ri(),null}function da(){if(Xs!==null){var t=ST(sh),e=Xn.transition,n=qe;try{if(Xn.transition=null,qe=16>t?16:t,Xs===null)var r=!1;else{if(t=Xs,Xs=null,sh=0,Ve&6)throw Error(Y(331));var s=Ve;for(Ve|=4,le=t.current;le!==null;){var i=le,o=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(le=c;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:Xl(8,h,i)}var p=h.child;if(p!==null)p.return=h,le=p;else for(;le!==null;){h=le;var f=h.sibling,v=h.return;if(jS(h),h===c){le=null;break}if(f!==null){f.return=v,le=f;break}le=v}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,le=o;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,le=E;break e}le=i.return}}var w=t.current;for(le=w;le!==null;){o=le;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,le=S;else e:for(o=w;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nf(9,a)}}catch(k){pt(a,a.return,k)}if(a===o){le=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,le=I;break e}le=a.return}}if(Ve=s,Ri(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Gh,t)}catch{}r=!0}return r}finally{qe=n,Xn.transition=e}}return!1}function W_(t,e,n){e=Oa(n,e),e=SS(t,e,1),t=si(t,e,1),e=fn(),t!==null&&(Hc(t,1,e),bn(t,e))}function pt(t,e,n){if(t.tag===3)W_(t,t,n);else for(;e!==null;){if(e.tag===3){W_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){t=Oa(n,t),t=CS(e,t,1),e=si(e,t,1),t=fn(),e!==null&&(Hc(e,1,t),bn(e,t));break}}e=e.return}}function jD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Bt&n)===n&&(Rt===4||Rt===3&&(Bt&130023424)===Bt&&500>yt()-$v?no(t,0):Uv|=n),bn(t,e)}function WS(t,e){e===0&&(t.mode&1?(e=Ou,Ou<<=1,!(Ou&130023424)&&(Ou=4194304)):e=1);var n=fn();t=cs(t,e),t!==null&&(Hc(t,e,n),bn(t,n))}function MD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WS(t,n)}function LD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),WS(t,n)}var qS;qS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,SD(t,e,n);En=!!(t.flags&131072)}else En=!1,it&&e.flags&1048576&&YT(e,Qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vd(t,e),t=e.pendingProps;var s=Pa(e,rn.current);ua(e,n),s=Ov(null,e,r,t,s,n);var i=jv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(i=!0,Kd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rv(e),s.updater=tf,e.stateNode=s,s._reactInternals=e,Um(e,r,t,n),e=Bm(null,e,r,!0,i,n)):(e.tag=0,it&&i&&Ev(e),un(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=FD(r),t=ir(r,t),s){case 0:e=zm(null,e,r,t,n);break e;case 1:e=j_(null,e,r,t,n);break e;case 11:e=D_(null,e,r,t,n);break e;case 14:e=O_(null,e,r,ir(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),zm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),j_(t,e,r,s,n);case 3:e:{if(RS(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nS(t,e),Jd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Oa(Error(Y(423)),e),e=M_(t,e,r,n,s);break e}else if(r!==s){s=Oa(Error(Y(424)),e),e=M_(t,e,r,n,s);break e}else for(Ln=ri(e.stateNode.containerInfo.firstChild),Fn=e,it=!0,cr=null,n=eS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===s){e=us(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return rS(e),t===null&&Lm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,km(r,s)?o=null:i!==null&&km(r,i)&&(e.flags|=32),AS(t,e),un(t,e,o,n),e.child;case 6:return t===null&&Lm(e),null;case 13:return PS(t,e,n);case 4:return Pv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ka(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),D_(t,e,r,s,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ze(Yd,r._currentValue),r._currentValue=o,i!==null)if(mr(i.value,o)){if(i.children===s.children&&!Sn.current){e=us(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ss(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Vm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}un(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ua(e,n),s=Zn(s),r=r(s),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,s=ir(r,e.pendingProps),s=ir(r.type,s),O_(t,e,r,s,n);case 15:return bS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),vd(t,e),e.tag=1,Cn(r)?(t=!0,Kd(e)):t=!1,ua(e,n),TS(e,r,s),Um(e,r,s,n),Bm(null,e,r,!0,t,n);case 19:return NS(t,e,n);case 22:return IS(t,e,n)}throw Error(Y(156,e.tag))};function KS(t,e){return _T(t,e)}function VD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,r){return new VD(t,e,n,r)}function Wv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FD(t){if(typeof t=="function")return Wv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uv)return 11;if(t===dv)return 14}return 2}function ai(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Wv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ko:return ro(n.children,s,i,e);case cv:o=8,s|=8;break;case um:return t=Yn(12,n,e,s|2),t.elementType=um,t.lanes=i,t;case dm:return t=Yn(13,n,e,s),t.elementType=dm,t.lanes=i,t;case hm:return t=Yn(19,n,e,s),t.elementType=hm,t.lanes=i,t;case rT:return sf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tT:o=10;break e;case nT:o=9;break e;case uv:o=11;break e;case dv:o=14;break e;case Ms:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Yn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ro(t,e,n,r){return t=Yn(7,t,r,e),t.lanes=n,t}function sf(t,e,n,r){return t=Yn(22,t,r,e),t.elementType=rT,t.lanes=n,t.stateNode={isHidden:!1},t}function Dp(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function Op(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qv(t,e,n,r,s,i,o,a,l){return t=new UD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Yn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(i),t}function $D(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GS(t){if(!t)return gi;t=t._reactInternals;e:{if(bo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Cn(n))return GT(t,n,e)}return e}function QS(t,e,n,r,s,i,o,a,l){return t=qv(n,r,!0,t,s,i,o,a,l),t.context=GS(null),n=t.current,r=fn(),s=oi(n),i=ss(r,s),i.callback=e??null,si(n,i,s),t.current.lanes=s,Hc(t,s,r),bn(t,r),t}function of(t,e,n,r){var s=e.current,i=fn(),o=oi(s);return n=GS(n),e.context===null?e.context=n:e.pendingContext=n,e=ss(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=si(s,e,o),t!==null&&(pr(t,s,o,i),pd(t,s,o)),o}function oh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kv(t,e){q_(t,e),(t=t.alternate)&&q_(t,e)}function zD(){return null}var YS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gv(t){this._internalRoot=t}af.prototype.render=Gv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));of(t,e,null,null)};af.prototype.unmount=Gv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uo(function(){of(null,t,null,null)}),e[ls]=null}};function af(t){this._internalRoot=t}af.prototype.unstable_scheduleHydration=function(t){if(t){var e=IT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vs.length&&e!==0&&e<Vs[n].priority;n++);Vs.splice(n,0,t),n===0&&RT(t)}};function Qv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function K_(){}function BD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=oh(o);i.call(c)}}var o=QS(e,r,t,0,null,!1,!1,"",K_);return t._reactRootContainer=o,t[ls]=o.current,gc(t.nodeType===8?t.parentNode:t),uo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=oh(l);a.call(c)}}var l=qv(t,0,!1,null,null,!1,!1,"",K_);return t._reactRootContainer=l,t[ls]=l.current,gc(t.nodeType===8?t.parentNode:t),uo(function(){of(e,l,n,r)}),l}function cf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=oh(o);a.call(l)}}of(e,o,t,s)}else o=BD(n,e,t,s,r);return oh(o)}CT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ml(e.pendingLanes);n!==0&&(pv(e,n|1),bn(e,yt()),!(Ve&6)&&(ja=yt()+500,Ri()))}break;case 13:uo(function(){var r=cs(t,1);if(r!==null){var s=fn();pr(r,t,1,s)}}),Kv(t,1)}};mv=function(t){if(t.tag===13){var e=cs(t,134217728);if(e!==null){var n=fn();pr(e,t,134217728,n)}Kv(t,134217728)}};bT=function(t){if(t.tag===13){var e=oi(t),n=cs(t,e);if(n!==null){var r=fn();pr(n,t,e,r)}Kv(t,e)}};IT=function(){return qe};AT=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};Em=function(t,e,n){switch(e){case"input":if(mm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Jh(r);if(!s)throw Error(Y(90));iT(r),mm(r,s)}}}break;case"textarea":aT(t,n);break;case"select":e=n.value,e!=null&&oa(t,!!n.multiple,e,!1)}};pT=zv;mT=uo;var HD={usingClientEntryPoint:!1,Events:[qc,Xo,Jh,hT,fT,zv]},Rl={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WD={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yT(t),t===null?null:t.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||zD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Gh=Wu.inject(WD),Dr=Wu}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HD;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qv(e))throw Error(Y(200));return $D(t,e,null,n)};zn.createRoot=function(t,e){if(!Qv(t))throw Error(Y(299));var n=!1,r="",s=YS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=qv(t,1,!1,null,null,n,!1,r,s),t[ls]=e.current,gc(t.nodeType===8?t.parentNode:t),new Gv(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=yT(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return uo(t)};zn.hydrate=function(t,e,n){if(!lf(e))throw Error(Y(200));return cf(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!Qv(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=YS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QS(e,null,t,1,n??null,s,!1,i,o),t[ls]=e.current,gc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new af(e)};zn.render=function(t,e,n){if(!lf(e))throw Error(Y(200));return cf(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!lf(t))throw Error(Y(40));return t._reactRootContainer?(uo(function(){cf(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};zn.unstable_batchedUpdates=zv;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lf(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return cf(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function XS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XS)}catch(t){console.error(t)}}XS(),X1.exports=zn;var Io=X1.exports;const JS=V1(Io);var ZS,G_=Io;ZS=G_.createRoot,G_.hydrateRoot;const qD=1,KD=1e6;let jp=0;function GD(){return jp=(jp+1)%Number.MAX_SAFE_INTEGER,jp.toString()}const Mp=new Map,Q_=t=>{if(Mp.has(t))return;const e=setTimeout(()=>{Mp.delete(t),ec({type:"REMOVE_TOAST",toastId:t})},KD);Mp.set(t,e)},QD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,qD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Q_(n):t.toasts.forEach(r=>{Q_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},xd=[];let Ed={toasts:[]};function ec(t){Ed=QD(Ed,t),xd.forEach(e=>{e(Ed)})}function YD({...t}){const e=GD(),n=s=>ec({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ec({type:"DISMISS_TOAST",toastId:e});return ec({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ao(){const[t,e]=y.useState(Ed);return y.useEffect(()=>(xd.push(e),()=>{const n=xd.indexOf(e);n>-1&&xd.splice(n,1)}),[t]),{...t,toast:YD,dismiss:n=>ec({type:"DISMISS_TOAST",toastId:n})}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function XD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function eC(...t){return e=>t.forEach(n=>XD(n,e))}function Ue(...t){return y.useCallback(eC(...t),t)}function JD(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:f,children:v,..._}=p,g=(f==null?void 0:f[t][l])||a,x=y.useMemo(()=>_,Object.values(_));return d.jsx(g.Provider,{value:x,children:v})}function h(p,f){const v=(f==null?void 0:f[t][l])||a,_=y.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,ZD(s,...e)]}function ZD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ho=y.forwardRef((t,e)=>{const{children:n,...r}=t,s=y.Children.toArray(n),i=s.find(eO);if(i){const o=i.props.children,a=s.map(l=>l===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return d.jsx(tg,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return d.jsx(tg,{...r,ref:e,children:n})});ho.displayName="Slot";var tg=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const s=nO(n);return y.cloneElement(n,{...tO(r,n.props),ref:e?eC(e,s):s})}return y.Children.count(n)>1?y.Children.only(null):null});tg.displayName="SlotClone";var Yv=({children:t})=>d.jsx(d.Fragment,{children:t});function eO(t){return y.isValidElement(t)&&t.type===Yv}function tO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function nO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xv(t){const e=t+"CollectionProvider",[n,r]=JD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:_,children:g}=v,x=U.useRef(null),E=U.useRef(new Map).current;return d.jsx(s,{scope:_,itemMap:E,collectionRef:x,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=U.forwardRef((v,_)=>{const{scope:g,children:x}=v,E=i(a,g),w=Ue(_,E.collectionRef);return d.jsx(ho,{ref:w,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",p=U.forwardRef((v,_)=>{const{scope:g,children:x,...E}=v,w=U.useRef(null),S=Ue(_,w),I=i(c,g);return U.useEffect(()=>(I.itemMap.set(w,{ref:w,...E}),()=>void I.itemMap.delete(w))),d.jsx(ho,{[h]:"",ref:S,children:x})});p.displayName=c;function f(v){const _=i(t+"CollectionConsumer",v);return U.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const E=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((I,k)=>E.indexOf(I.ref.current)-E.indexOf(k.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}function rO(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Pi(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=p=>{var E;const{scope:f,children:v,..._}=p,g=((E=f==null?void 0:f[t])==null?void 0:E[l])||a,x=y.useMemo(()=>_,Object.values(_));return d.jsx(g.Provider,{value:x,children:v})};c.displayName=i+"Provider";function h(p,f){var g;const v=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,_=y.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sO(s,...e)]}function sO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var iO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=iO.reduce((t,e)=>{const n=y.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ho:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function tC(t,e){t&&Io.flushSync(()=>t.dispatchEvent(e))}function Rn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function oO(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var aO="DismissableLayer",ng="dismissableLayer.update",lO="dismissableLayer.pointerDownOutside",cO="dismissableLayer.focusOutside",Y_,nC=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gc=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(nC),[h,p]=y.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),_=Ue(e,b=>p(b)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(x),w=h?g.indexOf(h):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,I=w>=E,k=dO(b=>{const C=b.target,A=[...c.branches].some(R=>R.contains(C));!I||A||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},f),M=hO(b=>{const C=b.target;[...c.branches].some(R=>R.contains(C))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},f);return oO(b=>{w===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},f),y.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Y_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),X_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Y_)}},[h,f,n,c]),y.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),X_())},[h,c]),y.useEffect(()=>{const b=()=>v({});return document.addEventListener(ng,b),()=>document.removeEventListener(ng,b)},[]),d.jsx(Se.div,{...l,ref:_,style:{pointerEvents:S?I?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,k.onPointerDownCapture)})});Gc.displayName=aO;var uO="DismissableLayerBranch",rC=y.forwardRef((t,e)=>{const n=y.useContext(nC),r=y.useRef(null),s=Ue(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Se.div,{...t,ref:s})});rC.displayName=uO;function dO(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){sC(lO,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hO(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&sC(cO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function X_(){const t=new CustomEvent(ng);document.dispatchEvent(t)}function sC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tC(s,i):s.dispatchEvent(i)}var fO=Gc,pO=rC,sn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},mO="Portal",uf=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);sn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?JS.createPortal(d.jsx(Se.div,{...r,ref:e}),o):null});uf.displayName=mO;function gO(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Ni=t=>{const{present:e,children:n}=t,r=vO(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Ue(r.ref,yO(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Ni.displayName="Presence";function vO(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=gO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=qu(r.current);i.current=a==="mounted"?c:"none"},[a]),sn(()=>{const c=r.current,h=s.current;if(h!==t){const f=i.current,v=qu(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&f!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),sn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=v=>{const g=qu(r.current).includes(v.animationName);if(v.target===e&&g&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=v=>{v.target===e&&(i.current=qu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function qu(t){return(t==null?void 0:t.animationName)||"none"}function yO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=wO({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Rn(n),l=y.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[i,t,s,a]);return[o,l]}function wO({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=Rn(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var _O="VisuallyHidden",Qc=y.forwardRef((t,e)=>d.jsx(Se.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Qc.displayName=_O;var xO=Qc,Jv="ToastProvider",[Zv,EO,TO]=Xv("Toast"),[iC,k7]=Pi("Toast",[TO]),[SO,df]=iC(Jv),oC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,h]=y.useState(0),p=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jv}\`. Expected non-empty \`string\`.`),d.jsx(Zv.Provider,{scope:e,children:d.jsx(SO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>h(v=>v+1),[]),onToastRemove:y.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};oC.displayName=Jv;var aC="ToastViewport",CO=["F8"],rg="toast.viewportPause",sg="toast.viewportResume",lC=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=CO,label:s="Notifications ({hotkey})",...i}=t,o=df(aC,n),a=EO(n),l=y.useRef(null),c=y.useRef(null),h=y.useRef(null),p=y.useRef(null),f=Ue(e,p,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;y.useEffect(()=>{const x=E=>{var S;r.length!==0&&r.every(I=>E[I]||E.code===I)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,E=p.current;if(_&&x&&E){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(rg);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(sg);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},I=M=>{!x.contains(M.relatedTarget)&&S()},k=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",I),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",k),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",I),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[_,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const I=S.ref.current,k=[I,...VO(I)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return y.useEffect(()=>{const x=p.current;if(x){const E=w=>{var k,M,b;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const C=document.activeElement,A=w.shiftKey;if(w.target===x&&A){(k=c.current)==null||k.focus();return}const O=g({tabbingDirection:A?"backwards":"forwards"}),N=O.findIndex(B=>B===C);Lp(O.slice(N+1))?w.preventDefault():A?(M=c.current)==null||M.focus():(b=h.current)==null||b.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[a,g]),d.jsxs(pO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&d.jsx(ig,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});Lp(x)}}),d.jsx(Zv.Slot,{scope:n,children:d.jsx(Se.ol,{tabIndex:-1,...i,ref:f})}),_&&d.jsx(ig,{ref:h,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});Lp(x)}})]})});lC.displayName=aC;var cC="ToastFocusProxy",ig=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=df(cC,n);return d.jsx(Qc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});ig.displayName=cC;var hf="Toast",bO="toast.swipeStart",IO="toast.swipeMove",AO="toast.swipeCancel",RO="toast.swipeEnd",uC=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=fo({prop:r,defaultProp:s,onChange:i});return d.jsx(Ni,{present:n||a,children:d.jsx(kO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Rn(t.onPause),onResume:Rn(t.onResume),onSwipeStart:fe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:fe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});uC.displayName=hf;var[PO,NO]=iC(hf,{onClose(){}}),kO=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:v,..._}=t,g=df(hf,n),[x,E]=y.useState(null),w=Ue(e,B=>E(B)),S=y.useRef(null),I=y.useRef(null),k=s||g.duration,M=y.useRef(0),b=y.useRef(k),C=y.useRef(0),{onToastAdd:A,onToastRemove:R}=g,D=Rn(()=>{var Z;(x==null?void 0:x.contains(document.activeElement))&&((Z=g.viewport)==null||Z.focus()),o()}),O=y.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),M.current=new Date().getTime(),C.current=window.setTimeout(D,B))},[D]);y.useEffect(()=>{const B=g.viewport;if(B){const Z=()=>{O(b.current),c==null||c()},X=()=>{const se=new Date().getTime()-M.current;b.current=b.current-se,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(rg,X),B.addEventListener(sg,Z),()=>{B.removeEventListener(rg,X),B.removeEventListener(sg,Z)}}},[g.viewport,k,l,c,O]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(k)},[i,k,g.isClosePausedRef,O]),y.useEffect(()=>(A(),()=>R()),[A,R]);const N=y.useMemo(()=>x?vC(x):null,[x]);return g.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(DO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(PO,{scope:n,onClose:D,children:Io.createPortal(d.jsx(Zv.ItemSlot,{scope:n,children:d.jsx(fO,{asChild:!0,onEscapeKeyDown:fe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,..._,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:fe(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:fe(t.onPointerMove,B=>{if(!S.current)return;const Z=B.clientX-S.current.x,X=B.clientY-S.current.y,se=!!I.current,V=["left","right"].includes(g.swipeDirection),G=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ne=V?G(0,Z):0,ee=V?0:G(0,X),oe=B.pointerType==="touch"?10:2,ue={x:ne,y:ee},Ne={originalEvent:B,delta:ue};se?(I.current=ue,Ku(IO,p,Ne,{discrete:!1})):J_(ue,g.swipeDirection,oe)?(I.current=ue,Ku(bO,h,Ne,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Z)>oe||Math.abs(X)>oe)&&(S.current=null)}),onPointerUp:fe(t.onPointerUp,B=>{const Z=I.current,X=B.target;if(X.hasPointerCapture(B.pointerId)&&X.releasePointerCapture(B.pointerId),I.current=null,S.current=null,Z){const se=B.currentTarget,V={originalEvent:B,delta:Z};J_(Z,g.swipeDirection,g.swipeThreshold)?Ku(RO,v,V,{discrete:!0}):Ku(AO,f,V,{discrete:!0}),se.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),DO=t=>{const{__scopeToast:e,children:n,...r}=t,s=df(hf,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return MO(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(uf,{asChild:!0,children:d.jsx(Qc,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},OO="ToastTitle",dC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Se.div,{...r,ref:e})});dC.displayName=OO;var jO="ToastDescription",hC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Se.div,{...r,ref:e})});hC.displayName=jO;var fC="ToastAction",pC=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(gC,{altText:n,asChild:!0,children:d.jsx(ey,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fC}\`. Expected non-empty \`string\`.`),null)});pC.displayName=fC;var mC="ToastClose",ey=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=NO(mC,n);return d.jsx(gC,{asChild:!0,children:d.jsx(Se.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,s.onClose)})})});ey.displayName=mC;var gC=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function vC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),LO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...vC(r))}}),e}function Ku(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tC(s,i):s.dispatchEvent(i)}var J_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function MO(t=()=>{}){const e=Rn(t);sn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function LO(t){return t.nodeType===t.ELEMENT_NODE}function VO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var FO=oC,yC=lC,wC=uC,_C=dC,xC=hC,EC=pC,TC=ey;function SC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=SC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=SC(t))&&(r&&(r+=" "),r+=e);return r}const Z_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ex=CC,ty=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ex(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],p=i==null?void 0:i[c];if(h===null)return null;const f=Z_(h)||Z_(p);return s[c][f]}),a=n&&Object.entries(n).reduce((c,h)=>{let[p,f]=h;return f===void 0||(c[p]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:f,...v}=h;return Object.entries(v).every(_=>{let[g,x]=_;return Array.isArray(x)?x.includes({...i,...a}[g]):{...i,...a}[g]===x})?[...c,p,f]:c},[]);return ex(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$O=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tx=t=>{const e=$O(t);return e.charAt(0).toUpperCase()+e.slice(1)},bC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...zO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:bC("lucide",s),...a},[...o.map(([c,h])=>y.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(BO,{ref:i,iconNode:e,className:bC(`lucide-${UO(tx(t))}`,`lucide-${t}`,r),...s}));return n.displayName=tx(t),n};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],WO=Be("arrow-left",HO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ny=Be("calendar-days",qO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],GO=Be("calendar",KO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ry=Be("check",QO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],IC=Be("chevron-down",YO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JO=Be("chevron-up",XO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ej=Be("circle-plus",ZO);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],nj=Be("circle-user",tj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sj=Be("circle",rj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],oj=Be("facebook",ij);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],lj=Be("heart",aj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AC=Be("info",cj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],dj=Be("instagram",uj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],RC=Be("loader-circle",hj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],og=Be("lock",fj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nx=Be("log-out",pj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],sy=Be("mail",mj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vj=Be("map-pin",gj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],wj=Be("menu",yj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Ma=Be("paw-print",_j);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],PC=Be("phone",xj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ah=Be("qr-code",Ej);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],NC=Be("search",Tj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Cj=Be("smartphone",Sj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ij=Be("square-pen",bj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rj=Be("trash-2",Aj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Nj=Be("twitter",Pj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],kC=Be("upload",kj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oj=Be("user",Dj);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lh=Be("x",jj),iy="-",Mj=t=>{const e=Vj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(iy);return a[0]===""&&a.length!==1&&a.shift(),DC(a,e)||Lj(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},DC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?DC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(iy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},rx=/^\[(.+)\]$/,Lj=t=>{if(rx.test(t)){const e=rx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Vj=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Uj(Object.entries(t.classGroups),n).forEach(([i,o])=>{ag(o,r,i,e)}),r},ag=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:sx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Fj(s)){ag(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ag(o,sx(e,i),n,r)})})},sx=(t,e)=>{let n=t;return e.split(iy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Fj=t=>t.isThemeGetter,Uj=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,$j=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},OC="!",zj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,p;for(let x=0;x<a.length;x++){let E=a[x];if(c===0){if(E===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(h,x)),h=x+i;continue}if(E==="/"){p=x;continue}}E==="["?c++:E==="]"&&c--}const f=l.length===0?a:a.substring(h),v=f.startsWith(OC),_=v?f.substring(1):f,g=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},Bj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Hj=t=>({cache:$j(t.cacheSize),parseClassName:zj(t),...Mj(t)}),Wj=/\s+/,qj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Wj);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:v}=n(c);let _=!!v,g=r(_?f.substring(0,v):f);if(!g){if(!_){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}_=!1}const x=Bj(h).join(":"),E=p?x+OC:x,w=E+g;if(i.includes(w))continue;i.push(w);const S=s(g,_);for(let I=0;I<S.length;++I){const k=S[I];i.push(E+k)}a=c+(a.length>0?" "+a:a)}return a};function Kj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jC(e))&&(r&&(r+=" "),r+=n);return r}const jC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jC(t[r]))&&(n&&(n+=" "),n+=e);return n};function Gj(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,p)=>p(h),t());return n=Hj(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=qj(l,n);return s(l,h),h}return function(){return i(Kj.apply(null,arguments))}}const tt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MC=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qj=/^\d+\/\d+$/,Yj=new Set(["px","full","screen"]),Xj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=t=>ha(t)||Yj.has(t)||Qj.test(t),Ns=t=>Xa(t,"length",cM),ha=t=>!!t&&!Number.isNaN(Number(t)),Vp=t=>Xa(t,"number",ha),Pl=t=>!!t&&Number.isInteger(Number(t)),nM=t=>t.endsWith("%")&&ha(t.slice(0,-1)),xe=t=>MC.test(t),ks=t=>Xj.test(t),rM=new Set(["length","size","percentage"]),sM=t=>Xa(t,rM,LC),iM=t=>Xa(t,"position",LC),oM=new Set(["image","url"]),aM=t=>Xa(t,oM,dM),lM=t=>Xa(t,"",uM),Nl=()=>!0,Xa=(t,e,n)=>{const r=MC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},cM=t=>Jj.test(t)&&!Zj.test(t),LC=()=>!1,uM=t=>eM.test(t),dM=t=>tM.test(t),hM=()=>{const t=tt("colors"),e=tt("spacing"),n=tt("blur"),r=tt("brightness"),s=tt("borderColor"),i=tt("borderRadius"),o=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),c=tt("grayscale"),h=tt("hueRotate"),p=tt("invert"),f=tt("gap"),v=tt("gradientColorStops"),_=tt("gradientColorStopPositions"),g=tt("inset"),x=tt("margin"),E=tt("opacity"),w=tt("padding"),S=tt("saturate"),I=tt("scale"),k=tt("sepia"),M=tt("skew"),b=tt("space"),C=tt("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",xe,e],O=()=>[xe,e],N=()=>["",Qr,Ns],B=()=>["auto",ha,xe],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",xe],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[ha,xe];return{cacheSize:500,separator:":",theme:{colors:[Nl],spacing:[Qr,Ns],blur:["none","",ks,xe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",ks,xe],borderSpacing:O(),borderWidth:N(),contrast:ee(),grayscale:G(),hueRotate:ee(),invert:G(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[nM,Ns],inset:D(),margin:D(),opacity:ee(),padding:O(),saturate:ee(),scale:ee(),sepia:G(),skew:ee(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),xe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pl,xe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Pl,xe]}],"grid-cols":[{"grid-cols":[Nl]}],"col-start-end":[{col:["auto",{span:["full",Pl,xe]},xe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Nl]}],"row-start-end":[{row:["auto",{span:[Pl,xe]},xe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,e]}],"min-w":[{"min-w":[xe,e,"min","max","fit"]}],"max-w":[{"max-w":[xe,e,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vp]}],"font-family":[{font:[Nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",ha,Vp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Ns]}],"underline-offset":[{"underline-offset":["auto",Qr,xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),iM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Qr,xe]}],"outline-w":[{outline:[Qr,Ns]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Qr,Ns]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ks,lM]}],"shadow-color":[{shadow:[Nl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ks,xe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Pl,xe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qr,Ns,Vp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fM=Gj(hM);function we(...t){return fM(CC(t))}const pM=FO,VC=y.forwardRef(({className:t,...e},n)=>d.jsx(yC,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));VC.displayName=yC.displayName;const mM=ty("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FC=y.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(wC,{ref:r,className:we(mM({variant:e}),t),...n}));FC.displayName=wC.displayName;const gM=y.forwardRef(({className:t,...e},n)=>d.jsx(EC,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));gM.displayName=EC.displayName;const UC=y.forwardRef(({className:t,...e},n)=>d.jsx(TC,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(lh,{className:"h-4 w-4"})}));UC.displayName=TC.displayName;const $C=y.forwardRef(({className:t,...e},n)=>d.jsx(_C,{ref:n,className:we("text-sm font-semibold",t),...e}));$C.displayName=_C.displayName;const zC=y.forwardRef(({className:t,...e},n)=>d.jsx(xC,{ref:n,className:we("text-sm opacity-90",t),...e}));zC.displayName=xC.displayName;function vM(){const{toasts:t}=Ao();return d.jsxs(pM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(FC,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx($C,{children:n}),r&&d.jsx(zC,{children:r})]}),s,d.jsx(UC,{})]},e)}),d.jsx(VC,{})]})}var ix=["light","dark"],yM="(prefers-color-scheme: dark)",wM=y.createContext(void 0),_M={setTheme:t=>{},themes:[]},xM=()=>{var t;return(t=y.useContext(wM))!=null?t:_M};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?ix.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(_,g=!1,x=!0)=>{let E=o?o[_]:_,w=g?_+"|| ''":`'${E}'`,S="";return s&&x&&!g&&ix.includes(_)&&(S+=`d.style.colorScheme = '${_}';`),n==="class"?g||E?S+=`c.add(${w})`:S+="null":E&&(S+=`d[s](n,${w})`),S},v=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${yM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:v}})});var EM=t=>{switch(t){case"success":return CM;case"info":return IM;case"warning":return bM;case"error":return AM;default:return null}},TM=Array(12).fill(0),SM=({visible:t})=>U.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},U.createElement("div",{className:"sonner-spinner"},TM.map((e,n)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),CM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RM=()=>{let[t,e]=U.useState(document.hidden);return U.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lg=1,PM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:lg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(kM(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||lg++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Dn=new PM,NM=(t,e)=>{let n=(e==null?void 0:e.id)||lg++;return Dn.addToast({title:t,...e,id:n}),n},kM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",DM=NM,OM=()=>Dn.toasts;Object.assign(DM,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:OM});function jM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}jM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gu(t){return t.label!==void 0}var MM=3,LM="32px",VM=4e3,FM=356,UM=14,$M=20,zM=200;function BM(...t){return t.filter(Boolean).join(" ")}var HM=t=>{var e,n,r,s,i,o,a,l,c,h;let{invert:p,toast:f,unstyled:v,interacting:_,setHeights:g,visibleToasts:x,heights:E,index:w,toasts:S,expanded:I,removeToast:k,defaultRichColors:M,closeButton:b,style:C,cancelButtonStyle:A,actionButtonStyle:R,className:D="",descriptionClassName:O="",duration:N,position:B,gap:Z,loadingIcon:X,expandByDefault:se,classNames:V,icons:G,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:ee,cn:oe}=t,[ue,Ne]=U.useState(!1),[Qe,Ce]=U.useState(!1),[de,je]=U.useState(!1),[Ke,Ee]=U.useState(!1),[be,Ie]=U.useState(0),[mt,xt]=U.useState(0),vn=U.useRef(null),Dt=U.useRef(null),Hn=w===0,Vi=w+1<=x,ut=f.type,tr=f.dismissible!==!1,Fi=f.className||"",j=f.descriptionClassName||"",F=U.useMemo(()=>E.findIndex(me=>me.toastId===f.id)||0,[E,f.id]),z=U.useMemo(()=>{var me;return(me=f.closeButton)!=null?me:b},[f.closeButton,b]),te=U.useMemo(()=>f.duration||N||VM,[f.duration,N]),Q=U.useRef(0),K=U.useRef(0),ie=U.useRef(0),_e=U.useRef(null),[Je,Et]=B.split("-"),Tr=U.useMemo(()=>E.reduce((me,Ge,He)=>He>=F?me:me+Ge.height,0),[E,F]),Hr=RM(),Cs=f.invert||p,Wr=ut==="loading";K.current=U.useMemo(()=>F*Z+Tr,[F,Tr]),U.useEffect(()=>{Ne(!0)},[]),U.useLayoutEffect(()=>{if(!ue)return;let me=Dt.current,Ge=me.style.height;me.style.height="auto";let He=me.getBoundingClientRect().height;me.style.height=Ge,xt(He),g(qt=>qt.find(yn=>yn.toastId===f.id)?qt.map(yn=>yn.toastId===f.id?{...yn,height:He}:yn):[{toastId:f.id,height:He,position:f.position},...qt])},[ue,f.title,f.description,g,f.id]);let Pn=U.useCallback(()=>{Ce(!0),Ie(K.current),g(me=>me.filter(Ge=>Ge.toastId!==f.id)),setTimeout(()=>{k(f)},zM)},[f,k,g,K]);U.useEffect(()=>{if(f.promise&&ut==="loading"||f.duration===1/0||f.type==="loading")return;let me,Ge=te;return I||_||ee&&Hr?(()=>{if(ie.current<Q.current){let He=new Date().getTime()-Q.current;Ge=Ge-He}ie.current=new Date().getTime()})():Ge!==1/0&&(Q.current=new Date().getTime(),me=setTimeout(()=>{var He;(He=f.onAutoClose)==null||He.call(f,f),Pn()},Ge)),()=>clearTimeout(me)},[I,_,se,f,te,Pn,f.promise,ut,ee,Hr]),U.useEffect(()=>{let me=Dt.current;if(me){let Ge=me.getBoundingClientRect().height;return xt(Ge),g(He=>[{toastId:f.id,height:Ge,position:f.position},...He]),()=>g(He=>He.filter(qt=>qt.toastId!==f.id))}},[g,f.id]),U.useEffect(()=>{f.delete&&Pn()},[Pn,f.delete]);function ul(){return G!=null&&G.loading?U.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},G.loading):X?U.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},X):U.createElement(SM,{visible:ut==="loading"})}return U.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Dt,className:oe(D,Fi,V==null?void 0:V.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[ut],(n=f==null?void 0:f.classNames)==null?void 0:n[ut]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:M,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":ue,"data-promise":!!f.promise,"data-removed":Qe,"data-visible":Vi,"data-y-position":Je,"data-x-position":Et,"data-index":w,"data-front":Hn,"data-swiping":de,"data-dismissible":tr,"data-type":ut,"data-invert":Cs,"data-swipe-out":Ke,"data-expanded":!!(I||se&&ue),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${Qe?be:K.current}px`,"--initial-height":se?"auto":`${mt}px`,...C,...f.style},onPointerDown:me=>{Wr||!tr||(vn.current=new Date,Ie(K.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(je(!0),_e.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Ge,He,qt;if(Ke||!tr)return;_e.current=null;let yn=Number(((me=Dt.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),bs=new Date().getTime()-((Ge=vn.current)==null?void 0:Ge.getTime()),qr=Math.abs(yn)/bs;if(Math.abs(yn)>=$M||qr>.11){Ie(K.current),(He=f.onDismiss)==null||He.call(f,f),Pn(),Ee(!0);return}(qt=Dt.current)==null||qt.style.setProperty("--swipe-amount","0px"),je(!1)},onPointerMove:me=>{var Ge;if(!_e.current||!tr)return;let He=me.clientY-_e.current.y,qt=me.clientX-_e.current.x,yn=(Je==="top"?Math.min:Math.max)(0,He),bs=me.pointerType==="touch"?10:2;Math.abs(yn)>bs?(Ge=Dt.current)==null||Ge.style.setProperty("--swipe-amount",`${He}px`):Math.abs(qt)>bs&&(_e.current=null)}},z&&!f.jsx?U.createElement("button",{"aria-label":ne,"data-disabled":Wr,"data-close-button":!0,onClick:Wr||!tr?()=>{}:()=>{var me;Pn(),(me=f.onDismiss)==null||me.call(f,f)},className:oe(V==null?void 0:V.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||U.isValidElement(f.title)?f.jsx||f.title:U.createElement(U.Fragment,null,ut||f.icon||f.promise?U.createElement("div",{"data-icon":"",className:oe(V==null?void 0:V.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ul():null,f.type!=="loading"?f.icon||(G==null?void 0:G[ut])||EM(ut):null):null,U.createElement("div",{"data-content":"",className:oe(V==null?void 0:V.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},U.createElement("div",{"data-title":"",className:oe(V==null?void 0:V.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?U.createElement("div",{"data-description":"",className:oe(O,j,V==null?void 0:V.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),U.isValidElement(f.cancel)?f.cancel:f.cancel&&Gu(f.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:me=>{var Ge,He;Gu(f.cancel)&&tr&&((He=(Ge=f.cancel).onClick)==null||He.call(Ge,me),Pn())},className:oe(V==null?void 0:V.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,U.isValidElement(f.action)?f.action:f.action&&Gu(f.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:me=>{var Ge,He;Gu(f.action)&&(me.defaultPrevented||((He=(Ge=f.action).onClick)==null||He.call(Ge,me),Pn()))},className:oe(V==null?void 0:V.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function ox(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var WM=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:h,style:p,visibleToasts:f=MM,toastOptions:v,dir:_=ox(),gap:g=UM,loadingIcon:x,icons:E,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:S,cn:I=BM}=t,[k,M]=U.useState([]),b=U.useMemo(()=>Array.from(new Set([n].concat(k.filter(ee=>ee.position).map(ee=>ee.position)))),[k,n]),[C,A]=U.useState([]),[R,D]=U.useState(!1),[O,N]=U.useState(!1),[B,Z]=U.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=U.useRef(null),se=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=U.useRef(null),G=U.useRef(!1),ne=U.useCallback(ee=>{var oe;(oe=k.find(ue=>ue.id===ee.id))!=null&&oe.delete||Dn.dismiss(ee.id),M(ue=>ue.filter(({id:Ne})=>Ne!==ee.id))},[k]);return U.useEffect(()=>Dn.subscribe(ee=>{if(ee.dismiss){M(oe=>oe.map(ue=>ue.id===ee.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{JS.flushSync(()=>{M(oe=>{let ue=oe.findIndex(Ne=>Ne.id===ee.id);return ue!==-1?[...oe.slice(0,ue),{...oe[ue],...ee},...oe.slice(ue+1)]:[ee,...oe]})})})}),[]),U.useEffect(()=>{if(l!=="system"){Z(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ee})=>{Z(ee?"dark":"light")})},[l]),U.useEffect(()=>{k.length<=1&&D(!1)},[k]),U.useEffect(()=>{let ee=oe=>{var ue,Ne;r.every(Qe=>oe[Qe]||oe.code===Qe)&&(D(!0),(ue=X.current)==null||ue.focus()),oe.code==="Escape"&&(document.activeElement===X.current||(Ne=X.current)!=null&&Ne.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[r]),U.useEffect(()=>{if(X.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,G.current=!1)}},[X.current]),k.length?U.createElement("section",{"aria-label":`${w} ${se}`,tabIndex:-1},b.map((ee,oe)=>{var ue;let[Ne,Qe]=ee.split("-");return U.createElement("ol",{key:ee,dir:_==="auto"?ox():_,tabIndex:-1,ref:X,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Ne,"data-x-position":Qe,style:{"--front-toast-height":`${((ue=C[0])==null?void 0:ue.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||LM,"--width":`${FM}px`,"--gap":`${g}px`,...p},onBlur:Ce=>{G.current&&!Ce.currentTarget.contains(Ce.relatedTarget)&&(G.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||G.current||(G.current=!0,V.current=Ce.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},k.filter(Ce=>!Ce.position&&oe===0||Ce.position===ee).map((Ce,de)=>{var je,Ke;return U.createElement(HM,{key:Ce.id,icons:E,index:de,toast:Ce,defaultRichColors:c,duration:(je=v==null?void 0:v.duration)!=null?je:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Ke=v==null?void 0:v.closeButton)!=null?Ke:i,interacting:O,position:ee,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ne,toasts:k.filter(Ee=>Ee.position==Ce.position),heights:C.filter(Ee=>Ee.position==Ce.position),setHeights:A,expandByDefault:s,gap:g,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:S,cn:I})}))})):null};const qM=({...t})=>{const{theme:e="system"}=xM();return d.jsx(WM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var KM=Q1.useId||(()=>{}),GM=0;function so(t){const[e,n]=y.useState(KM());return sn(()=>{n(r=>r??String(GM++))},[t]),e?`radix-${e}`:""}const QM=["top","right","bottom","left"],vi=Math.min,Mn=Math.max,ch=Math.round,Qu=Math.floor,yi=t=>({x:t,y:t}),YM={left:"right",right:"left",bottom:"top",top:"bottom"},XM={start:"end",end:"start"};function cg(t,e,n){return Mn(t,vi(e,n))}function ds(t,e){return typeof t=="function"?t(e):t}function hs(t){return t.split("-")[0]}function Ja(t){return t.split("-")[1]}function oy(t){return t==="x"?"y":"x"}function ay(t){return t==="y"?"height":"width"}function wi(t){return["top","bottom"].includes(hs(t))?"y":"x"}function ly(t){return oy(wi(t))}function JM(t,e,n){n===void 0&&(n=!1);const r=Ja(t),s=ly(t),i=ay(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=uh(o)),[o,uh(o)]}function ZM(t){const e=uh(t);return[ug(t),e,ug(e)]}function ug(t){return t.replace(/start|end/g,e=>XM[e])}function eL(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function tL(t,e,n,r){const s=Ja(t);let i=eL(hs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ug)))),i}function uh(t){return t.replace(/left|right|bottom|top/g,e=>YM[e])}function nL(t){return{top:0,right:0,bottom:0,left:0,...t}}function BC(t){return typeof t!="number"?nL(t):{top:t,right:t,bottom:t,left:t}}function dh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ax(t,e,n){let{reference:r,floating:s}=t;const i=wi(e),o=ly(e),a=ay(o),l=hs(e),c=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-s.width,y:p};break;default:v={x:r.x,y:r.y}}switch(Ja(e)){case"start":v[o]-=f*(n&&c?-1:1);break;case"end":v[o]+=f*(n&&c?-1:1);break}return v}const rL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=ax(c,r,l),f=r,v={},_=0;for(let g=0;g<a.length;g++){const{name:x,fn:E}=a[g],{x:w,y:S,data:I,reset:k}=await E({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});h=w??h,p=S??p,v={...v,[x]:{...v[x],...I}},k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:h,y:p}=ax(c,f,l)),g=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:v}};async function Cc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:v=0}=ds(e,t),_=BC(v),x=a[f?p==="floating"?"reference":"floating":p],E=dh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),w=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},k=dh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(E.top-k.top+_.top)/I.y,bottom:(k.bottom-E.bottom+_.bottom)/I.y,left:(E.left-k.left+_.left)/I.x,right:(k.right-E.right+_.right)/I.x}}const sL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=ds(t,e)||{};if(c==null)return{};const p=BC(h),f={x:n,y:r},v=ly(s),_=ay(v),g=await o.getDimensions(c),x=v==="y",E=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",I=i.reference[_]+i.reference[v]-f[v]-i.floating[_],k=f[v]-i.reference[v],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=M?M[S]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[S]||i.floating[_]);const C=I/2-k/2,A=b/2-g[_]/2-1,R=vi(p[E],A),D=vi(p[w],A),O=R,N=b-g[_]-D,B=b/2-g[_]/2+C,Z=cg(O,B,N),X=!l.arrow&&Ja(s)!=null&&B!==Z&&i.reference[_]/2-(B<O?R:D)-g[_]/2<0,se=X?B<O?B-O:B-N:0;return{[v]:f[v]+se,data:{[v]:Z,centerOffset:B-Z-se,...X&&{alignmentOffset:se}},reset:X}}}),iL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...x}=ds(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=hs(s),w=wi(a),S=hs(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(S||!g?[uh(a)]:ZM(a)),M=_!=="none";!f&&M&&k.push(...tL(a,g,_,I));const b=[a,...k],C=await Cc(e,x),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(C[E]),p){const B=JM(s,o,I);A.push(C[B[0]],C[B[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(B=>B<=0)){var D,O;const B=(((D=i.flip)==null?void 0:D.index)||0)+1,Z=b[B];if(Z)return{data:{index:B,overflows:R},reset:{placement:Z}};let X=(O=R.filter(se=>se.overflows[0]<=0).sort((se,V)=>se.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!X)switch(v){case"bestFit":{var N;const se=(N=R.filter(V=>{if(M){const G=wi(V.placement);return G===w||G==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(G=>G>0).reduce((G,ne)=>G+ne,0)]).sort((V,G)=>V[1]-G[1])[0])==null?void 0:N[0];se&&(X=se);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function lx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cx(t){return QM.some(e=>t[e]>=0)}const oL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ds(t,e);switch(r){case"referenceHidden":{const i=await Cc(e,{...s,elementContext:"reference"}),o=lx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cx(o)}}}case"escaped":{const i=await Cc(e,{...s,altBoundary:!0}),o=lx(i,n.floating);return{data:{escapedOffsets:o,escaped:cx(o)}}}default:return{}}}}};async function aL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=hs(n),a=Ja(n),l=wi(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=ds(e,t);let{mainAxis:f,crossAxis:v,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof _=="number"&&(v=a==="end"?_*-1:_),l?{x:v*h,y:f*c}:{x:f*c,y:v*h}}const lL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await aL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},cL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:E,y:w}=x;return{x:E,y:w}}},...l}=ds(t,e),c={x:n,y:r},h=await Cc(e,l),p=wi(hs(s)),f=oy(p);let v=c[f],_=c[p];if(i){const x=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=v+h[x],S=v-h[E];v=cg(w,v,S)}if(o){const x=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=_+h[x],S=_-h[E];_=cg(w,_,S)}const g=a.fn({...e,[f]:v,[p]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[p]:o}}}}}},uL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ds(t,e),h={x:n,y:r},p=wi(s),f=oy(p);let v=h[f],_=h[p];const g=ds(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=f==="y"?"height":"width",I=i.reference[f]-i.floating[S]+x.mainAxis,k=i.reference[f]+i.reference[S]-x.mainAxis;v<I?v=I:v>k&&(v=k)}if(c){var E,w;const S=f==="y"?"width":"height",I=["top","left"].includes(hs(s)),k=i.reference[p]-i.floating[S]+(I&&((E=o.offset)==null?void 0:E[p])||0)+(I?0:x.crossAxis),M=i.reference[p]+i.reference[S]+(I?0:((w=o.offset)==null?void 0:w[p])||0)-(I?x.crossAxis:0);_<k?_=k:_>M&&(_=M)}return{[f]:v,[p]:_}}}},dL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ds(t,e),h=await Cc(e,c),p=hs(s),f=Ja(s),v=wi(s)==="y",{width:_,height:g}=i.floating;let x,E;p==="top"||p==="bottom"?(x=p,E=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,x=f==="end"?"top":"bottom");const w=g-h.top-h.bottom,S=_-h.left-h.right,I=vi(g-h[x],w),k=vi(_-h[E],S),M=!e.middlewareData.shift;let b=I,C=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=w),M&&!f){const R=Mn(h.left,0),D=Mn(h.right,0),O=Mn(h.top,0),N=Mn(h.bottom,0);v?C=_-2*(R!==0||D!==0?R+D:Mn(h.left,h.right)):b=g-2*(O!==0||N!==0?O+N:Mn(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:b});const A=await o.getDimensions(a.floating);return _!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function ff(){return typeof window<"u"}function Za(t){return HC(t)?(t.nodeName||"").toLowerCase():"#document"}function Un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zr(t){var e;return(e=(HC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HC(t){return ff()?t instanceof Node||t instanceof Un(t).Node:!1}function gr(t){return ff()?t instanceof Element||t instanceof Un(t).Element:!1}function Fr(t){return ff()?t instanceof HTMLElement||t instanceof Un(t).HTMLElement:!1}function ux(t){return!ff()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Un(t).ShadowRoot}function Yc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=vr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function hL(t){return["table","td","th"].includes(Za(t))}function pf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function cy(t){const e=uy(),n=gr(t)?vr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function fL(t){let e=_i(t);for(;Fr(e)&&!La(e);){if(cy(e))return e;if(pf(e))return null;e=_i(e)}return null}function uy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function La(t){return["html","body","#document"].includes(Za(t))}function vr(t){return Un(t).getComputedStyle(t)}function mf(t){return gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _i(t){if(Za(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ux(t)&&t.host||zr(t);return ux(e)?e.host:e}function WC(t){const e=_i(t);return La(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fr(e)&&Yc(e)?e:WC(e)}function bc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=WC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Un(s);if(i){const a=dg(o);return e.concat(o,o.visualViewport||[],Yc(s)?s:[],a&&n?bc(a):[])}return e.concat(s,bc(s,[],n))}function dg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qC(t){const e=vr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ch(n)!==i||ch(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function dy(t){return gr(t)?t:t.contextElement}function fa(t){const e=dy(t);if(!Fr(e))return yi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=qC(e);let o=(i?ch(n.width):n.width)/r,a=(i?ch(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const pL=yi(0);function KC(t){const e=Un(t);return!uy()||!e.visualViewport?pL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Un(t)?!1:e}function po(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=dy(t);let o=yi(1);e&&(r?gr(r)&&(o=fa(r)):o=fa(t));const a=mL(i,n,r)?KC(i):yi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=Un(i),v=r&&gr(r)?Un(r):r;let _=f,g=dg(_);for(;g&&r&&v!==_;){const x=fa(g),E=g.getBoundingClientRect(),w=vr(g),S=E.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,I=E.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,h*=x.x,p*=x.y,l+=S,c+=I,_=Un(g),g=dg(_)}}return dh({width:h,height:p,x:l,y:c})}function gL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=zr(r),a=e?pf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=yi(1);const h=yi(0),p=Fr(r);if((p||!p&&!i)&&((Za(r)!=="body"||Yc(o))&&(l=mf(r)),Fr(r))){const f=po(r);c=fa(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x,y:n.y*c.y-l.scrollTop*c.y+h.y}}function vL(t){return Array.from(t.getClientRects())}function hg(t,e){const n=mf(t).scrollLeft;return e?e.left+n:po(zr(t)).left+n}function yL(t){const e=zr(t),n=mf(t),r=t.ownerDocument.body,s=Mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hg(t);const a=-n.scrollTop;return vr(r).direction==="rtl"&&(o+=Mn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function wL(t,e){const n=Un(t),r=zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=uy();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function _L(t,e){const n=po(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Fr(t)?fa(t):yi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function dx(t,e,n){let r;if(e==="viewport")r=wL(t,n);else if(e==="document")r=yL(zr(t));else if(gr(e))r=_L(e,n);else{const s=KC(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return dh(r)}function GC(t,e){const n=_i(t);return n===e||!gr(n)||La(n)?!1:vr(n).position==="fixed"||GC(n,e)}function xL(t,e){const n=e.get(t);if(n)return n;let r=bc(t,[],!1).filter(a=>gr(a)&&Za(a)!=="body"),s=null;const i=vr(t).position==="fixed";let o=i?_i(t):t;for(;gr(o)&&!La(o);){const a=vr(o),l=cy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yc(o)&&!l&&GC(t,o))?r=r.filter(h=>h!==o):s=a,o=_i(o)}return e.set(t,r),r}function EL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?pf(e)?[]:xL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const p=dx(e,h,s);return c.top=Mn(p.top,c.top),c.right=vi(p.right,c.right),c.bottom=vi(p.bottom,c.bottom),c.left=Mn(p.left,c.left),c},dx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function TL(t){const{width:e,height:n}=qC(t);return{width:e,height:n}}function SL(t,e,n){const r=Fr(e),s=zr(e),i=n==="fixed",o=po(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=yi(0);if(r||!r&&!i)if((Za(e)!=="body"||Yc(s))&&(a=mf(e)),r){const v=po(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else s&&(l.x=hg(s));let c=0,h=0;if(s&&!r&&!i){const v=s.getBoundingClientRect();h=v.top+a.scrollTop,c=v.left+a.scrollLeft-hg(s,v)}const p=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-h;return{x:p,y:f,width:o.width,height:o.height}}function Fp(t){return vr(t).position==="static"}function hx(t,e){if(!Fr(t)||vr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zr(t)===n&&(n=n.ownerDocument.body),n}function QC(t,e){const n=Un(t);if(pf(t))return n;if(!Fr(t)){let s=_i(t);for(;s&&!La(s);){if(gr(s)&&!Fp(s))return s;s=_i(s)}return n}let r=hx(t,e);for(;r&&hL(r)&&Fp(r);)r=hx(r,e);return r&&La(r)&&Fp(r)&&!cy(r)?n:r||fL(t)||n}const CL=async function(t){const e=this.getOffsetParent||QC,n=this.getDimensions,r=await n(t.floating);return{reference:SL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bL(t){return vr(t).direction==="rtl"}const IL={convertOffsetParentRelativeRectToViewportRelativeRect:gL,getDocumentElement:zr,getClippingRect:EL,getOffsetParent:QC,getElementRects:CL,getClientRects:vL,getDimensions:TL,getScale:fa,isElement:gr,isRTL:bL};function AL(t,e){let n=null,r;const s=zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const v=Qu(h),_=Qu(s.clientWidth-(c+p)),g=Qu(s.clientHeight-(h+f)),x=Qu(c),w={rootMargin:-v+"px "+-_+"px "+-g+"px "+-x+"px",threshold:Mn(0,vi(1,l))||1};let S=!0;function I(k){const M=k[0].intersectionRatio;if(M!==l){if(!S)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(I,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,w)}n.observe(t)}return o(!0),i}function RL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=dy(t),h=s||i?[...c?bc(c):[],...bc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const p=c&&a?AL(c,n):null;let f=-1,v=null;o&&(v=new ResizeObserver(E=>{let[w]=E;w&&w.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let _,g=l?po(t):null;l&&x();function x(){const E=po(t);g&&(E.x!==g.x||E.y!==g.y||E.width!==g.width||E.height!==g.height)&&n(),g=E,_=requestAnimationFrame(x)}return n(),()=>{var E;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),p==null||p(),(E=v)==null||E.disconnect(),v=null,l&&cancelAnimationFrame(_)}}const PL=lL,NL=cL,kL=iL,DL=dL,OL=oL,fx=sL,jL=uL,ML=(t,e,n)=>{const r=new Map,s={platform:IL,...n},i={...s.platform,_c:r};return rL(t,e,{...s,platform:i})};var Td=typeof document<"u"?y.useLayoutEffect:y.useEffect;function hh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!hh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!hh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function YC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function px(t,e){const n=YC(t);return Math.round(e*n)/n}function Up(t){const e=y.useRef(t);return Td(()=>{e.current=t}),e}function LL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,p]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,v]=y.useState(r);hh(f,r)||v(r);const[_,g]=y.useState(null),[x,E]=y.useState(null),w=y.useCallback(V=>{V!==M.current&&(M.current=V,g(V))},[]),S=y.useCallback(V=>{V!==b.current&&(b.current=V,E(V))},[]),I=i||_,k=o||x,M=y.useRef(null),b=y.useRef(null),C=y.useRef(h),A=l!=null,R=Up(l),D=Up(s),O=Up(c),N=y.useCallback(()=>{if(!M.current||!b.current)return;const V={placement:e,strategy:n,middleware:f};D.current&&(V.platform=D.current),ML(M.current,b.current,V).then(G=>{const ne={...G,isPositioned:O.current!==!1};B.current&&!hh(C.current,ne)&&(C.current=ne,Io.flushSync(()=>{p(ne)}))})},[f,e,n,D,O]);Td(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[c]);const B=y.useRef(!1);Td(()=>(B.current=!0,()=>{B.current=!1}),[]),Td(()=>{if(I&&(M.current=I),k&&(b.current=k),I&&k){if(R.current)return R.current(I,k,N);N()}},[I,k,N,R,A]);const Z=y.useMemo(()=>({reference:M,floating:b,setReference:w,setFloating:S}),[w,S]),X=y.useMemo(()=>({reference:I,floating:k}),[I,k]),se=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!X.floating)return V;const G=px(X.floating,h.x),ne=px(X.floating,h.y);return a?{...V,transform:"translate("+G+"px, "+ne+"px)",...YC(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ne}},[n,a,X.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:N,refs:Z,elements:X,floatingStyles:se}),[h,N,Z,X,se])}const VL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fx({element:r.current,padding:s}).fn(n):{}:r?fx({element:r,padding:s}).fn(n):{}}}},FL=(t,e)=>({...PL(t),options:[t,e]}),UL=(t,e)=>({...NL(t),options:[t,e]}),$L=(t,e)=>({...jL(t),options:[t,e]}),zL=(t,e)=>({...kL(t),options:[t,e]}),BL=(t,e)=>({...DL(t),options:[t,e]}),HL=(t,e)=>({...OL(t),options:[t,e]}),WL=(t,e)=>({...VL(t),options:[t,e]});var qL="Arrow",XC=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});XC.displayName=qL;var KL=XC;function GL(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:f,children:v,..._}=p,g=(f==null?void 0:f[t][l])||a,x=y.useMemo(()=>_,Object.values(_));return d.jsx(g.Provider,{value:x,children:v})}function h(p,f){const v=(f==null?void 0:f[t][l])||a,_=y.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,QL(s,...e)]}function QL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function hy(t){const[e,n]=y.useState(void 0);return sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fy="Popper",[JC,gf]=GL(fy),[YL,ZC]=JC(fy),eb=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return d.jsx(YL,{scope:e,anchor:r,onAnchorChange:s,children:n})};eb.displayName=fy;var tb="PopperAnchor",nb=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ZC(tb,n),o=y.useRef(null),a=Ue(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Se.div,{...s,ref:a})});nb.displayName=tb;var py="PopperContent",[XL,JL]=JC(py),rb=y.forwardRef((t,e)=>{var de,je,Ke,Ee,be,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:_,...g}=t,x=ZC(py,n),[E,w]=y.useState(null),S=Ue(e,mt=>w(mt)),[I,k]=y.useState(null),M=hy(I),b=(M==null?void 0:M.width)??0,C=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(c)?c:[c],O=D.length>0,N={padding:R,boundary:D.filter(eV),altBoundary:O},{refs:B,floatingStyles:Z,placement:X,isPositioned:se,middlewareData:V}=LL({strategy:"fixed",placement:A,whileElementsMounted:(...mt)=>RL(...mt,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[FL({mainAxis:s+C,alignmentAxis:o}),l&&UL({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?$L():void 0,...N}),l&&zL({...N}),BL({...N,apply:({elements:mt,rects:xt,availableWidth:vn,availableHeight:Dt})=>{const{width:Hn,height:Vi}=xt.reference,ut=mt.floating.style;ut.setProperty("--radix-popper-available-width",`${vn}px`),ut.setProperty("--radix-popper-available-height",`${Dt}px`),ut.setProperty("--radix-popper-anchor-width",`${Hn}px`),ut.setProperty("--radix-popper-anchor-height",`${Vi}px`)}}),I&&WL({element:I,padding:a}),tV({arrowWidth:b,arrowHeight:C}),f&&HL({strategy:"referenceHidden",...N})]}),[G,ne]=ob(X),ee=Rn(_);sn(()=>{se&&(ee==null||ee())},[se,ee]);const oe=(de=V.arrow)==null?void 0:de.x,ue=(je=V.arrow)==null?void 0:je.y,Ne=((Ke=V.arrow)==null?void 0:Ke.centerOffset)!==0,[Qe,Ce]=y.useState();return sn(()=>{E&&Ce(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:se?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qe,"--radix-popper-transform-origin":[(Ee=V.transformOrigin)==null?void 0:Ee.x,(be=V.transformOrigin)==null?void 0:be.y].join(" "),...((Ie=V.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(XL,{scope:n,placedSide:G,onArrowChange:k,arrowX:oe,arrowY:ue,shouldHideArrow:Ne,children:d.jsx(Se.div,{"data-side":G,"data-align":ne,...g,ref:S,style:{...g.style,animation:se?void 0:"none"}})})})});rb.displayName=py;var sb="PopperArrow",ZL={top:"bottom",right:"left",bottom:"top",left:"right"},ib=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=JL(sb,r),o=ZL[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(KL,{...s,ref:n,style:{...s.style,display:"block"}})})});ib.displayName=sb;function eV(t){return t!==null}var tV=t=>({name:"transformOrigin",options:t,fn(e){var x,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=ob(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let _="",g="";return c==="bottom"?(_=o?p:`${f}px`,g=`${-l}px`):c==="top"?(_=o?p:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,g=o?p:`${v}px`):c==="left"&&(_=`${r.floating.width+l}px`,g=o?p:`${v}px`),{data:{x:_,y:g}}}});function ob(t){const[e,n="center"]=t.split("-");return[e,n]}var nV=eb,ab=nb,lb=rb,cb=ib,[vf,D7]=Pi("Tooltip",[gf]),my=gf(),ub="TooltipProvider",rV=700,mx="tooltip.open",[sV,db]=vf(ub),hb=t=>{const{__scopeTooltip:e,delayDuration:n=rV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=y.useState(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),d.jsx(sV,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};hb.displayName=ub;var fb="Tooltip",[O7,yf]=vf(fb),fg="TooltipTrigger",iV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=yf(fg,n),i=db(fg,n),o=my(n),a=y.useRef(null),l=Ue(e,a,s.onTriggerChange),c=y.useRef(!1),h=y.useRef(!1),p=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(ab,{asChild:!0,...o,children:d.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:fe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:fe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});iV.displayName=fg;var oV="TooltipPortal",[j7,aV]=vf(oV,{forceMount:void 0}),Va="TooltipContent",pb=y.forwardRef((t,e)=>{const n=aV(Va,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=yf(Va,t.__scopeTooltip);return d.jsx(Ni,{present:r||o.open,children:o.disableHoverableContent?d.jsx(mb,{side:s,...i,ref:e}):d.jsx(lV,{side:s,...i,ref:e})})}),lV=y.forwardRef((t,e)=>{const n=yf(Va,t.__scopeTooltip),r=db(Va,t.__scopeTooltip),s=y.useRef(null),i=Ue(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:p}=r,f=y.useCallback(()=>{a(null),p(!1)},[p]),v=y.useCallback((_,g)=>{const x=_.currentTarget,E={x:_.clientX,y:_.clientY},w=hV(E,x.getBoundingClientRect()),S=fV(E,w),I=pV(g.getBoundingClientRect()),k=gV([...S,...I]);a(k),p(!0)},[p]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&h){const _=x=>v(x,h),g=x=>v(x,l);return l.addEventListener("pointerleave",_),h.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",g)}}},[l,h,v,f]),y.useEffect(()=>{if(o){const _=g=>{const x=g.target,E={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(x))||(h==null?void 0:h.contains(x)),S=!mV(E,o);w?f():S&&(f(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,h,o,c,f]),d.jsx(mb,{...t,ref:i})}),[cV,uV]=vf(fb,{isInside:!1}),mb=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=yf(Va,n),c=my(n),{onClose:h}=l;return y.useEffect(()=>(document.addEventListener(mx,h),()=>document.removeEventListener(mx,h)),[h]),y.useEffect(()=>{if(l.trigger){const p=f=>{const v=f.target;v!=null&&v.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),d.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:d.jsxs(lb,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Yv,{children:r}),d.jsx(cV,{scope:n,isInside:!0,children:d.jsx(xO,{id:l.contentId,role:"tooltip",children:s||r})})]})})});pb.displayName=Va;var gb="TooltipArrow",dV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=my(n);return uV(gb,n).isInside?null:d.jsx(cb,{...s,...r,ref:e})});dV.displayName=gb;function hV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function fV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function pV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function mV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,h=e[o].y;l>r!=h>r&&n<(c-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function gV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vV(e)}function vV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yV=hb,vb=pb;const wV=yV,_V=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(vb,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));_V.displayName=vb.displayName;var wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_f=typeof window>"u"||"Deno"in globalThis;function or(){}function xV(t,e){return typeof t=="function"?t(e):t}function EV(t){return typeof t=="number"&&t>=0&&t!==1/0}function TV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gx(t,e){return typeof t=="function"?t(e):t}function SV(t,e){return typeof t=="function"?t(e):t}function vx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==gy(o,e.options))return!1}else if(!Ac(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function yx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ic(e.options.mutationKey)!==Ic(i))return!1}else if(!Ac(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function gy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ic)(t)}function Ic(t){return JSON.stringify(t,(e,n)=>pg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ac(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ac(t[n],e[n])):!1}function yb(t,e){if(t===e)return t;const n=wx(t)&&wx(e);if(n||pg(t)&&pg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=yb(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function wx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pg(t){if(!_x(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_x(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _x(t){return Object.prototype.toString.call(t)==="[object Object]"}function CV(t){return new Promise(e=>{setTimeout(e,t)})}function bV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yb(t,e):e}function IV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function AV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vy=Symbol();function wb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ji,Ws,_a,P1,RV=(P1=class extends wf{constructor(){super();$e(this,Ji);$e(this,Ws);$e(this,_a);Te(this,_a,e=>{if(!_f&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Ws)||this.setEventListener(W(this,_a))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Ws))==null||e.call(this),Te(this,Ws,void 0))}setEventListener(e){var n;Te(this,_a,e),(n=W(this,Ws))==null||n.call(this),Te(this,Ws,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,Ji)!==e&&(Te(this,Ji,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,Ji)=="boolean"?W(this,Ji):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ji=new WeakMap,Ws=new WeakMap,_a=new WeakMap,P1),_b=new RV,xa,qs,Ea,N1,PV=(N1=class extends wf{constructor(){super();$e(this,xa,!0);$e(this,qs);$e(this,Ea);Te(this,Ea,e=>{if(!_f&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,qs)||this.setEventListener(W(this,Ea))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,qs))==null||e.call(this),Te(this,qs,void 0))}setEventListener(e){var n;Te(this,Ea,e),(n=W(this,qs))==null||n.call(this),Te(this,qs,e(this.setOnline.bind(this)))}setOnline(e){W(this,xa)!==e&&(Te(this,xa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,xa)}},xa=new WeakMap,qs=new WeakMap,Ea=new WeakMap,N1),fh=new PV;function NV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function kV(t){return Math.min(1e3*2**t,3e4)}function xb(t){return(t??"online")==="online"?fh.isOnline():!0}var Eb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $p(t){return t instanceof Eb}function Tb(t){let e=!1,n=0,r=!1,s;const i=NV(),o=g=>{var x;r||(f(new Eb(g)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>_b.isFocused()&&(t.networkMode==="always"||fh.isOnline())&&t.canRun(),h=()=>xb(t.networkMode)&&t.canRun(),p=g=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,g),s==null||s(),i.reject(g))},v=()=>new Promise(g=>{var x;s=E=>{(r||c())&&g(E)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),_=()=>{if(r)return;let g;const x=n===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(p).catch(E=>{var M;if(r)return;const w=t.retry??(_f?0:3),S=t.retryDelay??kV,I=typeof S=="function"?S(n,E):S,k=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!k){f(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),CV(I).then(()=>c()?void 0:v()).then(()=>{e?f(E):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?_():v().then(_),i)}}function DV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var hn=DV(),Zi,k1,Sb=(k1=class{constructor(){$e(this,Zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EV(this.gcTime)&&Te(this,Zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_f?1/0:5*60*1e3))}clearGcTimeout(){W(this,Zi)&&(clearTimeout(W(this,Zi)),Te(this,Zi,void 0))}},Zi=new WeakMap,k1),Ta,Sa,qn,Zt,$c,eo,ar,Xr,D1,OV=(D1=class extends Sb{constructor(n){super();$e(this,ar);$e(this,Ta);$e(this,Sa);$e(this,qn);$e(this,Zt);$e(this,$c);$e(this,eo);Te(this,eo,!1),Te(this,$c,n.defaultOptions),this.setOptions(n.options),this.observers=[],Te(this,qn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Te(this,Ta,MV(this.options)),this.state=n.state??W(this,Ta),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=W(this,Zt))==null?void 0:n.promise}setOptions(n){this.options={...W(this,$c),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,qn).remove(this)}setData(n,r){const s=bV(this.state.data,n,this.options);return Qt(this,ar,Xr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Qt(this,ar,Xr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=W(this,Zt))==null?void 0:s.promise;return(i=W(this,Zt))==null||i.cancel(n),r?r.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Ta))}isActive(){return this.observers.some(n=>SV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!TV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,Zt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,Zt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),W(this,qn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(W(this,Zt)&&(W(this,eo)?W(this,Zt).cancel({revert:!0}):W(this,Zt).cancelRetry()),this.scheduleGc()),W(this,qn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,ar,Xr).call(this,{type:"invalidate"})}fetch(n,r){var c,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Zt))return W(this,Zt).continueRetry(),W(this,Zt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Te(this,eo,!0),s.signal)})},o=()=>{const f=wb(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),Te(this,eo,!1),this.options.persister?this.options.persister(f,v,this):f(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Te(this,Sa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Qt(this,ar,Xr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var v,_,g,x;$p(f)&&f.silent||Qt(this,ar,Xr).call(this,{type:"error",error:f}),$p(f)||((_=(v=W(this,qn).config).onError)==null||_.call(v,f,this),(x=(g=W(this,qn).config).onSettled)==null||x.call(g,this.state.data,f,this)),this.scheduleGc()};return Te(this,Zt,Tb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var v,_,g,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(E){l(E);return}(_=(v=W(this,qn).config).onSuccess)==null||_.call(v,f,this),(x=(g=W(this,qn).config).onSettled)==null||x.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,v)=>{Qt(this,ar,Xr).call(this,{type:"failed",failureCount:f,error:v})},onPause:()=>{Qt(this,ar,Xr).call(this,{type:"pause"})},onContinue:()=>{Qt(this,ar,Xr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,Zt).start()}},Ta=new WeakMap,Sa=new WeakMap,qn=new WeakMap,Zt=new WeakMap,$c=new WeakMap,eo=new WeakMap,ar=new WeakSet,Xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...jV(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return $p(i)&&i.revert&&W(this,Sa)?{...W(this,Sa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),hn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),W(this,qn).notify({query:this,type:"updated",action:n})})},D1);function jV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function MV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ir,O1,LV=(O1=class extends wf{constructor(e={}){super();$e(this,Ir);this.config=e,Te(this,Ir,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??gy(s,n);let o=this.get(i);return o||(o=new OV({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){W(this,Ir).has(e.queryHash)||(W(this,Ir).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,Ir).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,Ir).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Ir).get(e)}getAll(){return[...W(this,Ir).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>vx(e,r)):n}notify(e){hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ir=new WeakMap,O1),Ar,ln,to,Rr,Os,j1,VV=(j1=class extends Sb{constructor(n){super();$e(this,Rr);$e(this,Ar);$e(this,ln);$e(this,to);this.mutationId=n.mutationId,Te(this,ln,n.mutationCache),Te(this,Ar,[]),this.state=n.state||FV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){W(this,Ar).includes(n)||(W(this,Ar).push(n),this.clearGcTimeout(),W(this,ln).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Te(this,Ar,W(this,Ar).filter(r=>r!==n)),this.scheduleGc(),W(this,ln).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){W(this,Ar).length||(this.state.status==="pending"?this.scheduleGc():W(this,ln).remove(this))}continue(){var n;return((n=W(this,to))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,h,p,f,v,_,g,x,E,w,S,I,k,M,b,C;Te(this,to,Tb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{Qt(this,Rr,Os).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{Qt(this,Rr,Os).call(this,{type:"pause"})},onContinue:()=>{Qt(this,Rr,Os).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,ln).canRun(this)}));const r=this.state.status==="pending",s=!W(this,to).canStart();try{if(!r){Qt(this,Rr,Os).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=W(this,ln).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Qt(this,Rr,Os).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const A=await W(this,to).start();return await((h=(c=W(this,ln).config).onSuccess)==null?void 0:h.call(c,A,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,A,n,this.state.context)),await((_=(v=W(this,ln).config).onSettled)==null?void 0:_.call(v,A,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,A,null,n,this.state.context)),Qt(this,Rr,Os).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(E=W(this,ln).config).onError)==null?void 0:w.call(E,A,n,this.state.context,this)),await((I=(S=this.options).onError)==null?void 0:I.call(S,A,n,this.state.context)),await((M=(k=W(this,ln).config).onSettled)==null?void 0:M.call(k,void 0,A,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,A,n,this.state.context)),A}finally{Qt(this,Rr,Os).call(this,{type:"error",error:A})}}finally{W(this,ln).runNext(this)}}},Ar=new WeakMap,ln=new WeakMap,to=new WeakMap,Rr=new WeakSet,Os=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),hn.batch(()=>{W(this,Ar).forEach(s=>{s.onMutationUpdate(n)}),W(this,ln).notify({mutation:this,type:"updated",action:n})})},j1);function FV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kn,zc,M1,UV=(M1=class extends wf{constructor(e={}){super();$e(this,kn);$e(this,zc);this.config=e,Te(this,kn,new Map),Te(this,zc,Date.now())}build(e,n,r){const s=new VV({mutationCache:this,mutationId:++Au(this,zc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Yu(e),r=W(this,kn).get(n)??[];r.push(e),W(this,kn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Yu(e);if(W(this,kn).has(n)){const s=(r=W(this,kn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?W(this,kn).delete(n):W(this,kn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=W(this,kn).get(Yu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=W(this,kn).get(Yu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...W(this,kn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yx(n,r))}findAll(e={}){return this.getAll().filter(n=>yx(e,n))}notify(e){hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return hn.batch(()=>Promise.all(e.map(n=>n.continue().catch(or))))}},kn=new WeakMap,zc=new WeakMap,M1);function Yu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function xx(t){return{onFetch:(e,n)=>{var h,p,f,v,_;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=wb(e.options,e.fetchOptions),w=async(S,I,k)=>{if(g)return Promise.reject();if(I==null&&S.pages.length)return Promise.resolve(S);const M={queryKey:e.queryKey,pageParam:I,direction:k?"backward":"forward",meta:e.options.meta};x(M);const b=await E(M),{maxPages:C}=e.options,A=k?AV:IV;return{pages:A(S.pages,b,C),pageParams:A(S.pageParams,I,C)}};if(s&&i.length){const S=s==="backward",I=S?$V:Ex,k={pages:i,pageParams:o},M=I(r,k);a=await w(k,M,S)}else{const S=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:Ex(r,a);if(l>0&&I==null)break;a=await w(a,I),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Ex(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function $V(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ft,Ks,Gs,Ca,ba,Qs,Ia,Aa,L1,zV=(L1=class{constructor(t={}){$e(this,ft);$e(this,Ks);$e(this,Gs);$e(this,Ca);$e(this,ba);$e(this,Qs);$e(this,Ia);$e(this,Aa);Te(this,ft,t.queryCache||new LV),Te(this,Ks,t.mutationCache||new UV),Te(this,Gs,t.defaultOptions||{}),Te(this,Ca,new Map),Te(this,ba,new Map),Te(this,Qs,0)}mount(){Au(this,Qs)._++,W(this,Qs)===1&&(Te(this,Ia,_b.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,ft).onFocus())})),Te(this,Aa,fh.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,ft).onOnline())})))}unmount(){var t,e;Au(this,Qs)._--,W(this,Qs)===0&&((t=W(this,Ia))==null||t.call(this),Te(this,Ia,void 0),(e=W(this,Aa))==null||e.call(this),Te(this,Aa,void 0))}isFetching(t){return W(this,ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,Ks).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=W(this,ft).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(gx(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return W(this,ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=W(this,ft).get(r.queryHash),i=s==null?void 0:s.state.data,o=xV(e,i);if(o!==void 0)return W(this,ft).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return hn.batch(()=>W(this,ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,ft);hn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,ft),r={type:"active",...t};return hn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=hn.batch(()=>W(this,ft).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(or).catch(or)}invalidateQueries(t={},e={}){return hn.batch(()=>{if(W(this,ft).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=hn.batch(()=>W(this,ft).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(or)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,ft).build(this,e);return n.isStaleByTime(gx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(or).catch(or)}fetchInfiniteQuery(t){return t.behavior=xx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(or).catch(or)}ensureInfiniteQueryData(t){return t.behavior=xx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fh.isOnline()?W(this,Ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,ft)}getMutationCache(){return W(this,Ks)}getDefaultOptions(){return W(this,Gs)}setDefaultOptions(t){Te(this,Gs,t)}setQueryDefaults(t,e){W(this,Ca).set(Ic(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,Ca).values()];let n={};return e.forEach(r=>{Ac(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){W(this,ba).set(Ic(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,ba).values()];let n={};return e.forEach(r=>{Ac(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,Gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===vy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,Gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,ft).clear(),W(this,Ks).clear()}},ft=new WeakMap,Ks=new WeakMap,Gs=new WeakMap,Ca=new WeakMap,ba=new WeakMap,Qs=new WeakMap,Ia=new WeakMap,Aa=new WeakMap,L1),BV=y.createContext(void 0),HV=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(BV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rc.apply(this,arguments)}var Js;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Js||(Js={}));const Tx="popstate";function WV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return mg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ph(s)}return KV(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qV(){return Math.random().toString(36).substr(2,8)}function Sx(t,e){return{usr:t.state,key:t.key,idx:e}}function mg(t,e,n,r){return n===void 0&&(n=null),Rc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?el(e):e,{state:n,key:e&&e.key||r||qV()})}function ph(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function el(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Js.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Rc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Js.Pop;let x=h(),E=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:E})}function f(x,E){a=Js.Push;let w=mg(g.location,x,E);c=h()+1;let S=Sx(w,c),I=g.createHref(w);try{o.pushState(S,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(I)}i&&l&&l({action:a,location:g.location,delta:1})}function v(x,E){a=Js.Replace;let w=mg(g.location,x,E);c=h();let S=Sx(w,c),I=g.createHref(w);o.replaceState(S,"",I),i&&l&&l({action:a,location:g.location,delta:0})}function _(x){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:ph(x);return w=w.replace(/ $/,"%20"),wt(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let g={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Tx,p),l=x,()=>{s.removeEventListener(Tx,p),l=null}},createHref(x){return e(s,x)},createURL:_,encodeLocation(x){let E=_(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:v,go(x){return o.go(x)}};return g}var Cx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cx||(Cx={}));function GV(t,e,n){return n===void 0&&(n="/"),QV(t,e,n,!1)}function QV(t,e,n,r){let s=typeof e=="string"?el(e):e,i=yy(s.pathname||"/",n);if(i==null)return null;let o=bb(t);YV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=aF(i);a=iF(o[l],c,r)}return a}function bb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=li([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bb(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:rF(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Ib(i.path))s(i,o,l)}),e}function Ib(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ib(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XV=/^:[\w-]+$/,JV=3,ZV=2,eF=1,tF=10,nF=-2,bx=t=>t==="*";function rF(t,e){let n=t.split("/"),r=n.length;return n.some(bx)&&(r+=nF),e&&(r+=ZV),n.filter(s=>!bx(s)).reduce((s,i)=>s+(XV.test(i)?JV:i===""?eF:tF),r)}function sF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function iF(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=Ix({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Ix({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:li([i,p.pathname]),pathnameBase:dF(li([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=li([i,p.pathnameBase]))}return o}function Ix(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:f,isOptional:v}=h;if(f==="*"){let g=a[p]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const _=a[p];return v&&!_?c[f]=void 0:c[f]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function oF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function aF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?el(t):t;return{pathname:n?n.startsWith("/")?n:cF(n,e):e,search:hF(r),hash:fF(s)}}function cF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wy(t,e){let n=uF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _y(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=el(t):(s=Rc({},t),wt(!s.pathname||!s.pathname.includes("?"),zp("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),zp("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),zp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=lF(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const li=t=>t.join("/").replace(/\/\/+/g,"/"),dF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ab=["post","put","patch","delete"];new Set(Ab);const mF=["get",...Ab];new Set(mF);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}const xy=y.createContext(null),gF=y.createContext(null),ki=y.createContext(null),xf=y.createContext(null),ws=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Rb=y.createContext(null);function vF(t,e){let{relative:n}=e===void 0?{}:e;tl()||wt(!1);let{basename:r,navigator:s}=y.useContext(ki),{hash:i,pathname:o,search:a}=Nb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:li([r,o])),s.createHref({pathname:l,search:a,hash:i})}function tl(){return y.useContext(xf)!=null}function _s(){return tl()||wt(!1),y.useContext(xf).location}function Pb(t){y.useContext(ki).static||y.useLayoutEffect(t)}function xs(){let{isDataRoute:t}=y.useContext(ws);return t?NF():yF()}function yF(){tl()||wt(!1);let t=y.useContext(xy),{basename:e,future:n,navigator:r}=y.useContext(ki),{matches:s}=y.useContext(ws),{pathname:i}=_s(),o=JSON.stringify(wy(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return Pb(()=>{a.current=!0}),y.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=_y(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:li([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function wF(){let{matches:t}=y.useContext(ws),e=t[t.length-1];return e?e.params:{}}function Nb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(ki),{matches:s}=y.useContext(ws),{pathname:i}=_s(),o=JSON.stringify(wy(s,r.v7_relativeSplatPath));return y.useMemo(()=>_y(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function _F(t,e){return xF(t,e)}function xF(t,e,n,r){tl()||wt(!1);let{navigator:s}=y.useContext(ki),{matches:i}=y.useContext(ws),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_s(),h;if(e){var p;let x=typeof e=="string"?el(e):e;l==="/"||(p=x.pathname)!=null&&p.startsWith(l)||wt(!1),h=x}else h=c;let f=h.pathname||"/",v=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=GV(t,{pathname:v}),g=bF(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:li([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:li([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&g?y.createElement(xf.Provider,{value:{location:Pc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Js.Pop}},g):g}function EF(){let t=PF(),e=pF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const TF=y.createElement(EF,null);class SF extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(ws.Provider,{value:this.props.routeContext},y.createElement(Rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CF(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(xy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(ws.Provider,{value:e},r)}function bF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||wt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:f,errors:v}=n,_=p.route.loader&&f[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let v,_=!1,g=null,x=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,g=p.route.errorElement||TF,l&&(c<0&&f===0?(_=!0,x=null):c===f&&(_=!0,x=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),w=()=>{let S;return v?S=g:_?S=x:p.route.Component?S=y.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=h,y.createElement(CF,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?y.createElement(SF,{location:n.location,revalidation:n.revalidation,component:g,error:v,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var kb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kb||{}),mh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mh||{});function IF(t){let e=y.useContext(xy);return e||wt(!1),e}function AF(t){let e=y.useContext(gF);return e||wt(!1),e}function RF(t){let e=y.useContext(ws);return e||wt(!1),e}function Db(t){let e=RF(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function PF(){var t;let e=y.useContext(Rb),n=AF(mh.UseRouteError),r=Db(mh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function NF(){let{router:t}=IF(kb.UseNavigateStable),e=Db(mh.UseNavigateStable),n=y.useRef(!1);return Pb(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pc({fromRouteId:e},i)))},[t,e])}function Ob(t){let{to:e,replace:n,state:r,relative:s}=t;tl()||wt(!1);let{future:i,static:o}=y.useContext(ki),{matches:a}=y.useContext(ws),{pathname:l}=_s(),c=xs(),h=_y(e,wy(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(h);return y.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:s}),[c,p,s,n,r]),null}function Wn(t){wt(!1)}function kF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Js.Pop,navigator:i,static:o=!1,future:a}=t;tl()&&wt(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Pc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=el(r));let{pathname:h="/",search:p="",hash:f="",state:v=null,key:_="default"}=r,g=y.useMemo(()=>{let x=yy(h,l);return x==null?null:{location:{pathname:x,search:p,hash:f,state:v,key:_},navigationType:s}},[l,h,p,f,v,_,s]);return g==null?null:y.createElement(ki.Provider,{value:c},y.createElement(xf.Provider,{children:n,value:g}))}function DF(t){let{children:e,location:n}=t;return _F(gg(e),n)}new Promise(()=>{});function gg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,gg(r.props.children,i));return}r.type!==Wn&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function OF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function jF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MF(t,e){return t.button===0&&(!e||e==="_self")&&!jF(t)}function yg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function LF(t,e){let n=yg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const VF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FF="6";try{window.__reactRouterVersion=FF}catch{}const UF="startTransition",Ax=Q1[UF];function $F(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=WV({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=y.useCallback(p=>{c&&Ax?Ax(()=>l(p)):l(p)},[l,c]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.createElement(kF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:p}=e,f=OF(e,VF),{basename:v}=y.useContext(ki),_,g=!1;if(typeof c=="string"&&BF.test(c)&&(_=c,zF))try{let S=new URL(window.location.href),I=c.startsWith("//")?new URL(S.protocol+c):new URL(c),k=yy(I.pathname,v);I.origin===S.origin&&k!=null?c=k+I.search+I.hash:g=!0}catch{}let x=vF(c,{relative:s}),E=HF(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function w(S){r&&r(S),S.defaultPrevented||E(S)}return y.createElement("a",vg({},f,{href:_||x,onClick:g||i?r:w,ref:n,target:l}))});var Rx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rx||(Rx={}));var Px;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Px||(Px={}));function HF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=xs(),c=_s(),h=Nb(t,{relative:o});return y.useCallback(p=>{if(MF(p,n)){p.preventDefault();let f=r!==void 0?r:ph(c)===ph(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}function WF(t){let e=y.useRef(yg(t)),n=y.useRef(!1),r=_s(),s=y.useMemo(()=>LF(r.search,n.current?null:e.current),[r.search]),i=xs(),o=y.useCallback((a,l)=>{const c=yg(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const qF=()=>{};var Nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},KF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(f=64)),r.push(n[h],n[p],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new GF;const f=i<<2|a>>4;if(r.push(f),c!==64){const v=a<<4&240|c>>2;if(r.push(v),p!==64){const _=c<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QF=function(t){const e=jb(t);return Mb.encodeByteArray(e,!0)},gh=function(t){return QF(t).replace(/\./g,"")},Lb=function(t){try{return Mb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=()=>YF().__FIREBASE_DEFAULTS__,JF=()=>{if(typeof process>"u"||typeof Nx>"u")return;const t=Nx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lb(t[1]);return e&&JSON.parse(e)},Ef=()=>{try{return qF()||XF()||JF()||ZF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vb=t=>{var e,n;return(n=(e=Ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e4=t=>{const e=Vb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fb=()=>{var t;return(t=Ef())===null||t===void 0?void 0:t.config},Ub=t=>{var e;return(e=Ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gh(JSON.stringify(n)),gh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function s4(){var t;const e=(t=Ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l4(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c4(){return!s4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u4(){try{return typeof indexedDB=="object"}catch{return!1}}function d4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="FirebaseError";class Es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h4,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?f4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Es(s,a,r)}}function f4(t,e){return t.replace(p4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const p4=/\{\$([^}]+)}/g;function m4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kx(i)&&kx(o)){if(!mo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Fl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function g4(t,e){const n=new v4(t,e);return n.subscribe.bind(n)}class v4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");y4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Bp),s.error===void 0&&(s.error=Bp),s.complete===void 0&&(s.complete=Bp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new t4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x4(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _4(t){return t===Wi?void 0:t}function x4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const T4={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},S4=ke.INFO,C4={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},b4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=C4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ey{constructor(e){this.name=e,this._logLevel=S4,this._logHandler=b4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const I4=(t,e)=>e.some(n=>t instanceof n);let Dx,Ox;function A4(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R4(){return Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $b=new WeakMap,wg=new WeakMap,zb=new WeakMap,Hp=new WeakMap,Ty=new WeakMap;function P4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ci(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$b.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function N4(t){if(wg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});wg.set(t,e)}let _g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k4(t){_g=t(_g)}function D4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wp(this),e,...n);return zb.set(r,e.sort?e.sort():[e]),ci(r)}:R4().includes(t)?function(...e){return t.apply(Wp(this),e),ci($b.get(this))}:function(...e){return ci(t.apply(Wp(this),e))}}function O4(t){return typeof t=="function"?D4(t):(t instanceof IDBTransaction&&N4(t),I4(t,A4())?new Proxy(t,_g):t)}function ci(t){if(t instanceof IDBRequest)return P4(t);if(Hp.has(t))return Hp.get(t);const e=O4(t);return e!==t&&(Hp.set(t,e),Ty.set(e,t)),e}const Wp=t=>Ty.get(t);function j4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ci(o.result),l.oldVersion,l.newVersion,ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const M4=["get","getKey","getAll","getAllKeys","count"],L4=["put","add","delete","clear"],qp=new Map;function jx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=L4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||M4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return qp.set(e,i),i}k4(t=>({...t,get:(e,n,r)=>jx(e,n)||t.get(e,n,r),has:(e,n)=>!!jx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function F4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xg="@firebase/app",Mx="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Ey("@firebase/app"),U4="@firebase/app-compat",$4="@firebase/analytics-compat",z4="@firebase/analytics",B4="@firebase/app-check-compat",H4="@firebase/app-check",W4="@firebase/auth",q4="@firebase/auth-compat",K4="@firebase/database",G4="@firebase/data-connect",Q4="@firebase/database-compat",Y4="@firebase/functions",X4="@firebase/functions-compat",J4="@firebase/installations",Z4="@firebase/installations-compat",e3="@firebase/messaging",t3="@firebase/messaging-compat",n3="@firebase/performance",r3="@firebase/performance-compat",s3="@firebase/remote-config",i3="@firebase/remote-config-compat",o3="@firebase/storage",a3="@firebase/storage-compat",l3="@firebase/firestore",c3="@firebase/vertexai",u3="@firebase/firestore-compat",d3="firebase",h3="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="[DEFAULT]",f3={[xg]:"fire-core",[U4]:"fire-core-compat",[z4]:"fire-analytics",[$4]:"fire-analytics-compat",[H4]:"fire-app-check",[B4]:"fire-app-check-compat",[W4]:"fire-auth",[q4]:"fire-auth-compat",[K4]:"fire-rtdb",[G4]:"fire-data-connect",[Q4]:"fire-rtdb-compat",[Y4]:"fire-fn",[X4]:"fire-fn-compat",[J4]:"fire-iid",[Z4]:"fire-iid-compat",[e3]:"fire-fcm",[t3]:"fire-fcm-compat",[n3]:"fire-perf",[r3]:"fire-perf-compat",[s3]:"fire-rc",[i3]:"fire-rc-compat",[o3]:"fire-gcs",[a3]:"fire-gcs-compat",[l3]:"fire-fst",[u3]:"fire-fst-compat",[c3]:"fire-vertex","fire-js":"fire-js",[d3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,p3=new Map,Tg=new Map;function Lx(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fa(t){const e=t.name;if(Tg.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Tg.set(e,t);for(const n of vh.values())Lx(n,t);for(const n of p3.values())Lx(n,t);return!0}function Sy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Xc("app","Firebase",m3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=h3;function Bb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Eg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ui.create("bad-app-name",{appName:String(s)});if(n||(n=Fb()),!n)throw ui.create("no-options");const i=vh.get(s);if(i){if(mo(n,i.options)&&mo(r,i.config))return i;throw ui.create("duplicate-app",{appName:s})}const o=new E4(s);for(const l of Tg.values())o.addComponent(l);const a=new g3(n,r,o);return vh.set(s,a),a}function Hb(t=Eg){const e=vh.get(t);if(!e&&t===Eg&&Fb())return Bb();if(!e)throw ui.create("no-app",{appName:t});return e}function di(t,e,n){var r;let s=(r=f3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(a.join(" "));return}Fa(new go(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firebase-heartbeat-database",y3=1,Nc="firebase-heartbeat-store";let Kp=null;function Wb(){return Kp||(Kp=j4(v3,y3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),Kp}async function w3(t){try{const n=(await Wb()).transaction(Nc),r=await n.objectStore(Nc).get(qb(t));return await n.done,r}catch(e){if(e instanceof Es)fs.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function Vx(t,e){try{const r=(await Wb()).transaction(Nc,"readwrite");await r.objectStore(Nc).put(e,qb(t)),await r.done}catch(n){if(n instanceof Es)fs.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function qb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=1024,x3=30;class E3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>x3){const o=C3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fx(),{heartbeatsToSend:r,unsentEntries:s}=T3(this._heartbeatsCache.heartbeats),i=gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return fs.warn(n),""}}}function Fx(){return new Date().toISOString().substring(0,10)}function T3(t,e=_3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ux(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u4()?d4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return gh(JSON.stringify({version:2,heartbeats:t})).length}function C3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){Fa(new go("platform-logger",e=>new V4(e),"PRIVATE")),Fa(new go("heartbeat",e=>new E3(e),"PRIVATE")),di(xg,Mx,t),di(xg,Mx,"esm2017"),di("fire-js","")}b3("");var I3="firebase",A3="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(I3,A3,"app");var Nr=function(){return Nr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nr.apply(this,arguments)};function Zc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function R3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P3=Kb,Gb=new Xc("auth","Firebase",Kb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Ey("@firebase/auth");function N3(t,...e){yh.logLevel<=ke.WARN&&yh.warn(`Auth (${nl}): ${t}`,...e)}function Sd(t,...e){yh.logLevel<=ke.ERROR&&yh.error(`Auth (${nl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw Cy(t,...e)}function jr(t,...e){return Cy(t,...e)}function Qb(t,e,n){const r=Object.assign(Object.assign({},P3()),{[e]:n});return new Xc("auth","Firebase",r).create(e,{appName:t.name})}function is(t){return Qb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gb.create(t,...e)}function pe(t,e,...n){if(!t)throw Cy(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sd(e),new Error(e)}function ps(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k3(){return $x()==="http:"||$x()==="https:"}function $x(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k3()||o4()||"connection"in navigator)?navigator.onLine:!0}function O3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=r4()||a4()}get(){return D3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t,e){ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L3=new eu(3e4,6e4);function Di(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ts(t,e,n,r,s={}){return Xb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Jc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return i4()||(c.referrerPolicy="no-referrer"),Yb.fetch()(await Jb(t,t.config.apiHost,n,a),c)})}async function Xb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},j3),e);try{const s=new F3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Xu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Qb(t,h,c);yr(t,h)}}catch(s){if(s instanceof Es)throw s;yr(t,"network-request-failed",{message:String(s)})}}async function tu(t,e,n,r,s={}){const i=await Ts(t,e,n,r,s);return"mfaPendingCredential"in i&&yr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Jb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?by(t.config,s):`${t.config.apiScheme}://${s}`;return M3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function V3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),L3.get())})}}function Xu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=jr(t,e,r);return s.customData._tokenResponse=n,s}function zx(t){return t!==void 0&&t.enterprise!==void 0}class U3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $3(t,e){return Ts(t,"GET","/v2/recaptchaConfig",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function wh(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B3(t,e=!1){const n=kt(t),r=await n.getIdToken(e),s=Iy(r);pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:tc(Gp(s.auth_time)),issuedAtTime:tc(Gp(s.iat)),expirationTime:tc(Gp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Gp(t){return Number(t)*1e3}function Iy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Lb(n);return s?JSON.parse(s):(Sd("Failed to decode base64 JWT payload"),null)}catch(s){return Sd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bx(t){const e=Iy(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Es&&H3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ua(t,wh(n,{idToken:r}));pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Zb(i.providerUserInfo):[],a=K3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Cg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function q3(t){const e=kt(t);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Zb(t){return t.map(e=>{var{providerId:n}=e,r=Zc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e){const n=await Xb(t,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Jb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q3(t,e){return Ts(t,"POST","/v2/accounts:revokeToken",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=Bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await G3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new pa;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pa,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Zc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ua(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B3(this,e)}reload(){return q3(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await Ua(this,z3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:I,isAnonymous:k,providerData:M,stsTokenManager:b}=n;pe(S&&b,e,"internal-error");const C=pa.fromJSON(this.name,b);pe(typeof S=="string",e,"internal-error"),Ds(p,e.name),Ds(f,e.name),pe(typeof I=="boolean",e,"internal-error"),pe(typeof k=="boolean",e,"internal-error"),Ds(v,e.name),Ds(_,e.name),Ds(g,e.name),Ds(x,e.name),Ds(E,e.name),Ds(w,e.name);const A=new hr({uid:S,auth:e,email:f,emailVerified:I,displayName:p,isAnonymous:k,photoURL:_,phoneNumber:v,tenantId:g,stsTokenManager:C,createdAt:E,lastLoginAt:w});return M&&Array.isArray(M)&&(A.providerData=M.map(R=>Object.assign({},R))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new pa;s.updateFromServerResponse(n);const i=new hr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _h(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Zb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new pa;a.updateFromIdToken(r);const l=new hr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Cg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;function rs(t){ps(t instanceof Function,"Expected a class definition");let e=Hx.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eI.type="NONE";const Wx=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t,e,n){return`firebase:${t}:${e}:${n}`}class ma{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?hr._fromGetAccountInfoResponse(this.auth,n,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ma(rs(Wx),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||rs(Wx);const o=Cd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let p;if(typeof h=="string"){const f=await wh(e,{idToken:h}).catch(()=>{});if(!f)break;p=await hr._fromGetAccountInfoResponse(e,f,h)}else p=hr._fromJSON(e,h);c!==i&&(a=p),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ma(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ma(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oI(e))return"Blackberry";if(aI(e))return"Webos";if(nI(e))return"Safari";if((e.includes("chrome/")||rI(e))&&!e.includes("edge/"))return"Chrome";if(iI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tI(t=on()){return/firefox\//i.test(t)}function nI(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rI(t=on()){return/crios\//i.test(t)}function sI(t=on()){return/iemobile/i.test(t)}function iI(t=on()){return/android/i.test(t)}function oI(t=on()){return/blackberry/i.test(t)}function aI(t=on()){return/webos/i.test(t)}function Ay(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y3(t=on()){var e;return Ay(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X3(){return l4()&&document.documentMode===10}function lI(t=on()){return Ay(t)||iI(t)||aI(t)||oI(t)||/windows phone/i.test(t)||sI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e=[]){let n;switch(t){case"Browser":n=qx(on());break;case"Worker":n=`${qx(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",Di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=6;class tU{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kx(this),this.idTokenSubscription=new Kx(this),this.beforeStateQueue=new J3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ma.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),r=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(is(this));const n=e?kt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z3(this),n=new tU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rs(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&N3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ro(t){return kt(t)}class Kx{constructor(e){this.auth=e,this.observer=null,this.addObserver=g4(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rU(t){Tf=t}function uI(t){return Tf.loadJS(t)}function sU(){return Tf.recaptchaEnterpriseScript}function iU(){return Tf.gapiScript}function oU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aU{constructor(){this.enterprise=new lU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cU="recaptcha-enterprise",dI="NO_RECAPTCHA";class uU{constructor(e){this.type=cU,this.auth=Ro(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{$3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new U3(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;zx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(dI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&zx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sU();l.length!==0&&(l+=a),uI(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Gx(t,e,n,r=!1,s=!1){const i=new uU(t);let o;if(s)o=dI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function bg(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Gx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e){const n=Sy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(mo(i,e??{}))return s;yr(s,"already-initialized")}return n.initialize({options:e})}function hU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fU(t,e,n){const r=Ro(t);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=hI(e),{host:o,port:a}=pU(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(mo(c,r.config.emulator)&&mo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,mU()}function hI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pU(t){const e=hI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Qx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Qx(o)}}}function Qx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function gU(t,e){return Ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){return tu(t,"POST","/v1/accounts:signInWithPassword",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}async function wU(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Ry{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(e,n,"signInWithPassword",vU);case"emailLink":return yU(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(e,r,"signUpPassword",gU);case"emailLink":return wU(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t,e){return tu(t,"POST","/v1/accounts:signInWithIdp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="http://localhost";class vo extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Zc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new vo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ga(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ga(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ga(e,n)}buildRequest(){const e={requestUri:_U,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EU(t){const e=Vl(Fl(t)).link,n=e?Vl(Fl(e)).deep_link_id:null,r=Vl(Fl(t)).deep_link_id;return(r?Vl(Fl(r)).link:null)||r||n||e||t}class Py{constructor(e){var n,r,s,i,o,a;const l=Vl(Fl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=xU((s=l.mode)!==null&&s!==void 0?s:null);pe(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EU(e);try{return new Py(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Py.parseLink(n);return pe(r,"argument-error"),kc._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends fI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends nu{constructor(){super("facebook.com")}static credential(e){return vo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends nu{constructor(){super("github.com")}static credential(e){return vo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends nu{constructor(){super("twitter.com")}static credential(e,n){return vo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){return tu(t,"POST","/v1/accounts:signUp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await hr._fromIdTokenResponse(e,r,s),o=Yx(r);return new yo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Yx(r);return new yo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Yx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Es{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xh(e,n,r,s)}}function pI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(t,i,e,r):i})}async function SU(t,e,n=!1){const r=await Ua(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(is(r));const s="reauthenticate";try{const i=await Ua(t,pI(r,s,e,t),n);pe(i.idToken,r,"internal-error");const o=Iy(i.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),yo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(t,e,n=!1){if(Qn(t.app))return Promise.reject(is(t));const r="signIn",s=await pI(t,r,e),i=await yo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function bU(t,e){return mI(Ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t){const e=Ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IU(t,e,n){if(Qn(t.app))return Promise.reject(is(t));const r=Ro(t),o=await bg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gI(t),l}),a=await yo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function AU(t,e,n){return Qn(t.app)?Promise.reject(is(t)):bU(kt(t),rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e){return Ts(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=kt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ua(r,RU(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function NU(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function kU(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function DU(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function OU(t){return kt(t).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=1e3,MU=10;class yI extends vI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);X3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,MU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yI.type="LOCAL";const LU=yI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends vI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wI.type="SESSION";const _I=wI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await VU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Ny("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function UU(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function $U(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BU(){return xI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebaseLocalStorageDb",HU=1,Th="firebaseLocalStorage",TI="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cf(t,e){return t.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function WU(){const t=indexedDB.deleteDatabase(EI);return new ru(t).toPromise()}function Ig(){const t=indexedDB.open(EI,HU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Th,{keyPath:TI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Th)?e(r):(r.close(),await WU(),e(await Ig()))})})}async function Xx(t,e,n){const r=Cf(t,!0).put({[TI]:e,value:n});return new ru(r).toPromise()}async function qU(t,e){const n=Cf(t,!1).get(e),r=await new ru(n).toPromise();return r===void 0?null:r.value}function Jx(t,e){const n=Cf(t,!0).delete(e);return new ru(n).toPromise()}const KU=800,GU=3;class SI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(BU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $U(),!this.activeServiceWorker)return;this.sender=new FU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await Xx(e,Eh,"1"),await Jx(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Cf(s,!1).getAll();return new ru(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SI.type="LOCAL";const QU=SI;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e){return e?rs(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XU(t){return mI(t.auth,new ky(t),t.bypassAuthState)}function JU(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),CU(n,new ky(t),t.bypassAuthState)}async function ZU(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),SU(n,new ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XU;case"linkViaPopup":case"linkViaRedirect":return ZU;case"reauthViaPopup":case"reauthViaRedirect":return JU;default:yr(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new eu(2e3,1e4);class sa extends CI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e5.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="pendingRedirect",bd=new Map;class n5 extends CI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bd.get(this.auth._key());if(!e){try{const r=await r5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r5(t,e){const n=o5(e),r=i5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function s5(t,e){bd.set(t._key(),e)}function i5(t){return rs(t._redirectPersistence)}function o5(t){return Cd(t5,t.config.apiKey,t.name)}async function a5(t,e,n=!1){if(Qn(t.app))return Promise.reject(is(t));const r=Ro(t),s=YU(r,e),o=await new n5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=10*60*1e3;class c5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zx(e))}saveEventToCache(e){this.cachedEventUids.add(Zx(e)),this.lastProcessedEventTime=Date.now()}}function Zx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f5=/^https?/;async function p5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await d5(t);for(const n of e)try{if(m5(n))return}catch{}yr(t,"unauthorized-domain")}function m5(t){const e=Sg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!f5.test(n))return!1;if(h5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=new eu(3e4,6e4);function eE(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v5(t){return new Promise((e,n)=>{var r,s,i;function o(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),n(jr(t,"network-request-failed"))},timeout:g5.get()})}if(!((s=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Mr().gapi)===null||i===void 0)&&i.load)o();else{const a=oU("iframefcb");return Mr()[a]=()=>{gapi.load?o():n(jr(t,"network-request-failed"))},uI(`${iU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Id=null,e})}let Id=null;function y5(t){return Id=Id||v5(t),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=new eu(5e3,15e3),_5="__/auth/iframe",x5="emulator/auth/iframe",E5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S5(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?by(e,x5):`https://${t.config.authDomain}/${_5}`,r={apiKey:e.apiKey,appName:t.name,v:nl},s=T5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Jc(r).slice(1)}`}async function C5(t){const e=await y5(t),n=Mr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:S5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=jr(t,"network-request-failed"),a=Mr().setTimeout(()=>{i(o)},w5.get());function l(){Mr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I5=500,A5=600,R5="_blank",P5="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N5(t,e,n,r=I5,s=A5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},b5),{width:r.toString(),height:s.toString(),top:i,left:o}),c=on().toLowerCase();n&&(a=rI(c)?R5:n),tI(c)&&(e=e||P5,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[v,_])=>`${f}${v}=${_},`,"");if(Y3(c)&&a!=="_self")return k5(e||"",a),new tE(null);const p=window.open(e||"",a,h);pe(p,t,"popup-blocked");try{p.focus()}catch{}return new tE(p)}function k5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="__/auth/handler",O5="emulator/auth/handler",j5=encodeURIComponent("fac");async function nE(t,e,n,r,s,i){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nl,eventId:s};if(e instanceof fI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",m4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof nu){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${j5}=${encodeURIComponent(l)}`:"";return`${M5(t)}?${Jc(a).slice(1)}${c}`}function M5({config:t}){return t.emulator?by(t,O5):`https://${t.authDomain}/${D5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="webStorageSupport";class L5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_I,this._completeRedirectFn=a5,this._overrideRedirectResult=s5}async _openPopup(e,n,r,s){var i;ps((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await nE(e,n,r,Sg(),s);return N5(e,o,Ny())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await nE(e,n,r,Sg(),s);return UU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ps(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await C5(e),r=new c5(e);return n.register("authEvent",s=>(pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qp,{type:Qp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Qp];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lI()||nI()||Ay()}}const V5=L5;var rE="@firebase/auth",sE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $5(t){Fa(new go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cI(t)},c=new nU(r,s,i,l);return hU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fa(new go("auth-internal",e=>{const n=Ro(e.getProvider("auth").getImmediate());return(r=>new F5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(rE,sE,U5(t)),di(rE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=5*60,B5=Ub("authIdTokenMaxAge")||z5;let iE=null;const H5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B5)return;const s=n==null?void 0:n.token;iE!==s&&(iE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function W5(t=Hb()){const e=Sy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dU(t,{popupRedirectResolver:V5,persistence:[QU,LU,_I]}),r=Ub("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=H5(i.toString());kU(n,o,()=>o(n.currentUser)),NU(n,a=>o(a))}}const s=Vb("auth");return s&&fU(n,`http://${s}`),n}function q5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=jr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",q5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$5("Browser");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hi,II;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function A(){}A.prototype=C.prototype,b.D=C.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(R,D,O){for(var N=Array(arguments.length-2),B=2;B<arguments.length;B++)N[B-2]=arguments[B];return C.prototype[D].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,A){A||(A=0);var R=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)R[D]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(D=0;16>D;++D)R[D]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=b.g[0],A=b.g[1],D=b.g[2];var O=b.g[3],N=C+(O^A&(D^O))+R[0]+3614090360&4294967295;C=A+(N<<7&4294967295|N>>>25),N=O+(D^C&(A^D))+R[1]+3905402710&4294967295,O=C+(N<<12&4294967295|N>>>20),N=D+(A^O&(C^A))+R[2]+606105819&4294967295,D=O+(N<<17&4294967295|N>>>15),N=A+(C^D&(O^C))+R[3]+3250441966&4294967295,A=D+(N<<22&4294967295|N>>>10),N=C+(O^A&(D^O))+R[4]+4118548399&4294967295,C=A+(N<<7&4294967295|N>>>25),N=O+(D^C&(A^D))+R[5]+1200080426&4294967295,O=C+(N<<12&4294967295|N>>>20),N=D+(A^O&(C^A))+R[6]+2821735955&4294967295,D=O+(N<<17&4294967295|N>>>15),N=A+(C^D&(O^C))+R[7]+4249261313&4294967295,A=D+(N<<22&4294967295|N>>>10),N=C+(O^A&(D^O))+R[8]+1770035416&4294967295,C=A+(N<<7&4294967295|N>>>25),N=O+(D^C&(A^D))+R[9]+2336552879&4294967295,O=C+(N<<12&4294967295|N>>>20),N=D+(A^O&(C^A))+R[10]+4294925233&4294967295,D=O+(N<<17&4294967295|N>>>15),N=A+(C^D&(O^C))+R[11]+2304563134&4294967295,A=D+(N<<22&4294967295|N>>>10),N=C+(O^A&(D^O))+R[12]+1804603682&4294967295,C=A+(N<<7&4294967295|N>>>25),N=O+(D^C&(A^D))+R[13]+4254626195&4294967295,O=C+(N<<12&4294967295|N>>>20),N=D+(A^O&(C^A))+R[14]+2792965006&4294967295,D=O+(N<<17&4294967295|N>>>15),N=A+(C^D&(O^C))+R[15]+1236535329&4294967295,A=D+(N<<22&4294967295|N>>>10),N=C+(D^O&(A^D))+R[1]+4129170786&4294967295,C=A+(N<<5&4294967295|N>>>27),N=O+(A^D&(C^A))+R[6]+3225465664&4294967295,O=C+(N<<9&4294967295|N>>>23),N=D+(C^A&(O^C))+R[11]+643717713&4294967295,D=O+(N<<14&4294967295|N>>>18),N=A+(O^C&(D^O))+R[0]+3921069994&4294967295,A=D+(N<<20&4294967295|N>>>12),N=C+(D^O&(A^D))+R[5]+3593408605&4294967295,C=A+(N<<5&4294967295|N>>>27),N=O+(A^D&(C^A))+R[10]+38016083&4294967295,O=C+(N<<9&4294967295|N>>>23),N=D+(C^A&(O^C))+R[15]+3634488961&4294967295,D=O+(N<<14&4294967295|N>>>18),N=A+(O^C&(D^O))+R[4]+3889429448&4294967295,A=D+(N<<20&4294967295|N>>>12),N=C+(D^O&(A^D))+R[9]+568446438&4294967295,C=A+(N<<5&4294967295|N>>>27),N=O+(A^D&(C^A))+R[14]+3275163606&4294967295,O=C+(N<<9&4294967295|N>>>23),N=D+(C^A&(O^C))+R[3]+4107603335&4294967295,D=O+(N<<14&4294967295|N>>>18),N=A+(O^C&(D^O))+R[8]+1163531501&4294967295,A=D+(N<<20&4294967295|N>>>12),N=C+(D^O&(A^D))+R[13]+2850285829&4294967295,C=A+(N<<5&4294967295|N>>>27),N=O+(A^D&(C^A))+R[2]+4243563512&4294967295,O=C+(N<<9&4294967295|N>>>23),N=D+(C^A&(O^C))+R[7]+1735328473&4294967295,D=O+(N<<14&4294967295|N>>>18),N=A+(O^C&(D^O))+R[12]+2368359562&4294967295,A=D+(N<<20&4294967295|N>>>12),N=C+(A^D^O)+R[5]+4294588738&4294967295,C=A+(N<<4&4294967295|N>>>28),N=O+(C^A^D)+R[8]+2272392833&4294967295,O=C+(N<<11&4294967295|N>>>21),N=D+(O^C^A)+R[11]+1839030562&4294967295,D=O+(N<<16&4294967295|N>>>16),N=A+(D^O^C)+R[14]+4259657740&4294967295,A=D+(N<<23&4294967295|N>>>9),N=C+(A^D^O)+R[1]+2763975236&4294967295,C=A+(N<<4&4294967295|N>>>28),N=O+(C^A^D)+R[4]+1272893353&4294967295,O=C+(N<<11&4294967295|N>>>21),N=D+(O^C^A)+R[7]+4139469664&4294967295,D=O+(N<<16&4294967295|N>>>16),N=A+(D^O^C)+R[10]+3200236656&4294967295,A=D+(N<<23&4294967295|N>>>9),N=C+(A^D^O)+R[13]+681279174&4294967295,C=A+(N<<4&4294967295|N>>>28),N=O+(C^A^D)+R[0]+3936430074&4294967295,O=C+(N<<11&4294967295|N>>>21),N=D+(O^C^A)+R[3]+3572445317&4294967295,D=O+(N<<16&4294967295|N>>>16),N=A+(D^O^C)+R[6]+76029189&4294967295,A=D+(N<<23&4294967295|N>>>9),N=C+(A^D^O)+R[9]+3654602809&4294967295,C=A+(N<<4&4294967295|N>>>28),N=O+(C^A^D)+R[12]+3873151461&4294967295,O=C+(N<<11&4294967295|N>>>21),N=D+(O^C^A)+R[15]+530742520&4294967295,D=O+(N<<16&4294967295|N>>>16),N=A+(D^O^C)+R[2]+3299628645&4294967295,A=D+(N<<23&4294967295|N>>>9),N=C+(D^(A|~O))+R[0]+4096336452&4294967295,C=A+(N<<6&4294967295|N>>>26),N=O+(A^(C|~D))+R[7]+1126891415&4294967295,O=C+(N<<10&4294967295|N>>>22),N=D+(C^(O|~A))+R[14]+2878612391&4294967295,D=O+(N<<15&4294967295|N>>>17),N=A+(O^(D|~C))+R[5]+4237533241&4294967295,A=D+(N<<21&4294967295|N>>>11),N=C+(D^(A|~O))+R[12]+1700485571&4294967295,C=A+(N<<6&4294967295|N>>>26),N=O+(A^(C|~D))+R[3]+2399980690&4294967295,O=C+(N<<10&4294967295|N>>>22),N=D+(C^(O|~A))+R[10]+4293915773&4294967295,D=O+(N<<15&4294967295|N>>>17),N=A+(O^(D|~C))+R[1]+2240044497&4294967295,A=D+(N<<21&4294967295|N>>>11),N=C+(D^(A|~O))+R[8]+1873313359&4294967295,C=A+(N<<6&4294967295|N>>>26),N=O+(A^(C|~D))+R[15]+4264355552&4294967295,O=C+(N<<10&4294967295|N>>>22),N=D+(C^(O|~A))+R[6]+2734768916&4294967295,D=O+(N<<15&4294967295|N>>>17),N=A+(O^(D|~C))+R[13]+1309151649&4294967295,A=D+(N<<21&4294967295|N>>>11),N=C+(D^(A|~O))+R[4]+4149444226&4294967295,C=A+(N<<6&4294967295|N>>>26),N=O+(A^(C|~D))+R[11]+3174756917&4294967295,O=C+(N<<10&4294967295|N>>>22),N=D+(C^(O|~A))+R[2]+718787259&4294967295,D=O+(N<<15&4294967295|N>>>17),N=A+(O^(D|~C))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var A=C-this.blockSize,R=this.B,D=this.h,O=0;O<C;){if(D==0)for(;O<=A;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<C;)if(R[D++]=b.charCodeAt(O++),D==this.blockSize){s(this,R),D=0;break}}else for(;O<C;)if(R[D++]=b[O++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var A=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=A&255,A/=256;for(this.u(b),b=Array(16),C=A=0;4>C;++C)for(var R=0;32>R;R+=8)b[A++]=this.g[C]>>>R&255;return b};function i(b,C){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=C(b)}function o(b,C){this.h=C;for(var A=[],R=!0,D=b.length-1;0<=D;D--){var O=b[D]|0;R&&O==C||(A[D]=O,R=!1)}this.g=A}var a={};function l(b){return-128<=b&&128>b?i(b,function(C){return new o([C|0],0>C?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return x(c(-b));for(var C=[],A=1,R=0;b>=A;R++)C[R]=b/A|0,A*=4294967296;return new o(C,0)}function h(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return x(h(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(C,8)),R=p,D=0;D<b.length;D+=8){var O=Math.min(8,b.length-D),N=parseInt(b.substring(D,D+O),C);8>O?(O=c(Math.pow(C,O)),R=R.j(O).add(c(N))):(R=R.j(A),R=R.add(c(N)))}return R}var p=l(0),f=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-x(this).m();for(var b=0,C=1,A=0;A<this.g.length;A++){var R=this.i(A);b+=(0<=R?R:4294967296+R)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(g(this))return"-"+x(this).toString(b);for(var C=c(Math.pow(b,6)),A=this,R="";;){var D=I(A,C).g;A=E(A,D.j(C));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=D,_(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function g(b){return b.h==-1}t.l=function(b){return b=E(this,b),g(b)?-1:_(b)?0:1};function x(b){for(var C=b.g.length,A=[],R=0;R<C;R++)A[R]=~b.g[R];return new o(A,~b.h).add(f)}t.abs=function(){return g(this)?x(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),A=[],R=0,D=0;D<=C;D++){var O=R+(this.i(D)&65535)+(b.i(D)&65535),N=(O>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);R=N>>>16,O&=65535,N&=65535,A[D]=N<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(b,C){return b.add(x(C))}t.j=function(b){if(_(this)||_(b))return p;if(g(this))return g(b)?x(this).j(x(b)):x(x(this).j(b));if(g(b))return x(this.j(x(b)));if(0>this.l(v)&&0>b.l(v))return c(this.m()*b.m());for(var C=this.g.length+b.g.length,A=[],R=0;R<2*C;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<b.g.length;D++){var O=this.i(R)>>>16,N=this.i(R)&65535,B=b.i(D)>>>16,Z=b.i(D)&65535;A[2*R+2*D]+=N*Z,w(A,2*R+2*D),A[2*R+2*D+1]+=O*Z,w(A,2*R+2*D+1),A[2*R+2*D+1]+=N*B,w(A,2*R+2*D+1),A[2*R+2*D+2]+=O*B,w(A,2*R+2*D+2)}for(R=0;R<C;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=C;R<2*C;R++)A[R]=0;return new o(A,0)};function w(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function S(b,C){this.g=b,this.h=C}function I(b,C){if(_(C))throw Error("division by zero");if(_(b))return new S(p,p);if(g(b))return C=I(x(b),C),new S(x(C.g),x(C.h));if(g(C))return C=I(b,x(C)),new S(x(C.g),C.h);if(30<b.g.length){if(g(b)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var A=f,R=C;0>=R.l(b);)A=k(A),R=k(R);var D=M(A,1),O=M(R,1);for(R=M(R,2),A=M(A,2);!_(R);){var N=O.add(R);0>=N.l(b)&&(D=D.add(A),O=N),R=M(R,1),A=M(A,1)}return C=E(b,D.j(C)),new S(D,C)}for(D=p;0<=b.l(C);){for(A=Math.max(1,Math.floor(b.m()/C.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(A),N=O.j(C);g(N)||0<N.l(b);)A-=R,O=c(A),N=O.j(C);_(O)&&(O=f),D=D.add(O),b=E(b,N)}return new S(D,b)}t.A=function(b){return I(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),A=[],R=0;R<C;R++)A[R]=this.i(R)&b.i(R);return new o(A,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),A=[],R=0;R<C;R++)A[R]=this.i(R)|b.i(R);return new o(A,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),A=[],R=0;R<C;R++)A[R]=this.i(R)^b.i(R);return new o(A,this.h^b.h)};function k(b){for(var C=b.g.length+1,A=[],R=0;R<C;R++)A[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(A,b.h)}function M(b,C){var A=C>>5;C%=32;for(var R=b.g.length-A,D=[],O=0;O<R;O++)D[O]=0<C?b.i(O+A)>>>C|b.i(O+A+1)<<32-C:b.i(O+A);return new o(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,II=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,hi=o}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AI,Ul,RI,Ad,Ag,PI,NI,kI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,T){return u==Array.prototype||u==Object.prototype||(u[m]=T.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var m=0;m<u.length;++m){var T=u[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var T=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var L=u[P];if(!(L in T))break e;T=T[L]}u=u[u.length-1],P=T[u],m=m(P),m!=P&&m!=null&&e(T,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var T=0,P=!1,L={next:function(){if(!P&&T<u.length){var $=T++;return{value:m($,u[$]),done:!1}}return P=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,T){return u.call.apply(u.bind,arguments)}function p(u,m,T){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,P),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function f(u,m,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function v(u,m){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function _(u,m){function T(){}T.prototype=m.prototype,u.aa=m.prototype,u.prototype=new T,u.prototype.constructor=u,u.Qb=function(P,L,$){for(var J=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)J[Ye-2]=arguments[Ye];return m.prototype[L].apply(P,J)}}function g(u){const m=u.length;if(0<m){const T=Array(m);for(let P=0;P<m;P++)T[P]=u[P];return T}return[]}function x(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(l(P)){const L=u.length||0,$=P.length||0;u.length=L+$;for(let J=0;J<$;J++)u[L+J]=P[J]}else u.push(P)}}class E{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(u,m,T){for(const P in u)m.call(T,u[P],P,u)}function b(u,m){for(const T in u)m.call(void 0,u[T],T,u)}function C(u){const m={};for(const T in u)m[T]=u[T];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,m){let T,P;for(let L=1;L<arguments.length;L++){P=arguments[L];for(T in P)u[T]=P[T];for(let $=0;$<A.length;$++)T=A[$],Object.prototype.hasOwnProperty.call(P,T)&&(u[T]=P[T])}}function D(u){var m=1;u=u.split(":");const T=[];for(;0<m&&u.length;)T.push(u.shift()),m--;return u.length&&T.push(u.join(":")),T}function O(u){a.setTimeout(()=>{throw u},0)}function N(){var u=G;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class B{constructor(){this.h=this.g=null}add(m,T){const P=Z.get();P.set(m,T),this.h?this.h.next=P:this.g=P,this.h=P}}var Z=new E(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,V=!1,G=new B,ne=()=>{const u=a.Promise.resolve(void 0);se=()=>{u.then(ee)}};var ee=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(T){O(T)}var m=Z;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}V=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};a.addEventListener("test",T,m),a.removeEventListener("test",T,m)}catch{}return u}();function Qe(u,m){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var T=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(k){e:{try{I(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else T=="mouseover"?m=u.fromElement:T=="mouseout"&&(m=u.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Qe.aa.h.call(this)}}_(Qe,ue);var Ce={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ke(u,m,T,P,L){this.listener=u,this.proxy=null,this.src=m,this.type=T,this.capture=!!P,this.ha=L,this.key=++je,this.da=this.fa=!1}function Ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,m,T,P,L){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var J=mt(u,m,P,L);return-1<J?(m=u[J],T||(m.fa=!1)):(m=new Ke(m,this.src,$,!!P,L),m.fa=T,u.push(m)),m};function Ie(u,m){var T=m.type;if(T in u.g){var P=u.g[T],L=Array.prototype.indexOf.call(P,m,void 0),$;($=0<=L)&&Array.prototype.splice.call(P,L,1),$&&(Ee(m),u.g[T].length==0&&(delete u.g[T],u.h--))}}function mt(u,m,T,P){for(var L=0;L<u.length;++L){var $=u[L];if(!$.da&&$.listener==m&&$.capture==!!T&&$.ha==P)return L}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),vn={};function Dt(u,m,T,P,L){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Dt(u,m[$],T,P,L);return null}return T=te(T),u&&u[de]?u.K(m,T,c(P)?!!P.capture:!!P,L):Hn(u,m,T,!1,P,L)}function Hn(u,m,T,P,L,$){if(!m)throw Error("Invalid event type");var J=c(L)?!!L.capture:!!L,Ye=F(u);if(Ye||(u[xt]=Ye=new be(u)),T=Ye.add(m,T,P,J,$),T.proxy)return T;if(P=Vi(),T.proxy=P,P.src=u,P.listener=T,u.addEventListener)Ne||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),P,L);else if(u.attachEvent)u.attachEvent(Fi(m.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Vi(){function u(T){return m.call(u.src,u.listener,T)}const m=j;return u}function ut(u,m,T,P,L){if(Array.isArray(m))for(var $=0;$<m.length;$++)ut(u,m[$],T,P,L);else P=c(P)?!!P.capture:!!P,T=te(T),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],T=mt($,T,P,L),-1<T&&(Ee($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=F(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mt(m,T,P,L)),(T=-1<u?m[u]:null)&&tr(T))}function tr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])Ie(m.i,u);else{var T=u.type,P=u.proxy;m.removeEventListener?m.removeEventListener(T,P,u.capture):m.detachEvent?m.detachEvent(Fi(T),P):m.addListener&&m.removeListener&&m.removeListener(P),(T=F(m))?(Ie(T,u),T.h==0&&(T.src=null,m[xt]=null)):Ee(u)}}}function Fi(u){return u in vn?vn[u]:vn[u]="on"+u}function j(u,m){if(u.da)u=!0;else{m=new Qe(m,this);var T=u.listener,P=u.ha||u.src;u.fa&&tr(u),u=T.call(P,m)}return u}function F(u){return u=u[xt],u instanceof be?u:null}var z="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(u){return typeof u=="function"?u:(u[z]||(u[z]=function(m){return u.handleEvent(m)}),u[z])}function Q(){oe.call(this),this.i=new be(this),this.M=this,this.F=null}_(Q,oe),Q.prototype[de]=!0,Q.prototype.removeEventListener=function(u,m,T,P){ut(this,u,m,T,P)};function K(u,m){var T,P=u.F;if(P)for(T=[];P;P=P.F)T.push(P);if(u=u.M,P=m.type||m,typeof m=="string")m=new ue(m,u);else if(m instanceof ue)m.target=m.target||u;else{var L=m;m=new ue(P,u),R(m,L)}if(L=!0,T)for(var $=T.length-1;0<=$;$--){var J=m.g=T[$];L=ie(J,P,!0,m)&&L}if(J=m.g=u,L=ie(J,P,!0,m)&&L,L=ie(J,P,!1,m)&&L,T)for($=0;$<T.length;$++)J=m.g=T[$],L=ie(J,P,!1,m)&&L}Q.prototype.N=function(){if(Q.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var T=u.g[m],P=0;P<T.length;P++)Ee(T[P]);delete u.g[m],u.h--}}this.F=null},Q.prototype.K=function(u,m,T,P){return this.i.add(String(u),m,!1,T,P)},Q.prototype.L=function(u,m,T,P){return this.i.add(String(u),m,!0,T,P)};function ie(u,m,T,P){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,$=0;$<m.length;++$){var J=m[$];if(J&&!J.da&&J.capture==T){var Ye=J.listener,Lt=J.ha||J.src;J.fa&&Ie(u.i,J),L=Ye.call(Lt,P)!==!1&&L}}return L&&!P.defaultPrevented}function _e(u,m,T){if(typeof u=="function")T&&(u=f(u,T));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Je(u){u.g=_e(()=>{u.g=null,u.i&&(u.i=!1,Je(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Et extends oe{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(u){oe.call(this),this.h=u,this.g={}}_(Tr,oe);var Hr=[];function Cs(u){M(u.g,function(m,T){this.g.hasOwnProperty(T)&&tr(m)},u),u.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),Cs(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wr=a.JSON.stringify,Pn=a.JSON.parse,ul=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function me(){}me.prototype.h=null;function Ge(u){return u.h||(u.h=u.i())}function He(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yn(){ue.call(this,"d")}_(yn,ue);function bs(){ue.call(this,"c")}_(bs,ue);var qr={},Y0=null;function fu(){return Y0=Y0||new Q}qr.La="serverreachability";function X0(u){ue.call(this,qr.La,u)}_(X0,ue);function dl(u){const m=fu();K(m,new X0(m))}qr.STAT_EVENT="statevent";function J0(u,m){ue.call(this,qr.STAT_EVENT,u),this.stat=m}_(J0,ue);function an(u){const m=fu();K(m,new J0(m,u))}qr.Ma="timingevent";function Z0(u,m){ue.call(this,qr.Ma,u),this.size=m}_(Z0,ue);function hl(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function fl(){this.g=!0}fl.prototype.xa=function(){this.g=!1};function XN(u,m,T,P,L,$){u.info(function(){if(u.g)if($)for(var J="",Ye=$.split("&"),Lt=0;Lt<Ye.length;Lt++){var Fe=Ye[Lt].split("=");if(1<Fe.length){var Kt=Fe[0];Fe=Fe[1];var Gt=Kt.split("_");J=2<=Gt.length&&Gt[1]=="type"?J+(Kt+"="+Fe+"&"):J+(Kt+"=redacted&")}}else J=null;else J=$;return"XMLHTTP REQ ("+P+") [attempt "+L+"]: "+m+`
`+T+`
`+J})}function JN(u,m,T,P,L,$,J){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+L+"]: "+m+`
`+T+`
`+$+" "+J})}function Do(u,m,T,P){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ek(u,T)+(P?" "+P:"")})}function ZN(u,m){u.info(function(){return"TIMEOUT: "+m})}fl.prototype.info=function(){};function ek(u,m){if(!u.g)return m;if(!m)return null;try{var T=JSON.parse(m);if(T){for(u=0;u<T.length;u++)if(Array.isArray(T[u])){var P=T[u];if(!(2>P.length)){var L=P[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return Wr(T)}catch{return m}}var pu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ew={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yf;function mu(){}_(mu,me),mu.prototype.g=function(){return new XMLHttpRequest},mu.prototype.i=function(){return{}},Yf=new mu;function Is(u,m,T,P){this.j=u,this.i=m,this.l=T,this.R=P||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tw}function tw(){this.i=null,this.g="",this.h=!1}var nw={},Xf={};function Jf(u,m,T){u.L=1,u.v=wu(Kr(m)),u.m=T,u.P=!0,rw(u,null)}function rw(u,m){u.F=Date.now(),gu(u),u.A=Kr(u.v);var T=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),vw(T.i,"t",P),u.C=0,T=u.j.J,u.h=new tw,u.g=jw(u.j,T?m:null,!u.m),0<u.O&&(u.M=new Et(f(u.Y,u,u.g),u.O)),m=u.U,T=u.g,P=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Hr[0]=L.toString()),L=Hr);for(var $=0;$<L.length;$++){var J=Dt(T,L[$],P||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),dl(),XN(u.i,u.u,u.A,u.l,u.R,u.m)}Is.prototype.ca=function(u){u=u.target;const m=this.M;m&&Gr(u)==3?m.j():this.Y(u)},Is.prototype.Y=function(u){try{if(u==this.g)e:{const Gt=Gr(this.g);var m=this.g.Ba();const Mo=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Sw(this.g)))){this.J||Gt!=4||m==7||(m==8||0>=Mo?dl(3):dl(2)),Zf(this);var T=this.g.Z();this.X=T;t:if(sw(this)){var P=Sw(this.g);u="";var L=P.length,$=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),pl(this);var J="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(P[m],{stream:!($&&m==L-1)});P.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=T==200,JN(this.i,this.u,this.A,this.l,this.R,Gt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Lt=this.g;if((Ye=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ye)){var Fe=Ye;break t}}Fe=null}if(T=Fe)Do(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ep(this,T);else{this.o=!1,this.s=3,an(12),Ui(this),pl(this);break e}}if(this.P){T=!0;let nr;for(;!this.J&&this.C<J.length;)if(nr=tk(this,J),nr==Xf){Gt==4&&(this.s=4,an(14),T=!1),Do(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==nw){this.s=4,an(15),Do(this.i,this.l,J,"[Invalid Chunk]"),T=!1;break}else Do(this.i,this.l,nr,null),ep(this,nr);if(sw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||J.length!=0||this.h.h||(this.s=1,an(16),T=!1),this.o=this.o&&T,!T)Do(this.i,this.l,J,"[Invalid Chunked Response]"),Ui(this),pl(this);else if(0<J.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),op(Kt),Kt.M=!0,an(11))}}else Do(this.i,this.l,J,null),ep(this,J);Gt==4&&Ui(this),this.o&&!this.J&&(Gt==4?Nw(this.j,this):(this.o=!1,gu(this)))}else yk(this.g),T==400&&0<J.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Ui(this),pl(this)}}}catch{}finally{}};function sw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tk(u,m){var T=u.C,P=m.indexOf(`
`,T);return P==-1?Xf:(T=Number(m.substring(T,P)),isNaN(T)?nw:(P+=1,P+T>m.length?Xf:(m=m.slice(P,P+T),u.C=P+T,m)))}Is.prototype.cancel=function(){this.J=!0,Ui(this)};function gu(u){u.S=Date.now()+u.I,iw(u,u.I)}function iw(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=hl(f(u.ba,u),m)}function Zf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Is.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ZN(this.i,this.A),this.L!=2&&(dl(),an(17)),Ui(this),this.s=2,pl(this)):iw(this,this.S-u)};function pl(u){u.j.G==0||u.J||Nw(u.j,u)}function Ui(u){Zf(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Cs(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ep(u,m){try{var T=u.j;if(T.G!=0&&(T.g==u||tp(T.h,u))){if(!u.K&&tp(T.h,u)&&T.G==3){try{var P=T.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var L=P;if(L[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<u.F)Cu(T),Tu(T);else break e;ip(T),an(18)}}else T.za=L[1],0<T.za-T.T&&37500>L[2]&&T.F&&T.v==0&&!T.C&&(T.C=hl(f(T.Za,T),6e3));if(1>=lw(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else zi(T,11)}else if((u.K||T.g==u)&&Cu(T),!w(m))for(L=T.Da.g.parse(m),m=0;m<L.length;m++){let Fe=L[m];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const Kt=Fe[3];Kt!=null&&(T.la=Kt,T.j.info("VER="+T.la));const Gt=Fe[4];Gt!=null&&(T.Aa=Gt,T.j.info("SVER="+T.Aa));const Mo=Fe[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(P=1.5*Mo,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const nr=u.g;if(nr){const Iu=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var $=P.h;$.g||Iu.indexOf("spdy")==-1&&Iu.indexOf("quic")==-1&&Iu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(np($,$.h),$.h=null))}if(P.D){const ap=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;ap&&(P.ya=ap,et(P.I,P.D,ap))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-u.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var J=u;if(P.qa=Ow(P,P.J?P.ia:null,P.W),J.K){cw(P.h,J);var Ye=J,Lt=P.L;Lt&&(Ye.I=Lt),Ye.B&&(Zf(Ye),gu(Ye)),P.g=J}else Rw(P);0<T.i.length&&Su(T)}else Fe[0]!="stop"&&Fe[0]!="close"||zi(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?zi(T,7):sp(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}dl(4)}catch{}}var nk=class{constructor(u,m){this.g=u,this.map=m}};function ow(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function lw(u){return u.h?1:u.g?u.g.size:0}function tp(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function np(u,m){u.g?u.g.add(m):u.h=m}function cw(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ow.prototype.cancel=function(){if(this.i=uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const T of u.g.values())m=m.concat(T.D);return m}return g(u.i)}function rk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],T=u.length,P=0;P<T;P++)m.push(u[P]);return m}m=[],T=0;for(P in u)m[T++]=u[P];return m}function sk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var T=0;T<u;T++)m.push(T);return m}m=[],T=0;for(const P in u)m[T++]=P;return m}}}function dw(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var T=sk(u),P=rk(u),L=P.length,$=0;$<L;$++)m.call(void 0,P[$],T&&T[$],u)}var hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ik(u,m){if(u){u=u.split("&");for(var T=0;T<u.length;T++){var P=u[T].indexOf("="),L=null;if(0<=P){var $=u[T].substring(0,P);L=u[T].substring(P+1)}else $=u[T];m($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function $i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $i){this.h=u.h,vu(this,u.j),this.o=u.o,this.g=u.g,yu(this,u.s),this.l=u.l;var m=u.i,T=new vl;T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),fw(this,T),this.m=u.m}else u&&(m=String(u).match(hw))?(this.h=!1,vu(this,m[1]||"",!0),this.o=ml(m[2]||""),this.g=ml(m[3]||"",!0),yu(this,m[4]),this.l=ml(m[5]||"",!0),fw(this,m[6]||"",!0),this.m=ml(m[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}$i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(gl(m,pw,!0),":");var T=this.g;return(T||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gl(m,pw,!0),"@"),u.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&u.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(gl(T,T.charAt(0)=="/"?lk:ak,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",gl(T,uk)),u.join("")};function Kr(u){return new $i(u)}function vu(u,m,T){u.j=T?ml(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function yu(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fw(u,m,T){m instanceof vl?(u.i=m,dk(u.i,u.h)):(T||(m=gl(m,ck)),u.i=new vl(m,u.h))}function et(u,m,T){u.i.set(m,T)}function wu(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ml(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gl(u,m,T){return typeof u=="string"?(u=encodeURI(u).replace(m,ok),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ok(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pw=/[#\/\?@]/g,ak=/[#\?:]/g,lk=/[#\?]/g,ck=/[#\?@]/g,uk=/#/g;function vl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function As(u){u.g||(u.g=new Map,u.h=0,u.i&&ik(u.i,function(m,T){u.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}t=vl.prototype,t.add=function(u,m){As(this),this.i=null,u=Oo(this,u);var T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(m),this.h+=1,this};function mw(u,m){As(u),m=Oo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gw(u,m){return As(u),m=Oo(u,m),u.g.has(m)}t.forEach=function(u,m){As(this),this.g.forEach(function(T,P){T.forEach(function(L){u.call(m,L,P,this)},this)},this)},t.na=function(){As(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),T=[];for(let P=0;P<m.length;P++){const L=u[P];for(let $=0;$<L.length;$++)T.push(m[P])}return T},t.V=function(u){As(this);let m=[];if(typeof u=="string")gw(this,u)&&(m=m.concat(this.g.get(Oo(this,u))));else{u=Array.from(this.g.values());for(let T=0;T<u.length;T++)m=m.concat(u[T])}return m},t.set=function(u,m){return As(this),this.i=null,u=Oo(this,u),gw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vw(u,m,T){mw(u,m),0<T.length&&(u.i=null,u.g.set(Oo(u,m),g(T)),u.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var T=0;T<m.length;T++){var P=m[T];const $=encodeURIComponent(String(P)),J=this.V(P);for(P=0;P<J.length;P++){var L=$;J[P]!==""&&(L+="="+encodeURIComponent(String(J[P]))),u.push(L)}}return this.i=u.join("&")};function Oo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function dk(u,m){m&&!u.j&&(As(u),u.i=null,u.g.forEach(function(T,P){var L=P.toLowerCase();P!=L&&(mw(this,P),vw(this,L,T))},u)),u.j=m}function hk(u,m){const T=new fl;if(a.Image){const P=new Image;P.onload=v(Rs,T,"TestLoadImage: loaded",!0,m,P),P.onerror=v(Rs,T,"TestLoadImage: error",!1,m,P),P.onabort=v(Rs,T,"TestLoadImage: abort",!1,m,P),P.ontimeout=v(Rs,T,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else m(!1)}function fk(u,m){const T=new fl,P=new AbortController,L=setTimeout(()=>{P.abort(),Rs(T,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:P.signal}).then($=>{clearTimeout(L),$.ok?Rs(T,"TestPingServer: ok",!0,m):Rs(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rs(T,"TestPingServer: error",!1,m)})}function Rs(u,m,T,P,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),P(T)}catch{}}function pk(){this.g=new ul}function mk(u,m,T){const P=T||"";try{dw(u,function(L,$){let J=L;c(L)&&(J=Wr(L)),m.push(P+$+"="+encodeURIComponent(J))})}catch(L){throw m.push(P+"type="+encodeURIComponent("_badmap")),L}}function _u(u){this.l=u.Ub||null,this.j=u.eb||!1}_(_u,me),_u.prototype.g=function(){return new xu(this.l,this.j)},_u.prototype.i=function(u){return function(){return u}}({});function xu(u,m){Q.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(xu,Q),t=xu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,wl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function yw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?yl(this):wl(this),this.readyState==3&&yw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,yl(this))},t.Qa=function(u){this.g&&(this.response=u,yl(this))},t.ga=function(){this.g&&yl(this)};function yl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wl(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=m.next();return u.join(`\r
`)};function wl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ww(u){let m="";return M(u,function(T,P){m+=P,m+=":",m+=T,m+=`\r
`}),m}function rp(u,m,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=ww(T),typeof u=="string"?T!=null&&encodeURIComponent(String(T)):et(u,m,T))}function dt(u){Q.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(dt,Q);var gk=/^https?$/i,vk=["POST","PUT"];t=dt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yf.g(),this.v=this.o?Ge(this.o):Ge(Yf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){_w(this,$);return}if(u=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var L in P)T.set(L,P[L]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const $ of P.keys())T.set($,P.get($));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vk,m,void 0))||P||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,J]of T)this.g.setRequestHeader($,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tw(this),this.u=!0,this.g.send(u),this.u=!1}catch($){_w(this,$)}};function _w(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xw(u),Eu(u)}function xw(u){u.A||(u.A=!0,K(u,"complete"),K(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,K(this,"complete"),K(this,"abort"),Eu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eu(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ew(this):this.bb())},t.bb=function(){Ew(this)};function Ew(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Gr(u)!=4||u.Z()!=2)){if(u.u&&Gr(u)==4)_e(u.Ea,0,u);else if(K(u,"readystatechange"),Gr(u)==4){u.h=!1;try{const J=u.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var P;if(P=J===0){var L=String(u.D).match(hw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),P=!gk.test(L?L.toLowerCase():"")}T=P}if(T)K(u,"complete"),K(u,"success");else{u.m=6;try{var $=2<Gr(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",xw(u)}}finally{Eu(u)}}}}function Eu(u,m){if(u.g){Tw(u);const T=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||K(u,"ready");try{T.onreadystatechange=P}catch{}}}function Tw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Gr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Pn(m)}};function Sw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yk(u){const m={};u=(u.g&&2<=Gr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(w(u[P]))continue;var T=D(u[P]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=m[L]||[];m[L]=$,$.push(T)}b(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _l(u,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||m}function Cw(u){this.Aa=0,this.i=[],this.j=new fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_l("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_l("baseRetryDelayMs",5e3,u),this.cb=_l("retryDelaySeedMs",1e4,u),this.Wa=_l("forwardChannelMaxRetries",2,u),this.wa=_l("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ow(u&&u.concurrentRequestLimit),this.Da=new pk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cw.prototype,t.la=8,t.G=1,t.connect=function(u,m,T,P){an(0),this.W=u,this.H=m||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=Ow(this,null,this.W),Su(this)};function sp(u){if(bw(u),u.G==3){var m=u.U++,T=Kr(u.I);if(et(T,"SID",u.K),et(T,"RID",m),et(T,"TYPE","terminate"),xl(u,T),m=new Is(u,u.j,m),m.L=2,m.v=wu(Kr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=m.v,T=!0),T||(m.g=jw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),gu(m)}Dw(u)}function Tu(u){u.g&&(op(u),u.g.cancel(),u.g=null)}function bw(u){Tu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Cu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Su(u){if(!aw(u.h)&&!u.s){u.s=!0;var m=u.Ga;se||ne(),V||(se(),V=!0),G.add(m,u),u.B=0}}function wk(u,m){return lw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=hl(f(u.Ga,u,m),kw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Is(this,this.j,u);let $=this.o;if(this.S&&($?($=C($),R($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=Aw(this,L,m),T=Kr(this.I),et(T,"RID",u),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),xl(this,T),$&&(this.O?m="headers="+encodeURIComponent(String(ww($)))+"&"+m:this.m&&rp(T,this.m,$)),np(this.h,L),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",m),et(T,"SID","null"),L.T=!0,Jf(L,T,null)):Jf(L,T,m),this.G=2}}else this.G==3&&(u?Iw(this,u):this.i.length==0||aw(this.h)||Iw(this))};function Iw(u,m){var T;m?T=m.l:T=u.U++;const P=Kr(u.I);et(P,"SID",u.K),et(P,"RID",T),et(P,"AID",u.T),xl(u,P),u.m&&u.o&&rp(P,u.m,u.o),T=new Is(u,u.j,T,u.B+1),u.m===null&&(T.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Aw(u,T,1e3),T.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),np(u.h,T),Jf(T,P,m)}function xl(u,m){u.H&&M(u.H,function(T,P){et(m,P,T)}),u.l&&dw({},function(T,P){et(m,P,T)})}function Aw(u,m,T){T=Math.min(u.i.length,T);var P=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let $=-1;for(;;){const J=["count="+T];$==-1?0<T?($=L[0].g,J.push("ofs="+$)):$=0:J.push("ofs="+$);let Ye=!0;for(let Lt=0;Lt<T;Lt++){let Fe=L[Lt].g;const Kt=L[Lt].map;if(Fe-=$,0>Fe)$=Math.max(0,L[Lt].g-100),Ye=!1;else try{mk(Kt,J,"req"+Fe+"_")}catch{P&&P(Kt)}}if(Ye){P=J.join("&");break e}}}return u=u.i.splice(0,T),m.D=u,P}function Rw(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;se||ne(),V||(se(),V=!0),G.add(m,u),u.v=0}}function ip(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=hl(f(u.Fa,u),kw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Pw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=hl(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),Tu(this),Pw(this))};function op(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Pw(u){u.g=new Is(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Kr(u.qa);et(m,"RID","rpc"),et(m,"SID",u.K),et(m,"AID",u.T),et(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(m,"TO",u.ja),et(m,"TYPE","xmlhttp"),xl(u,m),u.m&&u.o&&rp(m,u.m,u.o),u.L&&(u.g.I=u.L);var T=u.g;u=u.ia,T.L=1,T.v=wu(Kr(m)),T.m=null,T.P=!0,rw(T,u)}t.Za=function(){this.C!=null&&(this.C=null,Tu(this),ip(this),an(19))};function Cu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Nw(u,m){var T=null;if(u.g==m){Cu(u),op(u),u.g=null;var P=2}else if(tp(u.h,m))T=m.D,cw(u.h,m),P=1;else return;if(u.G!=0){if(m.o)if(P==1){T=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;P=fu(),K(P,new Z0(P,T)),Su(u)}else Rw(u);else if(L=m.s,L==3||L==0&&0<m.X||!(P==1&&wk(u,m)||P==2&&ip(u)))switch(T&&0<T.length&&(m=u.h,m.i=m.i.concat(T)),L){case 1:zi(u,5);break;case 4:zi(u,10);break;case 3:zi(u,6);break;default:zi(u,2)}}}function kw(u,m){let T=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(T*=2),T*m}function zi(u,m){if(u.j.info("Error code "+m),m==2){var T=f(u.fb,u),P=u.Xa;const L=!P;P=new $i(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vu(P,"https"),wu(P),L?hk(P.toString(),T):fk(P.toString(),T)}else an(2);u.G=0,u.l&&u.l.sa(m),Dw(u),bw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function Dw(u){if(u.G=0,u.ka=[],u.l){const m=uw(u.h);(m.length!=0||u.i.length!=0)&&(x(u.ka,m),x(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function Ow(u,m,T){var P=T instanceof $i?Kr(T):new $i(T);if(P.g!="")m&&(P.g=m+"."+P.g),yu(P,P.s);else{var L=a.location;P=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var $=new $i(null);P&&vu($,P),m&&($.g=m),L&&yu($,L),T&&($.l=T),P=$}return T=u.D,m=u.ya,T&&m&&et(P,T,m),et(P,"VER",u.la),xl(u,P),P}function jw(u,m,T){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new dt(new _u({eb:T})):new dt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mw(){}t=Mw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bu(){}bu.prototype.g=function(u,m){return new Nn(u,m)};function Nn(u,m){Q.call(this),this.g=new Cw(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new jo(this)}_(Nn,Q),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){sp(this.g)},Nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.u&&(T={},T.__data__=Wr(u),u=T);m.i.push(new nk(m.Ya++,u)),m.G==3&&Su(m)},Nn.prototype.N=function(){this.g.l=null,delete this.j,sp(this.g),delete this.g,Nn.aa.N.call(this)};function Lw(u){yn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const T in m){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}_(Lw,yn);function Vw(){bs.call(this),this.status=1}_(Vw,bs);function jo(u){this.g=u}_(jo,Mw),jo.prototype.ua=function(){K(this.g,"a")},jo.prototype.ta=function(u){K(this.g,new Lw(u))},jo.prototype.sa=function(u){K(this.g,new Vw)},jo.prototype.ra=function(){K(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,kI=function(){return new bu},NI=function(){return fu()},PI=qr,Ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pu.NO_ERROR=0,pu.TIMEOUT=8,pu.HTTP_ERROR=6,Ad=pu,ew.COMPLETE="complete",RI=ew,He.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",Q.prototype.listen=Q.prototype.K,Ul=He,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,AI=dt}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",lE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Ey("@firebase/firestore");function zo(){return wo.logLevel}function ae(t,...e){if(wo.logLevel<=ke.DEBUG){const n=e.map(Dy);wo.debug(`Firestore (${sl}): ${t}`,...n)}}function ms(t,...e){if(wo.logLevel<=ke.ERROR){const n=e.map(Dy);wo.error(`Firestore (${sl}): ${t}`,...n)}}function $a(t,...e){if(wo.logLevel<=ke.WARN){const n=e.map(Dy);wo.warn(`Firestore (${sl}): ${t}`,...n)}}function Dy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+t;throw ms(e),new Error(e)}function ze(t,e){t||ge()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class G5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q5{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new DI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new en(e)}}class Y5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class X5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J5{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0);const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new cE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Z5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function Rg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ae(r,s);{const i=OI(),o=e6(i.encode(uE(t,n)),i.encode(uE(e,n)));return o!==0?o:Ae(r,s)}}n+=r>65535?2:1}return Ae(t.length,e.length)}function uE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function e6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ae(t[n],e[n]);return Ae(t.length,e.length)}function za(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,hE=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hE);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dE)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Pt(0,0))}static max(){return new ve(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class br{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=br.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ae(e.length,n.length)}static compareSegments(e,n){const r=br.isNumericId(e),s=br.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?br.extractNumericId(e).compare(br.extractNumericId(n)):Rg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}}class rt extends br{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const t6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends br{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return t6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new $t([fE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ce(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ce(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(rt.fromString(e))}static fromName(e){return new he(rt.fromString(e).popFirst(5))}static empty(){return new he(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=-1;function n6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ve.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new xi(s,he.empty(),e)}function r6(t){return new xi(t.readTime,t.key,Dc)}class xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(ve.min(),he.empty(),Dc)}static max(){return new xi(ve.max(),he.empty(),Dc)}}function s6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==i6)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function a6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ol(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-1;function If(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}function l6(t){return typeof t=="number"&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="";function c6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pE(e)),e=u6(t.get(n),e);return pE(e)}function u6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case MI:n+="";break;default:n+=i}}return n}function pE(t){return t+MI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=i??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ut(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(e){return new gE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class gE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Nt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new VI("Invalid base64 string: "+i):i}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const d6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(ze(!!t),typeof t=="string"){let e=0;const n=d6.exec(t);if(ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="server_timestamp",UI="__type__",$I="__previous_value__",zI="__local_write_time__";function jy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UI])===null||n===void 0?void 0:n.stringValue)===FI}function Af(t){const e=t.mapValue.fields[$I];return jy(e)?Af(e):e}function Oc(t){const e=Ei(t.mapValue.fields[zI].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Ch="(default)";class jc{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="__type__",HI="__max__",ed={mapValue:{fields:{__type__:{stringValue:HI}}}},WI="__vector__",bh="value";function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jy(t)?4:p6(t)?9007199254740991:f6(t)?10:11:ge()}function Ur(t,e){if(t===e)return!0;const n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ei(s.timestampValue),a=Ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ti(s.bytesValue).isEqual(Ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return gt(s.geoPointValue.latitude)===gt(i.geoPointValue.latitude)&&gt(s.geoPointValue.longitude)===gt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return gt(s.integerValue)===gt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=gt(s.doubleValue),a=gt(i.doubleValue);return o===a?Sh(o)===Sh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(mE(o)!==mE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ur(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Mc(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Ba(t,e){if(t===e)return 0;const n=Si(t),r=Si(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=gt(i.integerValue||i.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vE(t.timestampValue,e.timestampValue);case 4:return vE(Oc(t),Oc(e));case 5:return Rg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ti(i),l=Ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ae(a[c],l[c]);if(h!==0)return h}return Ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ae(gt(i.latitude),gt(o.latitude));return a!==0?a:Ae(gt(i.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const p=i.fields||{},f=o.fields||{},v=(a=p[bh])===null||a===void 0?void 0:a.arrayValue,_=(l=f[bh])===null||l===void 0?void 0:l.arrayValue,g=Ae(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:yE(v,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ed.mapValue&&o===ed.mapValue)return 0;if(i===ed.mapValue)return 1;if(o===ed.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const f=Rg(l[p],h[p]);if(f!==0)return f;const v=Ba(a[l[p]],c[h[p]]);if(v!==0)return v}return Ae(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ge()}}function vE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Ei(t),r=Ei(e),s=Ae(n.seconds,r.seconds);return s!==0?s:Ae(n.nanos,r.nanos)}function yE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ba(n[s],r[s]);if(i)return i}return Ae(n.length,r.length)}function Ha(t){return Pg(t)}function Pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Pg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Pg(n.fields[o])}`;return s+"}"}(t.mapValue):ge()}function Rd(t){switch(Si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(t);return e?16+Rd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Oi(r.fields,(i,o)=>{s+=i.length+Rd(o)}),s}(t.mapValue);default:throw ge()}}function wE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ng(t){return!!t&&"integerValue"in t}function My(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function xE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function f6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BI])===null||n===void 0?void 0:n.stringValue)===WI}function nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=$t.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=nc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Oi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new xn(nc(this.value))}}function qI(t){const e=[];return Oi(t.fields,(n,r)=>{const s=new $t([n]);if(Pd(r)){const i=qI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,ve.min(),ve.min(),ve.min(),xn.empty(),0)}static newFoundDocument(e,n,r,s){return new nn(e,1,n,ve.min(),r,s,0)}static newNoDocument(e,n){return new nn(e,2,n,ve.min(),ve.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,ve.min(),ve.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function EE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=Ba(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function TE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function m6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{}class Ct extends KI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v6(e,n,r):n==="array-contains"?new _6(e,r):n==="in"?new x6(e,r):n==="not-in"?new E6(e,r):n==="array-contains-any"?new T6(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y6(e,r):new w6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ba(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends KI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new wr(e,n)}matches(e){return GI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GI(t){return t.op==="and"}function QI(t){return g6(t)&&GI(t)}function g6(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function kg(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Ha(t.value);if(QI(t))return t.filters.map(e=>kg(e)).join(",");{const e=t.filters.map(n=>kg(n)).join(",");return`${t.op}(${e})`}}function YI(t,e){return t instanceof Ct?function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&Ur(r.value,s.value)}(t,e):t instanceof wr?function(r,s){return s instanceof wr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&YI(o,s.filters[a]),!0):!1}(t,e):void ge()}function XI(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ha(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(XI).join(" ,")+"}"}(t):"Filter"}class v6 extends Ct{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class y6 extends Ct{constructor(e,n){super(e,"in",n),this.keys=JI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w6 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=JI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class _6 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return My(n)&&Mc(n.arrayValue,this.value)}}class x6 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mc(this.value.arrayValue,n)}}class E6 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mc(this.value.arrayValue,n)}}class T6 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!My(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function SE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new S6(t,e,n,r,s,i,o)}function Ly(t){const e=ye(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),If(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ha(r)).join(",")),e.le=n}return e.le}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TE(t.startAt,e.startAt)&&TE(t.endAt,e.endAt)}function Dg(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function C6(t,e,n,r,s,i,o,a){return new su(t,e,n,r,s,i,o,a)}function Fy(t){return new su(t)}function CE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZI(t){return t.collectionGroup!==null}function rc(t){const e=ye(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Nt($t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Ah(i,r))}),n.has($t.keyField().canonicalString())||e.he.push(new Ah($t.keyField(),r))}return e.he}function Lr(t){const e=ye(t);return e.Pe||(e.Pe=b6(e,rc(t))),e.Pe}function b6(t,e){if(t.limitType==="F")return SE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ah(s.field,i)});const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;return SE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Og(t,e){const n=t.filters.concat([e]);return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jg(t,e,n){return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rf(t,e){return Vy(Lr(t),Lr(e))&&t.limitType===e.limitType}function eA(t){return`${Ly(Lr(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XI(s)).join(", ")}]`),If(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ha(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ha(s)).join(",")),`Target(${r})`}(Lr(t))}; limitType=${t.limitType})`}function Pf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of rc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=EE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,rc(r),s)||r.endAt&&!function(o,a,l){const c=EE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,rc(r),s))}(t,e)}function I6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tA(t){return(e,n)=>{let r=!1;for(const s of rc(t)){const i=A6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function A6(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ba(l,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return LI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new ct(he.comparator);function gs(){return R6}const nA=new ct(he.comparator);function $l(...t){let e=nA;for(const n of t)e=e.insert(n.key,n);return e}function rA(t){let e=nA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qi(){return sc()}function sA(){return sc()}function sc(){return new Po(t=>t.toString(),(t,e)=>t.isEqual(e))}const P6=new ct(he.comparator),N6=new Nt(he.comparator);function Oe(...t){let e=N6;for(const n of t)e=e.add(n);return e}const k6=new Nt(Ae);function D6(){return k6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function iA(t){return{integerValue:""+t}}function O6(t,e){return l6(e)?iA(e):Uy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof Rh?function(s,i){const o={fields:{[UI]:{stringValue:FI},[zI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&jy(i)&&(i=Af(i)),i&&(o.fields[$I]=i),{mapValue:o}}(n,e):t instanceof Lc?aA(t,e):t instanceof Vc?lA(t,e):function(s,i){const o=oA(s,i),a=bE(o)+bE(s.Ie);return Ng(o)&&Ng(s.Ie)?iA(a):Uy(s.serializer,a)}(t,e)}function M6(t,e,n){return t instanceof Lc?aA(t,e):t instanceof Vc?lA(t,e):n}function oA(t,e){return t instanceof Ph?function(r){return Ng(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Rh extends Nf{}class Lc extends Nf{constructor(e){super(),this.elements=e}}function aA(t,e){const n=cA(e);for(const r of t.elements)n.some(s=>Ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vc extends Nf{constructor(e){super(),this.elements=e}}function lA(t,e){let n=cA(e);for(const r of t.elements)n=n.filter(s=>!Ur(s,r));return{arrayValue:{values:n}}}class Ph extends Nf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function bE(t){return gt(t.integerValue||t.doubleValue)}function cA(t){return My(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function L6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Lc&&s instanceof Lc||r instanceof Vc&&s instanceof Vc?za(r.elements,s.elements,Ur):r instanceof Ph&&s instanceof Ph?Ur(r.Ie,s.Ie):r instanceof Rh&&s instanceof Rh}(t.transform,e.transform)}class V6{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function uA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $y(t.key,Jn.none()):new iu(t.key,t.data,Jn.none());{const n=t.data,r=xn.empty();let s=new Nt($t.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ji(t.key,r,new Vn(s.toArray()),Jn.none())}}function F6(t,e,n){t instanceof iu?function(s,i,o){const a=s.value.clone(),l=AE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(s,i,o){if(!Nd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=AE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(dA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof iu?function(i,o,a,l){if(!Nd(i.precondition,o))return a;const c=i.value.clone(),h=RE(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(i,o,a,l){if(!Nd(i.precondition,o))return a;const c=RE(i.fieldTransforms,l,o),h=o.data;return h.setAll(dA(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Nd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function U6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=oA(r.transform,s||null);i!=null&&(n===null&&(n=xn.empty()),n.set(r.field,i))}return n||null}function IE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&za(r,s,(i,o)=>L6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends kf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ji extends kf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AE(t,e,n){const r=new Map;ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,M6(o,a,n[s]))}return r}function RE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,j6(i,o,e))}return r}class $y extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $6 extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&F6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=uA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(n,r)=>IE(n,r))&&za(this.baseMutations,e.baseMutations,(n,r)=>IE(n,r))}}class zy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length);let s=function(){return P6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new zy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Me;function W6(t){switch(t){case q.OK:return ge();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ge()}}function hA(t){if(t===void 0)return ms("GRPC error has no .code"),q.UNKNOWN;switch(t){case Tt.OK:return q.OK;case Tt.CANCELLED:return q.CANCELLED;case Tt.UNKNOWN:return q.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return q.INTERNAL;case Tt.UNAVAILABLE:return q.UNAVAILABLE;case Tt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Tt.NOT_FOUND:return q.NOT_FOUND;case Tt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Tt.ABORTED:return q.ABORTED;case Tt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Tt.DATA_LOSS:return q.DATA_LOSS;default:return ge()}}(Me=Tt||(Tt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new hi([4294967295,4294967295],0);function PE(t){const e=OI().encode(t),n=new II;return n.update(e),new Uint8Array(n.digest())}function NE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new hi([n,r],0),new hi([s,i],0)]}class By{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=hi.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(hi.fromNumber(r)));return s.compare(q6)===1&&(s=new hi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=PE(e),[r,s]=NE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new By(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=PE(e),[r,s]=NE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Df(ve.min(),s,new ct(Ae),gs(),Oe())}}class ou{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ou(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class fA{constructor(e,n){this.targetId=e,this.ge=n}}class pA{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class kE{constructor(){this.pe=0,this.ye=DE(),this.we=Wt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Oe(),n=Oe(),r=Oe();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ge()}}),new ou(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=DE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class K6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gs(),this.$e=td(),this.Ue=td(),this.Ke=new ct(Ae)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Dg(i))if(r===0){const o=new he(i.path);this.ze(n,o,nn.newNoDocument(o,ve.min()))}else ze(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ti(r).toUint8Array()}catch(l){if(l instanceof VI)return $a("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new By(o,s,i)}catch(l){return $a(l instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Dg(a.target)){const l=new he(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,nn.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=Oe();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Df(e,n,this.Ke,this.Qe,r);return this.Qe=gs(),this.$e=td(),this.Ue=td(),this.Ke=new ct(Ae),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new kE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Nt(Ae),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(Ae),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new kE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function td(){return new ct(he.comparator)}function DE(){return new ct(he.comparator)}const G6={asc:"ASCENDING",desc:"DESCENDING"},Q6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y6={and:"AND",or:"OR"};class X6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mg(t,e){return t.useProto3Json||If(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J6(t,e){return Nh(t,e.toTimestamp())}function Vr(t){return ze(!!t),ve.fromTimestamp(function(n){const r=Ei(n);return new Pt(r.seconds,r.nanos)}(t))}function Hy(t,e){return Lg(t,e).canonicalString()}function Lg(t,e){const n=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gA(t){const e=rt.fromString(t);return ze(xA(e)),e}function Vg(t,e){return Hy(t.databaseId,e.path)}function Yp(t,e){const n=gA(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(yA(n))}function vA(t,e){return Hy(t.databaseId,e)}function Z6(t){const e=gA(t);return e.length===4?rt.emptyPath():yA(e)}function Fg(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yA(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OE(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function e9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ze(h===void 0||typeof h=="string"),Wt.fromBase64String(h||"")):(ze(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?q.UNKNOWN:hA(c.code);return new ce(h,c.message||"")}(o);n=new pA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yp(t,r.document.name),i=Vr(r.document.updateTime),o=r.document.createTime?Vr(r.document.createTime):ve.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new kd(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Yp(t,r.document),i=r.readTime?Vr(r.readTime):ve.min(),o=nn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new kd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Yp(t,r.document),i=r.removedTargetIds||[];n=new kd([],i,s,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new H6(s,i),a=r.targetId;n=new fA(a,o)}}return n}function t9(t,e){let n;if(e instanceof iu)n={update:OE(t,e.key,e.value)};else if(e instanceof $y)n={delete:Vg(t,e.key)};else if(e instanceof ji)n={update:OE(t,e.key,e.data),updateMask:u9(e.fieldMask)};else{if(!(e instanceof $6))return ge();n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:J6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(t,e.precondition)),n}function n9(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Vr(s.updateTime):Vr(i);return o.isEqual(ve.min())&&(o=Vr(i)),new V6(o,s.transformResults||[])}(n,e))):[]}function r9(t,e){return{documents:[vA(t,e.path)]}}function s9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vA(t,s);const i=function(c){if(c.length!==0)return _A(wr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Ho(f.field),direction:a9(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:s}}function i9(t){let e=Z6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=wA(p);return f instanceof wr&&QI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(_){return new Ah(Wo(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,If(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,v=p.values||[];return new Ih(v,f)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const f=!p.before,v=p.values||[];return new Ih(v,f)}(n.endAt)),C6(e,s,o,i,a,"F",l,c)}function o9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wo(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wo(n.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wo(n.unaryFilter.field);return Ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wo(n.unaryFilter.field);return Ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(Wo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>wA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function a9(t){return G6[t]}function l9(t){return Q6[t]}function c9(t){return Y6[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function Wo(t){return $t.fromServerFormat(t.fieldPath)}function _A(t){return t instanceof Ct?function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:l9(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(s=>_A(s));return r.length===1?r[0]:{compositeFilter:{op:c9(n.op),filters:r}}}(t):ge()}function u9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r,s,i=ve.min(),o=ve.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.Tt=e}}function h9(t){const e=i9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.Tn=new p9}addToCollectionParentIndex(e,n){return this.Tn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(xi.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class p9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Nt(rt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(EA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Wa(0)}static Kn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",m9=1048576;function LE([t,e],[n,r]){const s=Ae(t,n);return s===0?Ae(e,r):s}class g9{constructor(e){this.Hn=e,this.buffer=new Nt(LE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(ME,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ol(n)?ae(ME,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.er(3e5)})}}class y9{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(bf.ae);const r=new g9(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(jE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),zo()<=ke.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function w9(t,e){return new y9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.changes=new Po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ic(r.mutation,s,Vn.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=Qi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$l();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gs();const o=sc(),a=function(){return sc()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof ji)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ic(h.mutation,c,h.mutation.getFieldMask(),Pt.now())):o.set(c.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new x9(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sc();let s=new ct((o,a)=>o-a),i=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Vn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const p=(s.get(a.batchId)||Oe()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=sA();h.forEach(f=>{if(!i.has(f)){const v=uA(n.get(f),r.get(f));v!==null&&p.set(f,v),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Qi());let a=Dc,l=i;return o.next(c=>H.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Oe())).next(h=>({batchId:a,changes:rA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let s=$l();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=$l();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const c=function(p,f){return new su(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,nn.newInvalidDocument(h)))});let a=$l();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&ic(h.mutation,c,Vn.empty(),Pt.now()),Pf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return H.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:h9(s.bundledQuery),readTime:Vr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.overlays=new ct(he.comparator),this.Rr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qi();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Qi(),i=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ct((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Qi(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Qi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return H.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new B6(n,r));let i=this.Rr.get(n);i===void 0&&(i=Oe(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.Vr=new Nt(Ot.mr),this.gr=new Nt(Ot.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ot(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new he(new rt([])),r=new Ot(n,e),s=new Ot(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new he(new rt([])),r=new Ot(n,e),s=new Ot(n,e+1);let i=Oe();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ot(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return he.comparator(e.key,n.key)||Ae(e.Cr,n.Cr)}static pr(e,n){return Ae(e.Cr,n.Cr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(Ot.mr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new z6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new Ot(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Oy:this.Fr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),s=new Ot(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Ae);return n.forEach(s=>{const i=new Ot(s,0),o=new Ot(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),H.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const o=new Ot(new he(i),0);let a=new Nt(Ae);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Cr)),!0)},o),H.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return H.forEach(n.mutations,s=>{const i=new Ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ot(n,0),s=this.Mr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.kr=e,this.docs=function(){return new ct(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():nn.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gs();const o=n.path,a=new he(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||s6(r6(h),r)<=0||(s.has(h.key)||Pf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ge()}qr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A9(this)}getSize(e){return H.resolve(this.size)}}class A9 extends _9{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.persistence=e,this.Qr=new Po(n=>Ly(n),Vy),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Wy,this.targetCount=0,this.Kr=Wa.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),H.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Wa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.zn(n),H.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new bf(0),this.zr=!1,this.zr=!0,this.jr=new C9,this.referenceDelegate=e(this),this.Hr=new R9(this),this.indexManager=new f9,this.remoteDocumentCache=function(s){return new I9(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new d9(n),this.Yr=new T9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new b9(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new P9(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return H.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class P9 extends o6{constructor(e){super(),this.currentSequenceNumber=e}}class qy{constructor(e){this.persistence=e,this.ti=new Wy,this.ni=null}static ri(e){return new qy(e)}get ii(){if(this.ni)return this.ni;throw ge()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),H.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ii,r=>{const s=he.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,ve.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return H.or([()=>H.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.oi=new Po(r=>c6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=w9(this,n)}static ri(e,n){return new kh(e,n)}Zr(){}Xr(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return H.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ve.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),H.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rd(e.data.value)),n}ar(e,n,r){return H.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Oe(),s=Oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ky(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return c4()?8:a6(on())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new N9;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(zo()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),H.resolve()):(zo()<=ke.DEBUG&&ae("QueryEngine","Query:",Bo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(zo()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):H.resolve())}rs(e,n){if(CE(n))return H.resolve(null);let r=Lr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jg(n,null,"F"),r=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Oe(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,jg(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,s){return CE(n)||s.isEqual(ve.min())?H.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?H.resolve(null):(zo()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bo(n)),this.hs(e,o,n,n6(s,Dc)).next(a=>a))})}cs(e,n){let r=new Nt(tA(e));return n.forEach((s,i)=>{Pf(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return zo()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.ns.getDocumentsMatchingQuery(e,n,xi.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="LocalStore",D9=3e8;class O9{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ct(Ae),this.Is=new Po(i=>Ly(i),Vy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function j9(t,e,n,r){return new O9(t,e,n,r)}async function SA(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Oe();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function M9(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,f=p.keys();let v=H.resolve();return f.forEach(_=>{v=v.next(()=>h.getEntry(l,_)).next(g=>{const x=c.docVersions.get(_);ze(x!==null),g.version.compareTo(x)<0&&(p.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),h.addEntry(g)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function CA(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function L9(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.Hr.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(i,h.addedDocuments,p)));let v=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Wt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(p,v),function(g,x,E){return g.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=D9?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,v,h)&&a.push(n.Hr.updateTargetData(i,v))});let l=gs(),c=Oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(V9(i,o,e.documentUpdates).next(h=>{l=h.Vs,c=h.fs})),!r.isEqual(ve.min())){const h=n.Hr.getLastRemoteSnapshotVersion(i).next(p=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ts=s,i))}function V9(t,e,n){let r=Oe(),s=Oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae(Gy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function F9(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Oy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U9(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Zs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Ug(t,e,n){const r=ye(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ol(o))throw o;ae(Gy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function VE(t,e,n){const r=ye(t);let s=ve.min(),i=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const p=ye(l),f=p.Is.get(h);return f!==void 0?H.resolve(p.Ts.get(f)):p.Hr.getTargetData(c,h)}(r,o,Lr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:ve.min(),n?i:Oe())).next(a=>($9(r,I6(e),a),{documents:a,gs:i})))}function $9(t,e,n){let r=t.Es.get(e)||ve.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class FE{constructor(){this.activeTargetIds=D6()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z9{constructor(){this.ho=new FE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new FE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class $E{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(UE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function $g(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="RestConnection",H9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=$g(),a=this.bo(e,n.toUriEncodedString());ae(Xp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(c=>(ae(Xp,`Received RPC '${e}' ${o}: `,c),c),c=>{throw $a(Xp,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=H9[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class K9 extends W9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=$g();return new Promise((o,a)=>{const l=new AI;l.setWithCredentials(!0),l.listenOnce(RI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ad.NO_ERROR:const h=l.getResponseJson();ae(Jt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Ad.TIMEOUT:ae(Jt,`RPC '${e}' ${i} timed out`),a(new ce(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const p=l.getStatus();if(ae(Jt,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const _=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(E)>=0?E:q.UNKNOWN}(v.status);a(new ce(_,v.message))}else a(new ce(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(q.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ae(Jt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ae(Jt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const s=$g(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kI(),a=NI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ae(Jt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);let f=!1,v=!1;const _=new q9({Fo:x=>{v?ae(Jt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(f||(ae(Jt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),ae(Jt,`RPC '${e}' stream ${s} sending:`,x),p.send(x))},Mo:()=>p.close()}),g=(x,E,w)=>{x.listen(E,S=>{try{w(S)}catch(I){setTimeout(()=>{throw I},0)}})};return g(p,Ul.EventType.OPEN,()=>{v||(ae(Jt,`RPC '${e}' stream ${s} transport opened.`),_.Qo())}),g(p,Ul.EventType.CLOSE,()=>{v||(v=!0,ae(Jt,`RPC '${e}' stream ${s} transport closed`),_.Uo())}),g(p,Ul.EventType.ERROR,x=>{v||(v=!0,$a(Jt,`RPC '${e}' stream ${s} transport errored:`,x),_.Uo(new ce(q.UNAVAILABLE,"The operation could not be completed")))}),g(p,Ul.EventType.MESSAGE,x=>{var E;if(!v){const w=x.data[0];ze(!!w);const S=w,I=(S==null?void 0:S.error)||((E=S[0])===null||E===void 0?void 0:E.error);if(I){ae(Jt,`RPC '${e}' stream ${s} received error:`,I);const k=I.status;let M=function(A){const R=Tt[A];if(R!==void 0)return hA(R)}(k),b=I.message;M===void 0&&(M=q.INTERNAL,b="Unknown error status: "+k+" with message "+I.message),v=!0,_.Uo(new ce(M,b)),p.close()}else ae(Jt,`RPC '${e}' stream ${s} received:`,w),_.Ko(w)}}),g(a,PI.STAT_EVENT,x=>{x.stat===Ag.PROXY?ae(Jt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Ag.NOPROXY&&ae(Jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){return new X6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="PersistentStream";class IA{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ce(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G9 extends IA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=e9(this.serializer,e),r=function(i){if(!("targetChange"in i))return ve.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Vr(o.readTime):ve.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Fg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Dg(l)?{documents:r9(i,l)}:{query:s9(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mA(i,o.resumeToken);const c=Mg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=Nh(i,o.snapshotVersion.toTimestamp());const c=Mg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=o9(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Fg(this.serializer),n.removeTarget=e,this.I_(n)}}class Q9 extends IA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=n9(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Fg(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t9(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{}class X9 extends Y9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Lg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(q.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Lg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(q.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class J9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ms(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class Z9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{No(this)&&(ae(_o,"Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.W_.add(4),await au(c),c.j_.set("Unknown"),c.W_.delete(4),await jf(c)}(this))})}),this.j_=new J9(r,s)}}async function jf(t){if(No(t))for(const e of t.G_)await e(!0)}async function au(t){for(const e of t.G_)await e(!1)}function AA(t,e){const n=ye(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Jy(n)?Xy(n):al(n).c_()&&Yy(n,e))}function Qy(t,e){const n=ye(t),r=al(n);n.K_.delete(e),r.c_()&&RA(n,e),n.K_.size===0&&(r.c_()?r.P_():No(n)&&n.j_.set("Unknown"))}function Yy(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).y_(e)}function RA(t,e){t.H_.Ne(e),al(t).w_(e)}function Xy(t){t.H_=new K6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),al(t).start(),t.j_.B_()}function Jy(t){return No(t)&&!al(t).u_()&&t.K_.size>0}function No(t){return ye(t).W_.size===0}function PA(t){t.H_=void 0}async function e$(t){t.j_.set("Online")}async function t$(t){t.K_.forEach((e,n)=>{Yy(t,e)})}async function n$(t,e){PA(t),Jy(t)?(t.j_.q_(e),Xy(t)):t.j_.set("Unknown")}async function r$(t,e,n){if(t.j_.set("Online"),e instanceof pA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.K_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.K_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){ae(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(t,r)}else if(e instanceof kd?t.H_.We(e):e instanceof fA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ve.min()))try{const r=await CA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.K_.get(c);h&&i.K_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.K_.get(l);if(!h)return;i.K_.set(l,h.withResumeToken(Wt.EMPTY_BYTE_STRING,h.snapshotVersion)),RA(i,l);const p=new Zs(h.target,l,c,h.sequenceNumber);Yy(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae(_o,"Failed to raise snapshot:",r),await Dh(t,r)}}async function Dh(t,e,n){if(!ol(e))throw e;t.W_.add(1),await au(t),t.j_.set("Offline"),n||(n=()=>CA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae(_o,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await jf(t)})}function NA(t,e){return e().catch(n=>Dh(t,n,e))}async function Mf(t){const e=ye(t),n=Ci(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Oy;for(;s$(e);)try{const s=await F9(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,i$(e,s)}catch(s){await Dh(e,s)}kA(e)&&DA(e)}function s$(t){return No(t)&&t.U_.length<10}function i$(t,e){t.U_.push(e);const n=Ci(t);n.c_()&&n.S_&&n.b_(e.mutations)}function kA(t){return No(t)&&!Ci(t).u_()&&t.U_.length>0}function DA(t){Ci(t).start()}async function o$(t){Ci(t).C_()}async function a$(t){const e=Ci(t);for(const n of t.U_)e.b_(n.mutations)}async function l$(t,e,n){const r=t.U_.shift(),s=zy.from(r,e,n);await NA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Mf(t)}async function c$(t,e){e&&Ci(t).S_&&await async function(r,s){if(function(o){return W6(o)&&o!==q.ABORTED}(s.code)){const i=r.U_.shift();Ci(r).h_(),await NA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Mf(r)}}(t,e),kA(t)&&DA(t)}async function BE(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),ae(_o,"RemoteStore received new credentials");const r=No(n);n.W_.add(3),await au(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await jf(n)}async function u$(t,e){const n=ye(t);e?(n.W_.delete(2),await jf(n)):e||(n.W_.add(2),await au(n),n.j_.set("Unknown"))}function al(t){return t.J_||(t.J_=function(n,r,s){const i=ye(n);return i.M_(),new G9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:e$.bind(null,t),No:t$.bind(null,t),Lo:n$.bind(null,t),p_:r$.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Jy(t)?Xy(t):t.j_.set("Unknown")):(await t.J_.stop(),PA(t))})),t.J_}function Ci(t){return t.Y_||(t.Y_=function(n,r,s){const i=ye(n);return i.M_(),new Q9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:o$.bind(null,t),Lo:c$.bind(null,t),D_:a$.bind(null,t),v_:l$.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Mf(t)):(await t.Y_.stop(),t.U_.length>0&&(ae(_o,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Zy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e0(t,e){if(ms("AsyncQueue",`${e}: ${t}`),ol(t))return new ce(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=$l(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.Z_=new ct(he.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ge():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qa{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qa(e,n,va.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class h${constructor(){this.queries=WE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=ye(n),i=s.queries;s.queries=WE(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new ce(q.ABORTED,"Firestore shutting down"))}}function WE(){return new Po(t=>eA(t),Rf)}async function OA(t,e){const n=ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new d$,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=e0(o,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&t0(n)}async function jA(t,e){const n=ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f$(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&t0(n)}function p$(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function t0(t){t.ia.forEach(e=>{e.next()})}var zg,qE;(qE=zg||(zg={}))._a="default",qE.Cache="cache";class MA{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.key=e}}class VA{constructor(e){this.key=e}}class m${constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Oe(),this.mutatedKeys=Oe(),this.ya=tA(e),this.wa=new va(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new HE,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),v=Pf(this.query,p)?p:null,_=!!f&&this.mutatedKeys.has(f.key),g=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;f&&v?f.data.isEqual(v.data)?_!==g&&(r.track({type:3,doc:v}),x=!0):this.va(f,v)||(r.track({type:2,doc:v}),x=!0,(l&&this.ya(v,l)>0||c&&this.ya(v,c)<0)&&(a=!0)):!f&&v?(r.track({type:0,doc:v}),x=!0):f&&!v&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(v?(o=o.add(v),i=g?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,p)=>function(v,_){const g=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return g(v)-g(_)}(h.type,p.type)||this.ya(h.doc,p.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new qa(this.query,e.wa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new HE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Oe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new VA(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new LA(r))}),n}Oa(e){this.fa=e.gs,this.pa=Oe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return qa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const n0="SyncEngine";class g${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v${constructor(e){this.key=e,this.Ba=!1}}class y${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Po(a=>eA(a),Rf),this.qa=new Map,this.Qa=new Set,this.$a=new ct(he.comparator),this.Ua=new Map,this.Ka=new Wy,this.Wa={},this.Ga=new Map,this.za=Wa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function w$(t,e,n=!0){const r=HA(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await FA(r,e,n,!0),s}async function _$(t,e){const n=HA(t);await FA(n,e,!0,!1)}async function FA(t,e,n,r){const s=await U9(t.localStore,Lr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await x$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&AA(t.remoteStore,s),a}async function x$(t,e,n,r,s){t.Ha=(p,f,v)=>async function(g,x,E,w){let S=x.view.ba(E);S.ls&&(S=await VE(g.localStore,x.query,!1).then(({documents:b})=>x.view.ba(b,S)));const I=w&&w.targetChanges.get(x.targetId),k=w&&w.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(S,g.isPrimaryClient,I,k);return GE(g,x.targetId,M.Ma),M.snapshot}(t,p,f,v);const i=await VE(t.localStore,e,!0),o=new m$(e,i.gs),a=o.ba(i.documents),l=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);GE(t,n,c.Ma);const h=new g$(e,n,o);return t.ka.set(e,h),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function E$(t,e,n){const r=ye(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Rf(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ug(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qy(r.remoteStore,s.targetId),Bg(r,s.targetId)}).catch(il)):(Bg(r,s.targetId),await Ug(r.localStore,s.targetId,!0))}async function T$(t,e){const n=ye(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qy(n.remoteStore,r.targetId))}async function S$(t,e,n){const r=N$(t);try{const s=await function(o,a){const l=ye(o),c=Pt.now(),h=a.reduce((v,_)=>v.add(_.key),Oe());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let _=gs(),g=Oe();return l.ds.getEntries(v,h).next(x=>{_=x,_.forEach((E,w)=>{w.isValidDocument()||(g=g.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,_)).next(x=>{p=x;const E=[];for(const w of a){const S=U6(w,p.get(w.key).overlayedDocument);S!=null&&E.push(new ji(w.key,S,qI(S.value.mapValue),Jn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,E,a)}).next(x=>{f=x;const E=x.applyToLocalDocumentSet(p,g);return l.documentOverlayCache.saveOverlays(v,x.batchId,E)})}).then(()=>({batchId:f.batchId,changes:rA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new ct(Ae)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,s.batchId,n),await lu(r,s.changes),await Mf(r.remoteStore)}catch(s){const i=e0(s,"Failed to persist write");n.reject(i)}}async function UA(t,e){const n=ye(t);try{const r=await L9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ua.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?ze(o.Ba):s.removedDocuments.size>0&&(ze(o.Ba),o.Ba=!1))}),await lu(n,r,e)}catch(r){await il(r)}}function KE(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const f of p.ta)f.sa(a)&&(c=!0)}),c&&t0(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C$(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),i=s&&s.key;if(i){let o=new ct(he.comparator);o=o.insert(i,nn.newNoDocument(i,ve.min()));const a=Oe().add(i),l=new Df(ve.min(),new Map,new ct(Ae),o,a);await UA(r,l),r.$a=r.$a.remove(i),r.Ua.delete(e),r0(r)}else await Ug(r.localStore,e,!1).then(()=>Bg(r,e,n)).catch(il)}async function b$(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await M9(n.localStore,e);zA(n,r,null),$A(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lu(n,s)}catch(s){await il(s)}}async function I$(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(ze(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);zA(r,e,n),$A(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lu(r,s)}catch(s){await il(s)}}function $A(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function zA(t,e,n){const r=ye(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||BA(t,r)})}function BA(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Qy(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),r0(t))}function GE(t,e,n){for(const r of n)r instanceof LA?(t.Ka.addReference(r.key,e),A$(t,r)):r instanceof VA?(ae(n0,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||BA(t,r.key)):ge()}function A$(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ae(n0,"New document in limbo: "+n),t.Qa.add(r),r0(t))}function r0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new he(rt.fromString(e)),r=t.za.next();t.Ua.set(r,new v$(n)),t.$a=t.$a.insert(n,r),AA(t.remoteStore,new Zs(Lr(Fy(n.path)),r,"TargetPurposeLimboResolution",bf.ae))}}async function lu(t,e,n){const r=ye(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){s.push(c);const p=Ky.Yi(l.targetId,c);i.push(p)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,c){const h=ye(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>H.forEach(c,f=>H.forEach(f.Hi,v=>h.persistence.referenceDelegate.addReference(p,f.targetId,v)).next(()=>H.forEach(f.Ji,v=>h.persistence.referenceDelegate.removeReference(p,f.targetId,v)))))}catch(p){if(!ol(p))throw p;ae(Gy,"Failed to update sequence numbers: "+p)}for(const p of c){const f=p.targetId;if(!p.fromCache){const v=h.Ts.get(f),_=v.snapshotVersion,g=v.withLastLimboFreeSnapshotVersion(_);h.Ts=h.Ts.insert(f,g)}}}(r.localStore,i))}async function R$(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){ae(n0,"User change. New user:",e.toKey());const r=await SA(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new ce(q.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(n,r.Rs)}}function P$(t,e){const n=ye(t),r=n.Ua.get(e);if(r&&r.Ba)return Oe().add(r.key);{let s=Oe();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function HA(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C$.bind(null,e),e.La.p_=f$.bind(null,e.eventManager),e.La.Ja=p$.bind(null,e.eventManager),e}function N$(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I$.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return j9(this.persistence,new k9,e.initialUser,this.serializer)}Xa(e){return new TA(qy.ri,this.serializer)}Za(e){return new z9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class k$ extends Oh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ze(this.persistence.referenceDelegate instanceof kh);const r=this.persistence.referenceDelegate.garbageCollector;return new v9(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new TA(r=>kh.ri(r,n),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R$.bind(null,this.syncEngine),await u$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h$}()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),r=function(i){return new K9(i)}(e.databaseInfo);return function(i,o,a,l){return new X9(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Z9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>KE(this.syncEngine,n,0),function(){return $E.D()?new $E:new B9}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const p=new y$(s,i,o,a,l,c);return h&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ye(s);ae(_o,"RemoteStore shutting down."),i.W_.add(5),await au(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="FirestoreClient";class D${constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=en.UNAUTHENTICATED,this.clientId=jI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ae(bi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae(bi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=e0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(t,e){t.asyncQueue.verifyOperationInProgress(),ae(bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O$(t);ae(bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>BE(e.remoteStore,s)),t._onlineComponents=e}async function O$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae(bi,"Using user provided OfflineComponentProvider");try{await Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await Zp(t,new Oh)}}else ae(bi,"Using default OfflineComponentProvider"),await Zp(t,new k$(void 0));return t._offlineComponents}async function qA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae(bi,"Using user provided OnlineComponentProvider"),await QE(t,t._uninitializedComponentsProvider._online)):(ae(bi,"Using default OnlineComponentProvider"),await QE(t,new Hg))),t._onlineComponents}function j$(t){return qA(t).then(e=>e.syncEngine)}async function KA(t){const e=await qA(t),n=e.eventManager;return n.onListen=w$.bind(null,e.syncEngine),n.onUnlisten=E$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T$.bind(null,e.syncEngine),n}function M$(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new WA({next:f=>{h.su(),o.enqueueAndForget(()=>jA(i,p));const v=f.docs.has(a);!v&&f.fromCache?c.reject(new ce(q.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&l&&l.source==="server"?c.reject(new ce(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new MA(Fy(a.path),h,{includeMetadataChanges:!0,Ta:!0});return OA(i,p)}(await KA(t),t.asyncQueue,e,n,r)),r.promise}function L$(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new WA({next:f=>{h.su(),o.enqueueAndForget(()=>jA(i,p)),f.fromCache&&l.source==="server"?c.reject(new ce(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new MA(a,h,{includeMetadataChanges:!0,Ta:!0});return OA(i,p)}(await KA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e,n){if(!n)throw new ce(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V$(t,e,n,r){if(e===!0&&r===!0)throw new ce(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XE(t){if(!he.isDocumentKey(t))throw new ce(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JE(t){if(he.isDocumentKey(t))throw new ce(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lf(t);throw new ce(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore.googleapis.com",ZE=!0;class e1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=ZE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m9)throw new ce(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K5;switch(r.type){case"firstParty":return new X5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YE.get(n);r&&(ae("ComponentProvider","Removing Datastore"),YE.delete(n),r.terminate())}(this),Promise.resolve()}}function F$(t,e,n,r={}){var s;const i=(t=_r(t,Vf))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==YA&&i.host!==a&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!mo(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=en.MOCK_USER;else{c=n4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ce(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new en(p)}t._authCredentials=new G5(new DI(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ll(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class fi extends ll{constructor(e,n,r){super(e,n,Fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new he(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function jh(t,e,...n){if(t=kt(t),QA("collection","path",e),t instanceof Vf){const r=rt.fromString(e,...n);return JE(r),new fi(t,null,r)}{if(!(t instanceof pn||t instanceof fi))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return JE(r),new fi(t.firestore,null,r)}}function Tn(t,e,...n){if(t=kt(t),arguments.length===1&&(e=jI.newId()),QA("doc","path",e),t instanceof Vf){const r=rt.fromString(e,...n);return XE(r),new pn(t,null,new he(r))}{if(!(t instanceof pn||t instanceof fi))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return XE(r),new pn(t.firestore,t instanceof fi?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="AsyncQueue";class n1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bA(this,"async_queue_retry"),this.Su=()=>{const r=Jp();r&&ae(t1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ol(e))throw e;ae(t1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ms("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Zy.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&ge()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ko extends Vf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new n1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n1(e),this._firestoreClient=void 0,await e}}}function U$(t,e){const n=typeof t=="object"?t:Hb(),r=typeof t=="string"?t:Ch,s=Sy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=e4("firestore");i&&F$(s,...i)}return s}function s0(t){if(t._terminated)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$$(t),t._firestoreClient}function $$(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new h6(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,GA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new D$(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ka(Wt.fromBase64String(e))}catch(n){throw new ce(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ka(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=/^__.*__$/;class B${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class XA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class l0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new l0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(JA(this.Lu)&&z$.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class H${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Of(e)}ju(e,n,r,s=!1){return new l0({Lu:e,methodName:n,zu:r,path:$t.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uf(t){const e=t._freezeSettings(),n=Of(t._databaseId);return new H$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZA(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);c0("Data must be an object, but it was:",o,r);const a=eR(r,o);let l,c;if(i.merge)l=new Vn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=Wg(e,p,n);if(!o.contains(f))throw new ce(q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nR(h,f)||h.push(f)}l=new Vn(h),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new B$(new xn(a),l,c)}class $f extends i0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $f}}function W$(t,e,n,r){const s=t.ju(1,e,n);c0("Data must be an object, but it was:",s,r);const i=[],o=xn.empty();Oi(r,(l,c)=>{const h=u0(e,l,n);c=kt(c);const p=s.Uu(h);if(c instanceof $f)i.push(h);else{const f=cu(c,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new Vn(i);return new XA(o,a,s.fieldTransforms)}function q$(t,e,n,r,s,i){const o=t.ju(1,e,n),a=[Wg(e,r,n)],l=[s];if(i.length%2!=0)throw new ce(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Wg(e,i[f])),l.push(i[f+1]);const c=[],h=xn.empty();for(let f=a.length-1;f>=0;--f)if(!nR(c,a[f])){const v=a[f];let _=l[f];_=kt(_);const g=o.Uu(v);if(_ instanceof $f)c.push(v);else{const x=cu(_,g);x!=null&&(c.push(v),h.set(v,x))}}const p=new Vn(c);return new XA(h,p,o.fieldTransforms)}function K$(t,e,n,r=!1){return cu(n,t.ju(r?4:3,e))}function cu(t,e){if(tR(t=kt(t)))return c0("Unsupported field value:",e,t),eR(t,e);if(t instanceof i0)return function(r,s){if(!JA(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=cu(a,s.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pt.fromDate(r);return{timestampValue:Nh(s.serializer,i)}}if(r instanceof Pt){const i=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(s.serializer,i)}}if(r instanceof o0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ka)return{bytesValue:mA(s.serializer,r._byteString)};if(r instanceof pn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof a0)return function(o,a){return{mapValue:{fields:{[BI]:{stringValue:WI},[bh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Uy(a.serializer,c)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Lf(r)}`)}(t,e)}function eR(t,e){const n={};return LI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(t,(r,s)=>{const i=cu(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function tR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof o0||t instanceof Ka||t instanceof pn||t instanceof i0||t instanceof a0)}function c0(t,e,n){if(!tR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lf(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Wg(t,e,n){if((e=kt(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return u0(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const G$=new RegExp("[~\\*/\\[\\]]");function u0(t,e,n){if(e.search(G$)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ce(q.INVALID_ARGUMENT,a+t+l)}function nR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q$ extends rR{data(){return super.data()}}function d0(t,e){return typeof e=="string"?u0(t,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h0{}class X$ extends h0{}function J$(t,e,...n){let r=[];e instanceof h0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof f0).length,a=i.filter(l=>l instanceof zf).length;if(o>1||o>0&&a>0)throw new ce(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zf extends X${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zf(e,n,r)}_apply(e){const n=this._parse(e);return sR(e._query,n),new ll(e.firestore,e.converter,Og(e._query,n))}_parse(e){const n=Uf(e.firestore);return function(i,o,a,l,c,h,p){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ce(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){s1(p,h);const _=[];for(const g of p)_.push(r1(l,i,g));f={arrayValue:{values:_}}}else f=r1(l,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||s1(p,h),f=K$(a,o,p,h==="in"||h==="not-in");return Ct.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Z$(t,e,n){const r=e,s=d0("where",t);return zf._create(s,r,n)}class f0 extends h0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new f0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)sR(o,l),o=Og(o,l)}(e._query,n),new ll(e.firestore,e.converter,Og(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function r1(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ce(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZI(e)&&n.indexOf("/")!==-1)throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!he.isDocumentKey(r))throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wE(t,new he(r))}if(n instanceof pn)return wE(t,n._key);throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lf(n)}.`)}function s1(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ez{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[bh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>gt(o.doubleValue));return new a0(i)}convertGeoPoint(e){return new o0(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);ze(xA(r));const s=new jc(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||ms(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oR extends rR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(d0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dd extends oR{data(e={}){return super.data(e)}}class tz{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dd(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Dd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Dd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:nz(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){t=_r(t,pn);const e=_r(t.firestore,ko);return M$(s0(e),t._key).then(n=>sz(e,t,n))}class aR extends ez{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function p0(t){t=_r(t,ll);const e=_r(t.firestore,ko),n=s0(e),r=new aR(e);return Y$(t._query),L$(n,t._query).then(s=>new tz(e,r,t,s))}function lR(t,e,n){t=_r(t,pn);const r=_r(t.firestore,ko),s=iR(t.converter,e);return Bf(r,[ZA(Uf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Jn.none())])}function cR(t,e,n,...r){t=_r(t,pn);const s=_r(t.firestore,ko),i=Uf(s);let o;return o=typeof(e=kt(e))=="string"||e instanceof Ff?q$(i,"updateDoc",t._key,e,n,r):W$(i,"updateDoc",t._key,e),Bf(s,[o.toMutation(t._key,Jn.exists(!0))])}function uR(t){return Bf(_r(t.firestore,ko),[new $y(t._key,Jn.none())])}function rz(t,e){const n=_r(t.firestore,ko),r=Tn(t),s=iR(t.converter,e);return Bf(n,[ZA(Uf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function Bf(t,e){return function(r,s){const i=new os;return r.asyncQueue.enqueueAndForget(async()=>S$(await j$(r),s,i)),i.promise}(s0(t),e)}function sz(t,e,n){const r=n.docs.get(e._key),s=new aR(t);return new oR(t,s,e._key,r,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){sl=s})(nl),Fa(new go("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ko(new Q5(r.getProvider("auth-internal")),new J5(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),di(aE,lE,e),di(aE,lE,"esm2017")})();const iz={apiKey:"AIzaSyALi3aD4f5MLqlRbL-sk2s2ReSgoxc6sW8",authDomain:"projeto-pet-746d8.firebaseapp.com",projectId:"projeto-pet-746d8",storageBucket:"projeto-pet-746d8.firebasestorage.app",messagingSenderId:"618638980041",appId:"1:618638980041:web:9a2db3de29db6619156e18",measurementId:"G-2XT8JZCRVS"},dR=Bb(iz),rd=W5(dR),zt=U$(dR),hR=y.createContext(void 0);function oz({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(null),[i,o]=y.useState(!0),a=async f=>{var v;try{const _=await Yi(Tn(zt,"usuarios",f));if(_.exists()){const g=_.data();console.log("usuario encontrado",g),console.log("type do usuario",g.type);const x={id:f,name:g.name,email:g.email,role:g.role||g.type||"user",type:g.type||g.role||"user",phone:g.phone,createdAt:((v=g.createdAt)==null?void 0:v.toDate())||new Date};s(x),console.log("userData atualizado",x)}else console.log("Documento do usuário não encontrado"),s({id:f,name:(e==null?void 0:e.displayName)||"",email:(e==null?void 0:e.email)||"",role:"user",type:"user",phone:"",createdAt:new Date})}catch(_){console.error("Erro ao buscar dados do usuário:",_)}};y.useEffect(()=>DU(rd,async v=>{console.log("Auth state changed:",v),n(v),v?await a(v.uid):s(null),o(!1)},v=>{console.error("Auth state error:",v),o(!1)}),[]);const l=async(f,v)=>{o(!0);try{const _=await AU(rd,f,v);await a(_.user.uid)}catch(_){throw console.error("Login error:",_),_}finally{o(!1)}},c=async(f,v,_,g)=>{o(!0);try{const x=await IU(rd,v,g);await PU(x.user,{displayName:f}),await lR(Tn(zt,"usuarios",x.user.uid),{name:f,email:v,phone:_,type:"user",createdAt:new Date}),await a(x.user.uid)}catch(x){throw console.error("Register error:",x),x}finally{o(!1)}},h=async()=>{try{await OU(rd),n(null),s(null)}catch(f){throw console.error("Logout error",f),f}},p=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.type)==="admin";return y.useEffect(()=>{console.log("Estado atual do contexto",{userData:r,isAdmin:p,role:r==null?void 0:r.role,type:r==null?void 0:r.type})},[r,p]),d.jsx(hR.Provider,{value:{user:e,userData:r,isLoading:i,login:l,register:c,logout:h,isAuthenticated:!!e,isAdmin:p},children:t})}function Br(){const t=y.useContext(hR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const m0=ty("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),De=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ho:"button";return d.jsx(o,{className:we(m0({variant:e,size:n,className:t})),ref:i,...s})});De.displayName="Button";function az(){var c;const{user:t,userData:e,logout:n,isAuthenticated:r,isAdmin:s}=Br(),[i,o]=y.useState(!1),a=()=>{o(!i)},l=async()=>{await n()};return d.jsxs("header",{className:"w-full bg-petgreen py-4 px-4 md:px-8",children:[d.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[d.jsxs(Le,{to:"/",className:"flex items-center text-white text-2xl font-bold",children:[d.jsx(Ma,{className:"mr-2",size:24}),d.jsx("span",{children:"PetFinder"})]}),d.jsxs("nav",{className:"hidden md:flex space-x-6",children:[d.jsx(Le,{to:"/",className:"text-white hover:text-opacity-80",children:"Início"}),d.jsx(Le,{to:"/encontrar-pet",className:"text-white hover:text-opacity-80",children:"Encontrar Pet"}),r&&d.jsx(Le,{to:"/meus-pets",className:"text-white hover:text-opacity-80",children:"Meus Pets"}),d.jsx(Le,{to:"/campanhas",className:"text-white hover:text-opacity-80",children:"Campanhas"}),d.jsx(Le,{to:"/sobre",className:"text-white hover:text-opacity-80",children:"Sobre"}),r&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.type)==="admin")&&d.jsx(Le,{to:"/admin/campanhas",className:"text-white hover:text-opacity-80",children:"Gerenciar/Campanhas"})]}),d.jsx("div",{className:"md:hidden",children:d.jsx(De,{variant:"ghost",size:"icon",onClick:a,className:"text-white",children:i?d.jsx(lh,{size:24}):d.jsx(wj,{size:24})})}),d.jsx("div",{className:"hidden md:flex items-center gap-3",children:r?d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"text-white",children:["Olá, ",(c=t==null?void 0:t.displayName)==null?void 0:c.split(" ")[0]]}),d.jsxs(De,{variant:"outline",className:"bg-white text-petgreen hover:bg-opacity-90",onClick:l,children:[d.jsx(nx,{className:"h-4 w-4 mr-2"}),"Sair"]})]}):d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(De,{variant:"outline",className:"bg-white text-petgreen hover:bg-opacity-90",children:d.jsx(Le,{to:"/login",children:"Entrar"})}),d.jsx(De,{variant:"outline",className:"bg-white text-petgreen hover:bg-opacity-90",children:d.jsx(Le,{to:"/cadastro",children:"Cadastre-se"})})]})})]}),i&&d.jsx("div",{className:"md:hidden fixed inset-0 z-50 bg-black/50",children:d.jsxs("div",{className:"bg-white h-full w-64 p-4 shadow-lg",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("span",{className:"font-bold text-xl text-petgreen",children:"Menu"}),d.jsx(De,{variant:"ghost",size:"icon",onClick:a,children:d.jsx(lh,{size:24})})]}),d.jsxs("nav",{className:"flex flex-col space-y-4",children:[d.jsx(Le,{to:"/",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Início"}),d.jsx(Le,{to:"/encontrar-pet",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Encontrar Pet"}),r&&d.jsx(Le,{to:"/meus-pets",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Meus Pets"}),d.jsx(Le,{to:"/campanhas",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Campanhas"}),d.jsx(Le,{to:"/sobre",className:"px-2 py-1 rounded hover:bg-gray-100",onClick:a,children:"Sobre"}),r&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.type)==="admin")&&d.jsx(Le,{to:"/admin/campanhas",className:"px-2 py-1 rounded hover:bg-gray-100 font-medium text-petgreen",onClick:a,children:"Gerenciar Campanhas"}),d.jsx("div",{className:"pt-4 border-t",children:r?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Logado como: ",t==null?void 0:t.email]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.type)==="admin")&&d.jsx("p",{className:"text-xs text-petgreen font-semibold mb-2",children:"Administrador"}),d.jsxs(De,{variant:"default",className:"w-full bg-petgreen hover:bg-opacity-90",onClick:()=>{l(),a()},children:[d.jsx(nx,{className:"h-4 w-4 mr-2"}),"Sair"]})]}):d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(De,{variant:"default",className:"w-full bg-petgreen hover:bg-opacity-90",onClick:a,children:d.jsx(Le,{to:"/login",className:"w-full text-white",children:"Entrar"})}),d.jsx(De,{variant:"outline",className:"w-full border-petgreen text-petgreen hover:bg-petgreen hover:text-white",onClick:a,children:d.jsx(Le,{to:"/cadastro",className:"w-full",children:"Cadastre-se"})})]})})]})]})})]})}function lz(){return d.jsx("footer",{className:"bg-gray-100 py-8 mt-16",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold mb-4 text-petgreen",children:"PetFinder"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Ajudamos tutores a encontrar seus pets perdidos com a tecnologia de QR Code."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"text-petgreen hover:text-petgreen-light",children:d.jsx(oj,{size:20})}),d.jsx("a",{href:"#",className:"text-petgreen hover:text-petgreen-light",children:d.jsx(Nj,{size:20})}),d.jsx("a",{href:"#",className:"text-petgreen hover:text-petgreen-light",children:d.jsx(dj,{size:20})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold mb-4 text-petgreen",children:"Links Úteis"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx(Le,{to:"/",className:"text-gray-600 hover:text-petgreen",children:"Início"})}),d.jsx("li",{children:d.jsx(Le,{to:"/encontrar-pet",className:"text-gray-600 hover:text-petgreen",children:"Encontrar Pet"})}),d.jsx("li",{children:d.jsx(Le,{to:"/meus-pets",className:"text-gray-600 hover:text-petgreen",children:"Meus Pets"})}),d.jsx("li",{children:d.jsx(Le,{to:"/campanhas",className:"text-gray-600 hover:text-petgreen",children:"Campanhas"})}),d.jsx("li",{children:d.jsx(Le,{to:"/sobre",className:"text-gray-600 hover:text-petgreen",children:"Sobre"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold mb-4 text-petgreen",children:"Contato"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(PC,{size:18,className:"text-petgreen mr-2"}),d.jsx("span",{className:"text-gray-600",children:"(11) 99999-9999"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(sy,{size:18,className:"text-petgreen mr-2"}),d.jsx("span",{className:"text-gray-600",children:"contato@petfinder.com"})]})]})]})]}),d.jsx("div",{className:"border-t border-gray-200 mt-8 pt-6 text-center text-gray-500 text-sm",children:d.jsxs("p",{children:["© ",new Date().getFullYear()," PetFinder. Todos os direitos reservados."]})})]})})}function xr({children:t}){return d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx(az,{}),d.jsx("main",{className:"flex-grow",children:t}),d.jsx(lz,{})]})}function cz(){const{user:t,userData:e,logout:n,isAuthenticated:r,isAdmin:s}=Br();return d.jsxs(xr,{children:[d.jsx("section",{className:"bg-white py-12 md:py-20",children:d.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center space-x-0 md:space-x-8",children:[d.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0 text-center md:text-left",children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Proteja seu Pet com a ",d.jsx("span",{className:"text-petgreen",children:"PetFinder"})]}),d.jsx("p",{className:"text-gray-600 mb-6 text-base md:text-lg",children:"Cadastre seu pet, gere um código exclusivo com QR Code para a coleira. Caso ele se perca, quem o encontrar poderá acessar seus dados de contato facilmente."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center md:justify-start",children:[!r&&d.jsx(De,{asChild:!0,className:"bg-petgreen text-white hover:bg-petgreen-light",children:d.jsx(Le,{to:"/cadastro",children:"Cadastre-se"})}),d.jsx(De,{asChild:!0,variant:"outline",className:"border-petgreen text-petgreen hover:bg-petgreen hover:text-white",children:d.jsx(Le,{to:"/encontrar-pet",children:"Encontrar Pet"})})]})]}),d.jsx("div",{className:"md:w-1/2 flex justify-center",children:d.jsx("img",{src:"/lovable-uploads/884ac099-bebd-40de-8076-19a91769615b.png",alt:"Pets",className:"max-w-full md:max-w-[500px] h-auto rounded-lg"})})]})}),d.jsx("section",{className:"bg-petblue-light py-12 md:py-16",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Sobre o PetFinder"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-left mb-10",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-petgreen mb-4",children:"Como Funciona?"}),d.jsx("p",{className:"text-gray-600",children:"O PetFinder é uma plataforma que ajuda tutores de pets a recuperar seus animais perdidos através de um sistema simples e eficaz de QR Code."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-petgreen mb-4",children:"Por que usar?"}),d.jsx("p",{className:"text-gray-600",children:"Maior chance de recuperar seu pet caso ele se perca. Quem encontrá-lo pode escanear o QR Code e entrar em contato com você imediatamente."})]})]}),d.jsx(De,{asChild:!0,className:"bg-petgreen text-white hover:bg-opacity-90",children:d.jsx(Le,{to:"/sobre",children:"Saiba Mais"})})]})})})]})}const uz=()=>{const t=_s();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},In=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));In.displayName="Card";const $r=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));$r.displayName="CardHeader";const vs=y.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));vs.displayName="CardTitle";const xo=y.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));xo.displayName="CardDescription";const An=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));An.displayName="CardContent";const uu=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));uu.displayName="CardFooter";function g0(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var v0="Checkbox",[dz,U7]=Pi(v0),[hz,fz]=dz(v0),fR=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:h,...p}=t,[f,v]=y.useState(null),_=Ue(e,I=>v(I)),g=y.useRef(!1),x=f?h||!!f.closest("form"):!0,[E=!1,w]=fo({prop:s,defaultProp:i,onChange:c}),S=y.useRef(E);return y.useEffect(()=>{const I=f==null?void 0:f.form;if(I){const k=()=>w(S.current);return I.addEventListener("reset",k),()=>I.removeEventListener("reset",k)}},[f,w]),d.jsxs(hz,{scope:n,state:E,disabled:a,children:[d.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":pi(E)?"mixed":E,"aria-required":o,"data-state":gR(E),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:_,onKeyDown:fe(t.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:fe(t.onClick,I=>{w(k=>pi(k)?!0:!k),x&&(g.current=I.isPropagationStopped(),g.current||I.stopPropagation())})}),x&&d.jsx(pz,{control:f,bubbles:!g.current,name:r,value:l,checked:E,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"},defaultChecked:pi(i)?!1:i})]})});fR.displayName=v0;var pR="CheckboxIndicator",mR=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=fz(pR,n);return d.jsx(Ni,{present:r||pi(i.state)||i.state===!0,children:d.jsx(Se.span,{"data-state":gR(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});mR.displayName=pR;var pz=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=y.useRef(null),a=g0(n),l=hy(e);y.useEffect(()=>{const h=o.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&v){const _=new Event("click",{bubbles:r});h.indeterminate=pi(n),v.call(h,pi(n)?!1:n),h.dispatchEvent(_)}},[a,n,r]);const c=y.useRef(pi(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pi(t){return t==="indeterminate"}function gR(t){return pi(t)?"indeterminate":t?"checked":"unchecked"}var vR=fR,mz=mR;const yR=y.forwardRef(({className:t,...e},n)=>d.jsx(vR,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(mz,{className:we("flex items-center justify-center text-current"),children:d.jsx(ry,{className:"h-4 w-4"})})}));yR.displayName=vR.displayName;const At=y.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));At.displayName="Input";var gz="Label",wR=y.forwardRef((t,e)=>d.jsx(Se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wR.displayName=gz;var _R=wR;const vz=ty("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),We=y.forwardRef(({className:t,...e},n)=>d.jsx(_R,{ref:n,className:we(vz(),t),...e}));We.displayName=_R.displayName;function yz(){const{login:t}=Br(),{toast:e}=Ao(),n=xs(),[r,s]=y.useState(!1),[i,o]=y.useState({email:"",password:"",rememberMe:!1}),a=h=>{const{name:p,value:f}=h.target;o(v=>({...v,[p]:f}))},l=h=>{o(p=>({...p,rememberMe:h}))},c=async h=>{h.preventDefault(),s(!0);try{await t(i.email,i.password),e({title:"Login bem-sucedido",description:"Você foi conectado com sucesso!",variant:"default"}),n("/meus-pets")}catch{e({title:"Erro ao fazer login",description:"Email ou senha incorretos.",variant:"destructive"})}finally{s(!1)}};return d.jsx(xr,{children:d.jsx("div",{className:"container mx-auto px-4 py-10",children:d.jsx("div",{className:"max-w-md mx-auto",children:d.jsxs(In,{className:"shadow-lg",children:[d.jsxs($r,{children:[d.jsx(vs,{className:"text-2xl text-center",children:"Login"}),d.jsx(xo,{className:"text-center",children:"Entre na sua conta para gerenciar seus pets"})]}),d.jsx(An,{children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(sy,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",className:"pl-10",required:!0,value:i.email,onChange:a})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(We,{htmlFor:"password",children:"Senha"}),d.jsx(Le,{to:"/esqueci-senha",className:"text-sm text-petgreen hover:underline",children:"Esqueceu a senha?"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(og,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"password",name:"password",type:"password",placeholder:"********",className:"pl-10",required:!0,value:i.password,onChange:a})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yR,{id:"remember",checked:i.rememberMe,onCheckedChange:l}),d.jsx(We,{htmlFor:"remember",className:"text-sm",children:"Lembrar de mim"})]}),d.jsx(De,{type:"submit",className:"w-full bg-petgreen hover:bg-opacity-90",disabled:r,children:r?"Entrando...":"Entrar"})]})}),d.jsx(uu,{className:"flex justify-center",children:d.jsx("div",{className:"text-center",children:d.jsxs("span",{className:"text-sm text-gray-500",children:["Não tem uma conta?"," ",d.jsx(Le,{to:"/cadastro",className:"text-petgreen hover:underline",children:"Cadastre-se"})]})})})]})})})})}var du=t=>t.type==="checkbox",Xi=t=>t instanceof Date,dn=t=>t==null;const xR=t=>typeof t=="object";var _t=t=>!dn(t)&&!Array.isArray(t)&&xR(t)&&!Xi(t),ER=t=>_t(t)&&t.target?du(t.target)?t.target.checked:t.target.value:t,wz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,TR=(t,e)=>t.has(wz(e)),_z=t=>{const e=t.constructor&&t.constructor.prototype;return _t(e)&&e.hasOwnProperty("isPrototypeOf")},y0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(y0&&(t instanceof Blob||r))&&(n||_t(t)))if(e=n?[]:{},!n&&!_z(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Vt(t[s]));else return t;return e}var Hf=t=>Array.isArray(t)?t.filter(Boolean):[],vt=t=>t===void 0,re=(t,e,n)=>{if(!e||!_t(t))return n;const r=Hf(e.split(/[,[\].]+?/)).reduce((s,i)=>dn(s)?s:s[i],t);return vt(r)||r===t?vt(t[e])?n:t[e]:r},jn=t=>typeof t=="boolean",w0=t=>/^\w*$/.test(t),SR=t=>Hf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(t,e,n)=>{let r=-1;const s=w0(e)?[e]:SR(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=_t(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Lh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ur={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xz=U.createContext(null),_0=()=>U.useContext(xz);var CR=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ur.all&&(e._proxyFormState[o]=!r||ur.all),n&&(n[o]=!0),t[o]}});return s};function Ez(t){const e=_0(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=U.useState(n._formState),l=U.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=U.useRef(s);return c.current=s,U.useEffect(()=>n._subscribe({name:c.current,formState:l.current,exact:i,callback:h=>{!r&&a({...n._formState,...h})}}),[n,r,i]),U.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),U.useMemo(()=>CR(o,n,l.current,!1),[o,n])}var kr=t=>typeof t=="string",bR=(t,e,n,r,s)=>kr(t)?(r&&e.watch.add(t),re(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),re(n,i))):(r&&(e.watchAll=!0),n);function Tz(t){const e=_0(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=U.useRef(r),l=U.useRef(s);a.current=r,U.useEffect(()=>n._subscribe({name:a.current,formState:{values:!0},exact:o,callback:p=>!i&&h(bR(a.current,n._names,p.values||n._formValues,!1,l.current))}),[n,i,o]);const[c,h]=U.useState(n._getWatch(r,s));return U.useEffect(()=>n._removeUnmounted()),c}function Sz(t){const e=_0(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=TR(s._names.array,n),a=Tz({control:s,name:n,defaultValue:re(s._formValues,n,re(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Ez({control:s,name:n,exact:!0}),c=U.useRef(t),h=U.useRef(s.register(n,{...t.rules,value:a,...jn(t.disabled)?{disabled:t.disabled}:{}})),p=U.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!re(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!re(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!re(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!re(l.validatingFields,n)},error:{enumerable:!0,get:()=>re(l.errors,n)}}),[l,n]),f=U.useCallback(x=>h.current.onChange({target:{value:ER(x),name:n},type:Lh.CHANGE}),[n]),v=U.useCallback(()=>h.current.onBlur({target:{value:re(s._formValues,n),name:n},type:Lh.BLUR}),[n,s._formValues]),_=U.useCallback(x=>{const E=re(s._fields,n);E&&x&&(E._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:w=>x.setCustomValidity(w),reportValidity:()=>x.reportValidity()})},[s._fields,n]),g=U.useMemo(()=>({name:n,value:a,...jn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:f,onBlur:v,ref:_}),[n,r,l.disabled,f,v,_,a]);return U.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(n,{...c.current.rules,...jn(c.current.disabled)?{disabled:c.current.disabled}:{}});const E=(w,S)=>{const I=re(s._fields,w);I&&I._f&&(I._f.mount=S)};if(E(n,!0),x){const w=Vt(re(s._options.defaultValues,n));Xe(s._defaultValues,n,w),vt(re(s._formValues,n))&&Xe(s._formValues,n,w)}return!o&&s.register(n),()=>{(o?x&&!s._state.action:x)?s.unregister(n):E(n,!1)}},[n,s,o,i]),U.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),U.useMemo(()=>({field:g,formState:l,fieldState:p}),[g,l,p])}const Vh=t=>t.render(Sz(t));var Cz=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},oc=t=>Array.isArray(t)?t:[t],i1=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},qg=t=>dn(t)||!xR(t);function Hs(t,e){if(qg(t)||qg(e))return t===e;if(Xi(t)&&Xi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Xi(i)&&Xi(o)||_t(i)&&_t(o)||Array.isArray(i)&&Array.isArray(o)?!Hs(i,o):i!==o)return!1}}return!0}var cn=t=>_t(t)&&!Object.keys(t).length,x0=t=>t.type==="file",dr=t=>typeof t=="function",Fh=t=>{if(!y0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},IR=t=>t.type==="select-multiple",E0=t=>t.type==="radio",bz=t=>E0(t)||du(t),em=t=>Fh(t)&&t.isConnected;function Iz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=vt(t)?r++:t[e[r++]];return t}function Az(t){for(const e in t)if(t.hasOwnProperty(e)&&!vt(t[e]))return!1;return!0}function bt(t,e){const n=Array.isArray(e)?e:w0(e)?[e]:SR(e),r=n.length===1?t:Iz(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(_t(r)&&cn(r)||Array.isArray(r)&&Az(r))&&bt(t,n.slice(0,-1)),t}var AR=t=>{for(const e in t)if(dr(t[e]))return!0;return!1};function Uh(t,e={}){const n=Array.isArray(t);if(_t(t)||n)for(const r in t)Array.isArray(t[r])||_t(t[r])&&!AR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Uh(t[r],e[r])):dn(t[r])||(e[r]=!0);return e}function RR(t,e,n){const r=Array.isArray(t);if(_t(t)||r)for(const s in t)Array.isArray(t[s])||_t(t[s])&&!AR(t[s])?vt(e)||qg(n[s])?n[s]=Array.isArray(t[s])?Uh(t[s],[]):{...Uh(t[s])}:RR(t[s],dn(e)?{}:e[s],n[s]):n[s]=!Hs(t[s],e[s]);return n}var kl=(t,e)=>RR(t,e,Uh(e));const o1={value:!1,isValid:!1},a1={value:!0,isValid:!0};var PR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!vt(t[0].attributes.value)?vt(t[0].value)||t[0].value===""?a1:{value:t[0].value,isValid:!0}:a1:o1}return o1},NR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>vt(t)?t:e?t===""?NaN:t&&+t:n&&kr(t)?new Date(t):r?r(t):t;const l1={isValid:!1,value:null};var kR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,l1):l1;function c1(t){const e=t.ref;return x0(e)?e.files:E0(e)?kR(t.refs).value:IR(e)?[...e.selectedOptions].map(({value:n})=>n):du(e)?PR(t.refs).value:NR(vt(e.value)?t.ref.value:e.value,t)}var Rz=(t,e,n,r)=>{const s={};for(const i of t){const o=re(e,i);o&&Xe(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},$h=t=>t instanceof RegExp,Dl=t=>vt(t)?t:$h(t)?t.source:_t(t)?$h(t.value)?t.value.source:t.value:t,u1=t=>({isOnSubmit:!t||t===ur.onSubmit,isOnBlur:t===ur.onBlur,isOnChange:t===ur.onChange,isOnAll:t===ur.all,isOnTouch:t===ur.onTouched});const d1="AsyncFunction";var Pz=t=>!!t&&!!t.validate&&!!(dr(t.validate)&&t.validate.constructor.name===d1||_t(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===d1)),Nz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),h1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ac=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=re(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ac(a,e))break}else if(_t(a)&&ac(a,e))break}}};function f1(t,e,n){const r=re(t,n);if(r||w0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=re(e,i),a=re(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var kz=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return cn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||ur.all))},Dz=(t,e,n)=>!t||!e||t===e||oc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Oz=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,jz=(t,e)=>!Hf(re(t,e)).length&&bt(t,e),Mz=(t,e,n)=>{const r=oc(re(t,n));return Xe(r,"root",e[n]),Xe(t,n,r),t},Od=t=>kr(t);function p1(t,e,n="validate"){if(Od(t)||Array.isArray(t)&&t.every(Od)||jn(t)&&!t)return{type:n,message:Od(t)?t:"",ref:e}}var Vo=t=>_t(t)&&!$h(t)?t:{value:t,message:""},m1=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:h,min:p,max:f,pattern:v,validate:_,name:g,valueAsNumber:x,mount:E}=t._f,w=re(n,g);if(!E||e.has(g))return{};const S=a?a[0]:o,I=O=>{s&&S.reportValidity&&(S.setCustomValidity(jn(O)?"":O||""),S.reportValidity())},k={},M=E0(o),b=du(o),C=M||b,A=(x||x0(o))&&vt(o.value)&&vt(w)||Fh(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,R=Cz.bind(null,g,r,k),D=(O,N,B,Z=Yr.maxLength,X=Yr.minLength)=>{const se=O?N:B;k[g]={type:O?Z:X,message:se,ref:o,...R(O?Z:X,se)}};if(i?!Array.isArray(w)||!w.length:l&&(!C&&(A||dn(w))||jn(w)&&!w||b&&!PR(a).isValid||M&&!kR(a).isValid)){const{value:O,message:N}=Od(l)?{value:!!l,message:l}:Vo(l);if(O&&(k[g]={type:Yr.required,message:N,ref:S,...R(Yr.required,N)},!r))return I(N),k}if(!A&&(!dn(p)||!dn(f))){let O,N;const B=Vo(f),Z=Vo(p);if(!dn(w)&&!isNaN(w)){const X=o.valueAsNumber||w&&+w;dn(B.value)||(O=X>B.value),dn(Z.value)||(N=X<Z.value)}else{const X=o.valueAsDate||new Date(w),se=ne=>new Date(new Date().toDateString()+" "+ne),V=o.type=="time",G=o.type=="week";kr(B.value)&&w&&(O=V?se(w)>se(B.value):G?w>B.value:X>new Date(B.value)),kr(Z.value)&&w&&(N=V?se(w)<se(Z.value):G?w<Z.value:X<new Date(Z.value))}if((O||N)&&(D(!!O,B.message,Z.message,Yr.max,Yr.min),!r))return I(k[g].message),k}if((c||h)&&!A&&(kr(w)||i&&Array.isArray(w))){const O=Vo(c),N=Vo(h),B=!dn(O.value)&&w.length>+O.value,Z=!dn(N.value)&&w.length<+N.value;if((B||Z)&&(D(B,O.message,N.message),!r))return I(k[g].message),k}if(v&&!A&&kr(w)){const{value:O,message:N}=Vo(v);if($h(O)&&!w.match(O)&&(k[g]={type:Yr.pattern,message:N,ref:o,...R(Yr.pattern,N)},!r))return I(N),k}if(_){if(dr(_)){const O=await _(w,n),N=p1(O,S);if(N&&(k[g]={...N,...R(Yr.validate,N.message)},!r))return I(N.message),k}else if(_t(_)){let O={};for(const N in _){if(!cn(O)&&!r)break;const B=p1(await _[N](w,n),S,N);B&&(O={...B,...R(N,B.message)},I(B.message),r&&(k[g]=O))}if(!cn(O)&&(k[g]={ref:S,...O},!r))return k}}return I(!0),k};const Lz={mode:ur.onSubmit,reValidateMode:ur.onChange,shouldFocusError:!0};function Vz(t={}){let e={...Lz,...t},n={submitCount:0,isDirty:!1,isLoading:dr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=_t(e.defaultValues)||_t(e.values)?Vt(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Vt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const f={array:i1(),state:i1()},v=u1(e.mode),_=u1(e.reValidateMode),g=e.criteriaMode===ur.all,x=j=>F=>{clearTimeout(c),c=setTimeout(j,F)},E=async j=>{if(!e.disabled&&(h.isValid||p.isValid||j)){const F=e.resolver?cn((await A()).errors):await D(r,!0);F!==n.isValid&&f.state.next({isValid:F})}},w=(j,F)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((j||Array.from(a.mount)).forEach(z=>{z&&(F?Xe(n.validatingFields,z,F):bt(n.validatingFields,z))}),f.state.next({validatingFields:n.validatingFields,isValidating:!cn(n.validatingFields)}))},S=(j,F=[],z,te,Q=!0,K=!0)=>{if(te&&z&&!e.disabled){if(o.action=!0,K&&Array.isArray(re(r,j))){const ie=z(re(r,j),te.argA,te.argB);Q&&Xe(r,j,ie)}if(K&&Array.isArray(re(n.errors,j))){const ie=z(re(n.errors,j),te.argA,te.argB);Q&&Xe(n.errors,j,ie),jz(n.errors,j)}if((h.touchedFields||p.touchedFields)&&K&&Array.isArray(re(n.touchedFields,j))){const ie=z(re(n.touchedFields,j),te.argA,te.argB);Q&&Xe(n.touchedFields,j,ie)}(h.dirtyFields||p.dirtyFields)&&(n.dirtyFields=kl(s,i)),f.state.next({name:j,isDirty:N(j,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Xe(i,j,F)},I=(j,F)=>{Xe(n.errors,j,F),f.state.next({errors:n.errors})},k=j=>{n.errors=j,f.state.next({errors:n.errors,isValid:!1})},M=(j,F,z,te)=>{const Q=re(r,j);if(Q){const K=re(i,j,vt(z)?re(s,j):z);vt(K)||te&&te.defaultChecked||F?Xe(i,j,F?K:c1(Q._f)):X(j,K),o.mount&&E()}},b=(j,F,z,te,Q)=>{let K=!1,ie=!1;const _e={name:j};if(!e.disabled){if(!z||te){(h.isDirty||p.isDirty)&&(ie=n.isDirty,n.isDirty=_e.isDirty=N(),K=ie!==_e.isDirty);const Je=Hs(re(s,j),F);ie=!!re(n.dirtyFields,j),Je?bt(n.dirtyFields,j):Xe(n.dirtyFields,j,!0),_e.dirtyFields=n.dirtyFields,K=K||(h.dirtyFields||p.dirtyFields)&&ie!==!Je}if(z){const Je=re(n.touchedFields,j);Je||(Xe(n.touchedFields,j,z),_e.touchedFields=n.touchedFields,K=K||(h.touchedFields||p.touchedFields)&&Je!==z)}K&&Q&&f.state.next(_e)}return K?_e:{}},C=(j,F,z,te)=>{const Q=re(n.errors,j),K=(h.isValid||p.isValid)&&jn(F)&&n.isValid!==F;if(e.delayError&&z?(l=x(()=>I(j,z)),l(e.delayError)):(clearTimeout(c),l=null,z?Xe(n.errors,j,z):bt(n.errors,j)),(z?!Hs(Q,z):Q)||!cn(te)||K){const ie={...te,...K&&jn(F)?{isValid:F}:{},errors:n.errors,name:j};n={...n,...ie},f.state.next(ie)}},A=async j=>{w(j,!0);const F=await e.resolver(i,e.context,Rz(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(j),F},R=async j=>{const{errors:F}=await A(j);if(j)for(const z of j){const te=re(F,z);te?Xe(n.errors,z,te):bt(n.errors,z)}else n.errors=F;return F},D=async(j,F,z={valid:!0})=>{for(const te in j){const Q=j[te];if(Q){const{_f:K,...ie}=Q;if(K){const _e=a.array.has(K.name),Je=Q._f&&Pz(Q._f);Je&&h.validatingFields&&w([te],!0);const Et=await m1(Q,a.disabled,i,g,e.shouldUseNativeValidation&&!F,_e);if(Je&&h.validatingFields&&w([te]),Et[K.name]&&(z.valid=!1,F))break;!F&&(re(Et,K.name)?_e?Mz(n.errors,Et,K.name):Xe(n.errors,K.name,Et[K.name]):bt(n.errors,K.name))}!cn(ie)&&await D(ie,F,z)}}return z.valid},O=()=>{for(const j of a.unMount){const F=re(r,j);F&&(F._f.refs?F._f.refs.every(z=>!em(z)):!em(F._f.ref))&&Ke(j)}a.unMount=new Set},N=(j,F)=>!e.disabled&&(j&&F&&Xe(i,j,F),!Hs(oe(),s)),B=(j,F,z)=>bR(j,a,{...o.mount?i:vt(F)?s:kr(j)?{[j]:F}:F},z,F),Z=j=>Hf(re(o.mount?i:s,j,e.shouldUnregister?re(s,j,[]):[])),X=(j,F,z={})=>{const te=re(r,j);let Q=F;if(te){const K=te._f;K&&(!K.disabled&&Xe(i,j,NR(F,K)),Q=Fh(K.ref)&&dn(F)?"":F,IR(K.ref)?[...K.ref.options].forEach(ie=>ie.selected=Q.includes(ie.value)):K.refs?du(K.ref)?K.refs.length>1?K.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(Q)?!!Q.find(_e=>_e===ie.value):Q===ie.value)):K.refs[0]&&(K.refs[0].checked=!!Q):K.refs.forEach(ie=>ie.checked=ie.value===Q):x0(K.ref)?K.ref.value="":(K.ref.value=Q,K.ref.type||f.state.next({name:j,values:Vt(i)})))}(z.shouldDirty||z.shouldTouch)&&b(j,Q,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&ee(j)},se=(j,F,z)=>{for(const te in F){const Q=F[te],K=`${j}.${te}`,ie=re(r,K);(a.array.has(j)||_t(Q)||ie&&!ie._f)&&!Xi(Q)?se(K,Q,z):X(K,Q,z)}},V=(j,F,z={})=>{const te=re(r,j),Q=a.array.has(j),K=Vt(F);Xe(i,j,K),Q?(f.array.next({name:j,values:Vt(i)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&z.shouldDirty&&f.state.next({name:j,dirtyFields:kl(s,i),isDirty:N(j,K)})):te&&!te._f&&!dn(K)?se(j,K,z):X(j,K,z),h1(j,a)&&f.state.next({...n}),f.state.next({name:o.mount?j:void 0,values:Vt(i)})},G=async j=>{o.mount=!0;const F=j.target;let z=F.name,te=!0;const Q=re(r,z),K=ie=>{te=Number.isNaN(ie)||Xi(ie)&&isNaN(ie.getTime())||Hs(ie,re(i,z,ie))};if(Q){let ie,_e;const Je=F.type?c1(Q._f):ER(j),Et=j.type===Lh.BLUR||j.type===Lh.FOCUS_OUT,Tr=!Nz(Q._f)&&!e.resolver&&!re(n.errors,z)&&!Q._f.deps||Oz(Et,re(n.touchedFields,z),n.isSubmitted,_,v),Hr=h1(z,a,Et);Xe(i,z,Je),Et?(Q._f.onBlur&&Q._f.onBlur(j),l&&l(0)):Q._f.onChange&&Q._f.onChange(j);const Cs=b(z,Je,Et),Wr=!cn(Cs)||Hr;if(!Et&&f.state.next({name:z,type:j.type,values:Vt(i)}),Tr)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?Et&&E():Et||E()),Wr&&f.state.next({name:z,...Hr?{}:Cs});if(!Et&&Hr&&f.state.next({...n}),e.resolver){const{errors:Pn}=await A([z]);if(K(Je),te){const ul=f1(n.errors,r,z),me=f1(Pn,r,ul.name||z);ie=me.error,z=me.name,_e=cn(Pn)}}else w([z],!0),ie=(await m1(Q,a.disabled,i,g,e.shouldUseNativeValidation))[z],w([z]),K(Je),te&&(ie?_e=!1:(h.isValid||p.isValid)&&(_e=await D(r,!0)));te&&(Q._f.deps&&ee(Q._f.deps),C(z,_e,ie,Cs))}},ne=(j,F)=>{if(re(n.errors,F)&&j.focus)return j.focus(),1},ee=async(j,F={})=>{let z,te;const Q=oc(j);if(e.resolver){const K=await R(vt(j)?j:Q);z=cn(K),te=j?!Q.some(ie=>re(K,ie)):z}else j?(te=(await Promise.all(Q.map(async K=>{const ie=re(r,K);return await D(ie&&ie._f?{[K]:ie}:ie)}))).every(Boolean),!(!te&&!n.isValid)&&E()):te=z=await D(r);return f.state.next({...!kr(j)||(h.isValid||p.isValid)&&z!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:z}:{},errors:n.errors}),F.shouldFocus&&!te&&ac(r,ne,j?Q:a.mount),te},oe=j=>{const F={...o.mount?i:s};return vt(j)?F:kr(j)?re(F,j):j.map(z=>re(F,z))},ue=(j,F)=>({invalid:!!re((F||n).errors,j),isDirty:!!re((F||n).dirtyFields,j),error:re((F||n).errors,j),isValidating:!!re(n.validatingFields,j),isTouched:!!re((F||n).touchedFields,j)}),Ne=j=>{j&&oc(j).forEach(F=>bt(n.errors,F)),f.state.next({errors:j?n.errors:{}})},Qe=(j,F,z)=>{const te=(re(r,j,{_f:{}})._f||{}).ref,Q=re(n.errors,j)||{},{ref:K,message:ie,type:_e,...Je}=Q;Xe(n.errors,j,{...Je,...F,ref:te}),f.state.next({name:j,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&te&&te.focus&&te.focus()},Ce=(j,F)=>dr(j)?f.state.subscribe({next:z=>j(B(void 0,F),z)}):B(j,F,!0),de=j=>f.state.subscribe({next:F=>{Dz(j.name,F.name,j.exact)&&kz(F,j.formState||h,ut,j.reRenderRoot)&&j.callback({values:{...i},...n,...F})}}).unsubscribe,je=j=>(o.mount=!0,p={...p,...j.formState},de({...j,formState:p})),Ke=(j,F={})=>{for(const z of j?oc(j):a.mount)a.mount.delete(z),a.array.delete(z),F.keepValue||(bt(r,z),bt(i,z)),!F.keepError&&bt(n.errors,z),!F.keepDirty&&bt(n.dirtyFields,z),!F.keepTouched&&bt(n.touchedFields,z),!F.keepIsValidating&&bt(n.validatingFields,z),!e.shouldUnregister&&!F.keepDefaultValue&&bt(s,z);f.state.next({values:Vt(i)}),f.state.next({...n,...F.keepDirty?{isDirty:N()}:{}}),!F.keepIsValid&&E()},Ee=({disabled:j,name:F})=>{(jn(j)&&o.mount||j||a.disabled.has(F))&&(j?a.disabled.add(F):a.disabled.delete(F))},be=(j,F={})=>{let z=re(r,j);const te=jn(F.disabled)||jn(e.disabled);return Xe(r,j,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:j}},name:j,mount:!0,...F}}),a.mount.add(j),z?Ee({disabled:jn(F.disabled)?F.disabled:e.disabled,name:j}):M(j,!0,F.value),{...te?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Dl(F.min),max:Dl(F.max),minLength:Dl(F.minLength),maxLength:Dl(F.maxLength),pattern:Dl(F.pattern)}:{},name:j,onChange:G,onBlur:G,ref:Q=>{if(Q){be(j,F),z=re(r,j);const K=vt(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,ie=bz(K),_e=z._f.refs||[];if(ie?_e.find(Je=>Je===K):K===z._f.ref)return;Xe(r,j,{_f:{...z._f,...ie?{refs:[..._e.filter(em),K,...Array.isArray(re(s,j))?[{}]:[]],ref:{type:K.type,name:j}}:{ref:K}}}),M(j,!1,void 0,K)}else z=re(r,j,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(TR(a.array,j)&&o.action)&&a.unMount.add(j)}}},Ie=()=>e.shouldFocusError&&ac(r,ne,a.mount),mt=j=>{jn(j)&&(f.state.next({disabled:j}),ac(r,(F,z)=>{const te=re(r,z);te&&(F.disabled=te._f.disabled||j,Array.isArray(te._f.refs)&&te._f.refs.forEach(Q=>{Q.disabled=te._f.disabled||j}))},0,!1))},xt=(j,F)=>async z=>{let te;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let Q=Vt(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:ie}=await A();n.errors=K,Q=ie}else await D(r);if(a.disabled.size)for(const K of a.disabled)Xe(Q,K,void 0);if(bt(n.errors,"root"),cn(n.errors)){f.state.next({errors:{}});try{await j(Q,z)}catch(K){te=K}}else F&&await F({...n.errors},z),Ie(),setTimeout(Ie);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},vn=(j,F={})=>{re(r,j)&&(vt(F.defaultValue)?V(j,Vt(re(s,j))):(V(j,F.defaultValue),Xe(s,j,Vt(F.defaultValue))),F.keepTouched||bt(n.touchedFields,j),F.keepDirty||(bt(n.dirtyFields,j),n.isDirty=F.defaultValue?N(j,Vt(re(s,j))):N()),F.keepError||(bt(n.errors,j),h.isValid&&E()),f.state.next({...n}))},Dt=(j,F={})=>{const z=j?Vt(j):s,te=Vt(z),Q=cn(j),K=Q?s:te;if(F.keepDefaultValues||(s=z),!F.keepValues){if(F.keepDirtyValues){const ie=new Set([...a.mount,...Object.keys(kl(s,i))]);for(const _e of Array.from(ie))re(n.dirtyFields,_e)?Xe(K,_e,re(i,_e)):V(_e,re(K,_e))}else{if(y0&&vt(j))for(const ie of a.mount){const _e=re(r,ie);if(_e&&_e._f){const Je=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Fh(Je)){const Et=Je.closest("form");if(Et){Et.reset();break}}}}for(const ie of a.mount)V(ie,re(K,ie))}i=Vt(K),f.array.next({values:{...K}}),f.state.next({values:{...K}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:Q?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Hs(j,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Q?{}:F.keepDirtyValues?F.keepDefaultValues&&i?kl(s,i):n.dirtyFields:F.keepDefaultValues&&j?kl(s,j):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Hn=(j,F)=>Dt(dr(j)?j(i):j,F),Vi=(j,F={})=>{const z=re(r,j),te=z&&z._f;if(te){const Q=te.refs?te.refs[0]:te.ref;Q.focus&&(Q.focus(),F.shouldSelect&&dr(Q.select)&&Q.select())}},ut=j=>{n={...n,...j}},Fi={control:{register:be,unregister:Ke,getFieldState:ue,handleSubmit:xt,setError:Qe,_subscribe:de,_runSchema:A,_getWatch:B,_getDirty:N,_setValid:E,_setFieldArray:S,_setDisabledField:Ee,_setErrors:k,_getFieldArray:Z,_reset:Dt,_resetDefaultValues:()=>dr(e.defaultValues)&&e.defaultValues().then(j=>{Hn(j,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:mt,_subjects:f,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return n},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:je,trigger:ee,register:be,handleSubmit:xt,watch:Ce,setValue:V,getValues:oe,reset:Hn,resetField:vn,clearErrors:Ne,unregister:Ke,setError:Qe,setFocus:Vi,getFieldState:ue};return{...Fi,formControl:Fi}}function T0(t={}){const e=U.useRef(void 0),n=U.useRef(void 0),[r,s]=U.useState({isDirty:!1,isValidating:!1,isLoading:dr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:dr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Vz(t),formState:r},t.formControl&&t.defaultValues&&!dr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,U.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),U.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),U.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),U.useEffect(()=>{t.values&&!Hs(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),U.useEffect(()=>{t.errors&&!cn(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),U.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),U.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=CR(r,i),e.current}function Fz(){const{register:t}=Br(),{toast:e}=Ao(),n=xs(),[r,s]=y.useState(!1),{register:i,handleSubmit:o,formState:{errors:a},watch:l}=T0(),c=l("password",""),h=async p=>{s(!0);try{await t(p.name,p.email,p.phone,p.password),e({title:"Cadastro realizado com sucesso",description:"Sua conta foi criada com sucesso!",variant:"default"}),n("/meus-pets")}catch(f){e({title:"Erro ao criar conta",description:f.message||"Ocorreu um erro ao tentar criar sua conta. Tente novamente.",variant:"destructive"})}finally{s(!1)}};return d.jsx(xr,{children:d.jsx("div",{className:"container mx-auto px-4 py-10",children:d.jsx("div",{className:"max-w-lg mx-auto",children:d.jsxs(In,{className:"shadow-lg",children:[d.jsxs($r,{children:[d.jsx(vs,{className:"text-2xl text-center",children:"Cadastro"}),d.jsx(xo,{className:"text-center",children:"Crie sua conta para começar a usar o PetFinder"})]}),d.jsx(An,{children:d.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"name",children:"Nome Completo"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(Oj,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"name",...i("name",{required:!0}),type:"text",placeholder:"Seu nome completo",className:`pl-10 ${a.name?"border-red-500":""}`})]}),a.name&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Nome é obrigatório"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(sy,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"email",...i("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}),type:"email",placeholder:"seu@email.com",className:`pl-10 ${a.email?"border-red-500":""}`})]}),a.email&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.email.type==="required"?"Email é obrigatório":"Email inválido"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"phone",children:"Telefone"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(PC,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"phone",...i("phone",{required:!0}),type:"tel",placeholder:"(00) 00000-0000",className:`pl-10 ${a.phone?"border-red-500":""}`})]}),a.phone&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Telefone é obrigatório"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"password",children:"Senha"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(og,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"password",...i("password",{required:!0,minLength:6}),type:"password",placeholder:"********",className:`pl-10 ${a.password?"border-red-500":""}`})]}),a.password&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.password.type==="required"?"Senha é obrigatória":"Senha deve ter no mínimo 6 caracteres"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"confirmPassword",children:"Confirme a Senha"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(og,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"confirmPassword",...i("confirmPassword",{required:!0,validate:p=>p===c||"As senhas não coincidem"}),type:"password",placeholder:"********",className:`pl-10 ${a.confirmPassword?"border-red-500":""}`})]}),a.confirmPassword&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.confirmPassword.type==="required"?"Confirmação de senha é obrigatória":"As senhas não coincidem"})]}),d.jsx("div",{className:"pt-2",children:d.jsx(De,{type:"submit",className:"w-full bg-petgreen hover:bg-opacity-90",disabled:r,children:r?"Cadastrando...":"Cadastrar"})})]})}),d.jsx(uu,{className:"flex justify-center",children:d.jsx("div",{className:"text-center",children:d.jsxs("span",{className:"text-sm text-gray-500",children:["Já tem uma conta?"," ",d.jsx(Le,{to:"/login",className:"text-petgreen hover:underline",children:"Faça login"})]})})})]})})})})}const S0=y.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));S0.displayName="Textarea";function g1(t,[e,n]){return Math.min(n,Math.max(e,t))}var Uz=y.createContext(void 0);function C0(t){const e=y.useContext(Uz);return t||e||"ltr"}var tm=0;function DR(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??v1()),document.body.insertAdjacentElement("beforeend",t[1]??v1()),tm++,()=>{tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tm--}},[])}function v1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var nm="focusScope.autoFocusOnMount",rm="focusScope.autoFocusOnUnmount",y1={bubbles:!1,cancelable:!0},$z="FocusScope",b0=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=Rn(s),h=Rn(i),p=y.useRef(null),f=Ue(e,g=>l(g)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(S){if(v.paused||!a)return;const I=S.target;a.contains(I)?p.current=I:js(p.current,{select:!0})},x=function(S){if(v.paused||!a)return;const I=S.relatedTarget;I!==null&&(a.contains(I)||js(p.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&js(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){_1.add(v);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(nm,y1);a.addEventListener(nm,c),a.dispatchEvent(E),E.defaultPrevented||(zz(Kz(OR(a)),{select:!0}),document.activeElement===g&&js(a))}return()=>{a.removeEventListener(nm,c),setTimeout(()=>{const E=new CustomEvent(rm,y1);a.addEventListener(rm,h),a.dispatchEvent(E),E.defaultPrevented||js(g??document.body,{select:!0}),a.removeEventListener(rm,h),_1.remove(v)},0)}}},[a,c,h,v]);const _=y.useCallback(g=>{if(!n&&!r||v.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(x&&E){const w=g.currentTarget,[S,I]=Bz(w);S&&I?!g.shiftKey&&E===I?(g.preventDefault(),n&&js(S,{select:!0})):g.shiftKey&&E===S&&(g.preventDefault(),n&&js(I,{select:!0})):E===w&&g.preventDefault()}},[n,r,v.paused]);return d.jsx(Se.div,{tabIndex:-1,...o,ref:f,onKeyDown:_})});b0.displayName=$z;function zz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(js(r,{select:e}),document.activeElement!==n)return}function Bz(t){const e=OR(t),n=w1(e,t),r=w1(e.reverse(),t);return[n,r]}function OR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function w1(t,e){for(const n of t)if(!Hz(n,{upTo:e}))return n}function Hz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Wz(t){return t instanceof HTMLInputElement&&"select"in t}function js(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Wz(t)&&e&&t.select()}}var _1=qz();function qz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=x1(t,e),t.unshift(e)},remove(e){var n;t=x1(t,e),(n=t[0])==null||n.resume()}}}function x1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Kz(t){return t.filter(e=>e.tagName!=="A")}var Gz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fo=new WeakMap,sd=new WeakMap,id={},sm=0,jR=function(t){return t&&(t.host||jR(t.parentNode))},Qz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Yz=function(t,e,n,r){var s=Qz(e,Array.isArray(t)?t:[t]);id[n]||(id[n]=new WeakMap);var i=id[n],o=[],a=new Set,l=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var v=f.getAttribute(r),_=v!==null&&v!=="false",g=(Fo.get(f)||0)+1,x=(i.get(f)||0)+1;Fo.set(f,g),i.set(f,x),o.push(f),g===1&&_&&sd.set(f,!0),x===1&&f.setAttribute(n,"true"),_||f.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",f,E)}})};return h(e),a.clear(),sm++,function(){o.forEach(function(p){var f=Fo.get(p)-1,v=i.get(p)-1;Fo.set(p,f),i.set(p,v),f||(sd.has(p)||p.removeAttribute(r),sd.delete(p)),v||p.removeAttribute(n)}),sm--,sm||(Fo=new WeakMap,Fo=new WeakMap,sd=new WeakMap,id={})}},MR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Gz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Yz(r,s,n,"aria-hidden")):function(){return null}},jd="right-scroll-bar-position",Md="width-before-scroll-bar",Xz="with-scroll-bars-hidden",Jz="--removed-body-scroll-bar-size";function im(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Zz(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var eB=typeof window<"u"?y.useLayoutEffect:y.useEffect,E1=new WeakMap;function tB(t,e){var n=Zz(null,function(r){return t.forEach(function(s){return im(s,r)})});return eB(function(){var r=E1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||im(a,null)}),i.forEach(function(a){s.has(a)||im(a,o)})}E1.set(n,t)},[t]),n}function nB(t){return t}function rB(t,e){e===void 0&&(e=nB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function sB(t){t===void 0&&(t={});var e=rB(null);return e.options=Nr({async:!0,ssr:!1},t),e}var LR=function(t){var e=t.sideCar,n=Zc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Nr({},n))};LR.isSideCarExport=!0;function iB(t,e){return t.useMedium(e),LR}var VR=sB(),om=function(){},Wf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:om,onWheelCapture:om,onTouchMoveCapture:om}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,v=t.noIsolation,_=t.inert,g=t.allowPinchZoom,x=t.as,E=x===void 0?"div":x,w=t.gapMode,S=Zc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,k=tB([n,e]),M=Nr(Nr({},S),s);return y.createElement(y.Fragment,null,h&&y.createElement(I,{sideCar:VR,removeScrollBar:c,shards:p,noIsolation:v,inert:_,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?y.cloneElement(y.Children.only(a),Nr(Nr({},M),{ref:k})):y.createElement(E,Nr({},M,{className:l,ref:k}),a))});Wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wf.classNames={fullWidth:Md,zeroRight:jd};var oB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oB();return e&&t.setAttribute("nonce",e),t}function lB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var uB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aB())&&(lB(e,n),cB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dB=function(){var t=uB();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},FR=function(){var t=dB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},hB={left:0,top:0,right:0,gap:0},am=function(t){return parseInt(t||"",10)||0},fB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[am(n),am(r),am(s)]},pB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return hB;var e=fB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mB=FR(),ya="data-scroll-locked",gB=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Xz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ya,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Md,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jd," .").concat(jd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Md," .").concat(Md,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ya,`] {
    `).concat(Jz,": ").concat(a,`px;
  }
`)},T1=function(){var t=parseInt(document.body.getAttribute(ya)||"0",10);return isFinite(t)?t:0},vB=function(){y.useEffect(function(){return document.body.setAttribute(ya,(T1()+1).toString()),function(){var t=T1()-1;t<=0?document.body.removeAttribute(ya):document.body.setAttribute(ya,t.toString())}},[])},yB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;vB();var i=y.useMemo(function(){return pB(s)},[s]);return y.createElement(mB,{styles:gB(i,!e,s,n?"":"!important")})},Kg=!1;if(typeof window<"u")try{var od=Object.defineProperty({},"passive",{get:function(){return Kg=!0,!0}});window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{Kg=!1}var Uo=Kg?{passive:!1}:!1,wB=function(t){return t.tagName==="TEXTAREA"},UR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wB(t)&&n[e]==="visible")},_B=function(t){return UR(t,"overflowY")},xB=function(t){return UR(t,"overflowX")},S1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$R(t,r);if(s){var i=zR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},EB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},TB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$R=function(t,e){return t==="v"?_B(e):xB(e)},zR=function(t,e){return t==="v"?EB(e):TB(e)},SB=function(t,e){return t==="h"&&e==="rtl"?-1:1},CB=function(t,e,n,r,s){var i=SB(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,p=0,f=0;do{var v=zR(t,a),_=v[0],g=v[1],x=v[2],E=g-x-i*_;(_||E)&&$R(t,a)&&(p+=E,f+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(c=!0),c},ad=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},C1=function(t){return[t.deltaX,t.deltaY]},b1=function(t){return t&&"current"in t?t.current:t},bB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},IB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AB=0,$o=[];function RB(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(AB++)[0],i=y.useState(FR)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=R3([t.lockRef.current],(t.shards||[]).map(b1),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=ad(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-E[0],I="deltaY"in g?g.deltaY:w[1]-E[1],k,M=g.target,b=Math.abs(S)>Math.abs(I)?"h":"v";if("touches"in g&&b==="h"&&M.type==="range")return!1;var C=S1(b,M);if(!C)return!0;if(C?k=b:(k=b==="v"?"h":"v",C=S1(b,M)),!C)return!1;if(!r.current&&"changedTouches"in g&&(S||I)&&(r.current=k),!k)return!0;var A=r.current||k;return CB(A,x,g,A==="h"?S:I,!0)},[]),l=y.useCallback(function(g){var x=g;if(!(!$o.length||$o[$o.length-1]!==i)){var E="deltaY"in x?C1(x):ad(x),w=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&bB(k.delta,E)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(b1).filter(Boolean).filter(function(k){return k.contains(x.target)}),I=S.length>0?a(x,S[0]):!o.current.noIsolation;I&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(g,x,E,w){var S={name:g,delta:x,target:E,should:w,shadowParent:PB(E)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(I){return I!==S})},1)},[]),h=y.useCallback(function(g){n.current=ad(g),r.current=void 0},[]),p=y.useCallback(function(g){c(g.type,C1(g),g.target,a(g,t.lockRef.current))},[]),f=y.useCallback(function(g){c(g.type,ad(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return $o.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Uo),document.addEventListener("touchmove",l,Uo),document.addEventListener("touchstart",h,Uo),function(){$o=$o.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Uo),document.removeEventListener("touchmove",l,Uo),document.removeEventListener("touchstart",h,Uo)}},[]);var v=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(i,{styles:IB(s)}):null,v?y.createElement(yB,{gapMode:t.gapMode}):null)}function PB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const NB=iB(VR,RB);var I0=y.forwardRef(function(t,e){return y.createElement(Wf,Nr({},t,{ref:e,sideCar:NB}))});I0.classNames=Wf.classNames;var kB=[" ","Enter","ArrowUp","ArrowDown"],DB=[" ","Enter"],hu="Select",[qf,Kf,OB]=Xv(hu),[cl,$7]=Pi(hu,[OB,gf]),Gf=gf(),[jB,Mi]=cl(hu),[MB,LB]=cl(hu),BR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:p,disabled:f,required:v,form:_}=t,g=Gf(e),[x,E]=y.useState(null),[w,S]=y.useState(null),[I,k]=y.useState(!1),M=C0(c),[b=!1,C]=fo({prop:r,defaultProp:s,onChange:i}),[A,R]=fo({prop:o,defaultProp:a,onChange:l}),D=y.useRef(null),O=x?_||!!x.closest("form"):!0,[N,B]=y.useState(new Set),Z=Array.from(N).map(X=>X.props.value).join(";");return d.jsx(nV,{...g,children:d.jsxs(jB,{required:v,scope:e,trigger:x,onTriggerChange:E,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:I,onValueNodeHasChildrenChange:k,contentId:so(),value:A,onValueChange:R,open:b,onOpenChange:C,dir:M,triggerPointerDownPosRef:D,disabled:f,children:[d.jsx(qf.Provider,{scope:e,children:d.jsx(MB,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(X=>{B(se=>new Set(se).add(X))},[]),onNativeOptionRemove:y.useCallback(X=>{B(se=>{const V=new Set(se);return V.delete(X),V})},[]),children:n})}),O?d.jsxs(pP,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:p,value:A,onChange:X=>R(X.target.value),disabled:f,form:_,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(N)]},Z):null]})})};BR.displayName=hu;var HR="SelectTrigger",WR=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Gf(n),o=Mi(HR,n),a=o.disabled||r,l=Ue(e,o.onTriggerChange),c=Kf(n),h=y.useRef("touch"),[p,f,v]=mP(g=>{const x=c().filter(S=>!S.disabled),E=x.find(S=>S.value===o.value),w=gP(x,g,E);w!==void 0&&o.onValueChange(w.value)}),_=g=>{a||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(ab,{asChild:!0,...i,children:d.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fP(o.value)?"":void 0,...s,ref:l,onClick:fe(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&_(g)}),onPointerDown:fe(s.onPointerDown,g=>{h.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(_(g),g.preventDefault())}),onKeyDown:fe(s.onKeyDown,g=>{const x=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&kB.includes(g.key)&&(_(),g.preventDefault())})})})});WR.displayName=HR;var qR="SelectValue",KR=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Mi(qR,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,p=Ue(e,l.onValueNodeChange);return sn(()=>{c(h)},[c,h]),d.jsx(Se.span,{...a,ref:p,style:{pointerEvents:"none"},children:fP(l.value)?d.jsx(d.Fragment,{children:o}):i})});KR.displayName=qR;var VB="SelectIcon",GR=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Se.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});GR.displayName=VB;var FB="SelectPortal",QR=t=>d.jsx(uf,{asChild:!0,...t});QR.displayName=FB;var Eo="SelectContent",YR=y.forwardRef((t,e)=>{const n=Mi(Eo,t.__scopeSelect),[r,s]=y.useState();if(sn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Io.createPortal(d.jsx(XR,{scope:t.__scopeSelect,children:d.jsx(qf.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(JR,{...t,ref:e})});YR.displayName=Eo;var sr=10,[XR,Li]=cl(Eo),UB="SelectContentImpl",JR=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:x,...E}=t,w=Mi(Eo,n),[S,I]=y.useState(null),[k,M]=y.useState(null),b=Ue(e,de=>I(de)),[C,A]=y.useState(null),[R,D]=y.useState(null),O=Kf(n),[N,B]=y.useState(!1),Z=y.useRef(!1);y.useEffect(()=>{if(S)return MR(S)},[S]),DR();const X=y.useCallback(de=>{const[je,...Ke]=O().map(Ie=>Ie.ref.current),[Ee]=Ke.slice(-1),be=document.activeElement;for(const Ie of de)if(Ie===be||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===je&&k&&(k.scrollTop=0),Ie===Ee&&k&&(k.scrollTop=k.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==be))return},[O,k]),se=y.useCallback(()=>X([C,S]),[X,C,S]);y.useEffect(()=>{N&&se()},[N,se]);const{onOpenChange:V,triggerPointerDownPosRef:G}=w;y.useEffect(()=>{if(S){let de={x:0,y:0};const je=Ee=>{var be,Ie;de={x:Math.abs(Math.round(Ee.pageX)-(((be=G.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Ie=G.current)==null?void 0:Ie.y)??0))}},Ke=Ee=>{de.x<=10&&de.y<=10?Ee.preventDefault():S.contains(Ee.target)||V(!1),document.removeEventListener("pointermove",je),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ke,{capture:!0})}}},[S,V,G]),y.useEffect(()=>{const de=()=>V(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[V]);const[ne,ee]=mP(de=>{const je=O().filter(be=>!be.disabled),Ke=je.find(be=>be.ref.current===document.activeElement),Ee=gP(je,de,Ke);Ee&&setTimeout(()=>Ee.ref.current.focus())}),oe=y.useCallback((de,je,Ke)=>{const Ee=!Z.current&&!Ke;(w.value!==void 0&&w.value===je||Ee)&&(A(de),Ee&&(Z.current=!0))},[w.value]),ue=y.useCallback(()=>S==null?void 0:S.focus(),[S]),Ne=y.useCallback((de,je,Ke)=>{const Ee=!Z.current&&!Ke;(w.value!==void 0&&w.value===je||Ee)&&D(de)},[w.value]),Qe=r==="popper"?Gg:ZR,Ce=Qe===Gg?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:x}:{};return d.jsx(XR,{scope:n,content:S,viewport:k,onViewportChange:M,itemRefCallback:oe,selectedItem:C,onItemLeave:ue,itemTextRefCallback:Ne,focusSelectedItem:se,selectedItemText:R,position:r,isPositioned:N,searchRef:ne,children:d.jsx(I0,{as:ho,allowPinchZoom:!0,children:d.jsx(b0,{asChild:!0,trapped:w.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:fe(s,de=>{var je;(je=w.trigger)==null||je.focus({preventScroll:!0}),de.preventDefault()}),children:d.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(Qe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:de=>de.preventDefault(),...E,...Ce,onPlaced:()=>B(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:fe(E.onKeyDown,de=>{const je=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!je&&de.key.length===1&&ee(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Ee=O().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const be=de.target,Ie=Ee.indexOf(be);Ee=Ee.slice(Ie+1)}setTimeout(()=>X(Ee)),de.preventDefault()}})})})})})})});JR.displayName=UB;var $B="SelectItemAlignedPosition",ZR=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Mi(Eo,n),o=Li(Eo,n),[a,l]=y.useState(null),[c,h]=y.useState(null),p=Ue(e,b=>h(b)),f=Kf(n),v=y.useRef(!1),_=y.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:E,focusSelectedItem:w}=o,S=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&x&&E){const b=i.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),R=E.getBoundingClientRect();if(i.dir!=="rtl"){const be=R.left-C.left,Ie=A.left-be,mt=b.left-Ie,xt=b.width+mt,vn=Math.max(xt,C.width),Dt=window.innerWidth-sr,Hn=g1(Ie,[sr,Math.max(sr,Dt-vn)]);a.style.minWidth=xt+"px",a.style.left=Hn+"px"}else{const be=C.right-R.right,Ie=window.innerWidth-A.right-be,mt=window.innerWidth-b.right-Ie,xt=b.width+mt,vn=Math.max(xt,C.width),Dt=window.innerWidth-sr,Hn=g1(Ie,[sr,Math.max(sr,Dt-vn)]);a.style.minWidth=xt+"px",a.style.right=Hn+"px"}const D=f(),O=window.innerHeight-sr*2,N=g.scrollHeight,B=window.getComputedStyle(c),Z=parseInt(B.borderTopWidth,10),X=parseInt(B.paddingTop,10),se=parseInt(B.borderBottomWidth,10),V=parseInt(B.paddingBottom,10),G=Z+X+N+V+se,ne=Math.min(x.offsetHeight*5,G),ee=window.getComputedStyle(g),oe=parseInt(ee.paddingTop,10),ue=parseInt(ee.paddingBottom,10),Ne=b.top+b.height/2-sr,Qe=O-Ne,Ce=x.offsetHeight/2,de=x.offsetTop+Ce,je=Z+X+de,Ke=G-je;if(je<=Ne){const be=D.length>0&&x===D[D.length-1].ref.current;a.style.bottom="0px";const Ie=c.clientHeight-g.offsetTop-g.offsetHeight,mt=Math.max(Qe,Ce+(be?ue:0)+Ie+se),xt=je+mt;a.style.height=xt+"px"}else{const be=D.length>0&&x===D[0].ref.current;a.style.top="0px";const mt=Math.max(Ne,Z+g.offsetTop+(be?oe:0)+Ce)+Ke;a.style.height=mt+"px",g.scrollTop=je-Ne+g.offsetTop}a.style.margin=`${sr}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[f,i.trigger,i.valueNode,a,c,g,x,E,i.dir,r]);sn(()=>S(),[S]);const[I,k]=y.useState();sn(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const M=y.useCallback(b=>{b&&_.current===!0&&(S(),w==null||w(),_.current=!1)},[S,w]);return d.jsx(BB,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:d.jsx(Se.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ZR.displayName=$B;var zB="SelectPopperPosition",Gg=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=sr,...i}=t,o=Gf(n);return d.jsx(lb,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gg.displayName=zB;var[BB,A0]=cl(Eo,{}),Qg="SelectViewport",eP=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Li(Qg,n),o=A0(Qg,n),a=Ue(e,i.onViewportChange),l=y.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(qf.Slot,{scope:n,children:d.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const v=Math.abs(l.current-h.scrollTop);if(v>0){const _=window.innerHeight-sr*2,g=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),E=Math.max(g,x);if(E<_){const w=E+v,S=Math.min(_,w),I=w-S;p.style.height=S+"px",p.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});eP.displayName=Qg;var tP="SelectGroup",[HB,WB]=cl(tP),qB=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=so();return d.jsx(HB,{scope:n,id:s,children:d.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});qB.displayName=tP;var nP="SelectLabel",rP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=WB(nP,n);return d.jsx(Se.div,{id:s.id,...r,ref:e})});rP.displayName=nP;var zh="SelectItem",[KB,sP]=cl(zh),iP=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Mi(zh,n),l=Li(zh,n),c=a.value===r,[h,p]=y.useState(i??""),[f,v]=y.useState(!1),_=Ue(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),g=so(),x=y.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(KB,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:y.useCallback(w=>{p(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(qf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(Se.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:fe(o.onFocus,()=>v(!0)),onBlur:fe(o.onBlur,()=>v(!1)),onClick:fe(o.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:fe(o.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:fe(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:fe(o.onPointerMove,w=>{var S;x.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:fe(o.onKeyDown,w=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&w.key===" "||(DB.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});iP.displayName=zh;var Hl="SelectItemText",oP=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Mi(Hl,n),a=Li(Hl,n),l=sP(Hl,n),c=LB(Hl,n),[h,p]=y.useState(null),f=Ue(e,E=>p(E),l.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,l.value,l.disabled)}),v=h==null?void 0:h.textContent,_=y.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return sn(()=>(g(_),()=>x(_)),[g,x,_]),d.jsxs(d.Fragment,{children:[d.jsx(Se.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Io.createPortal(i.children,o.valueNode):null]})});oP.displayName=Hl;var aP="SelectItemIndicator",lP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return sP(aP,n).isSelected?d.jsx(Se.span,{"aria-hidden":!0,...r,ref:e}):null});lP.displayName=aP;var Yg="SelectScrollUpButton",cP=y.forwardRef((t,e)=>{const n=Li(Yg,t.__scopeSelect),r=A0(Yg,t.__scopeSelect),[s,i]=y.useState(!1),o=Ue(e,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(dP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});cP.displayName=Yg;var Xg="SelectScrollDownButton",uP=y.forwardRef((t,e)=>{const n=Li(Xg,t.__scopeSelect),r=A0(Xg,t.__scopeSelect),[s,i]=y.useState(!1),o=Ue(e,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(dP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uP.displayName=Xg;var dP=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Li("SelectScrollButton",n),o=y.useRef(null),a=Kf(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),sn(()=>{var h;const c=a().find(p=>p.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(Se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{l()})})}),GB="SelectSeparator",hP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Se.div,{"aria-hidden":!0,...r,ref:e})});hP.displayName=GB;var Jg="SelectArrow",QB=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gf(n),i=Mi(Jg,n),o=Li(Jg,n);return i.open&&o.position==="popper"?d.jsx(cb,{...s,...r,ref:e}):null});QB.displayName=Jg;function fP(t){return t===""||t===void 0}var pP=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=y.useRef(null),i=Ue(e,s),o=g0(n);return y.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),d.jsx(Qc,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});pP.displayName="BubbleSelect";function mP(t){const e=Rn(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gP(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=YB(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function YB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XB=BR,vP=WR,JB=KR,ZB=GR,e8=QR,yP=YR,t8=eP,wP=rP,_P=iP,n8=oP,r8=lP,xP=cP,EP=uP,TP=hP;const SP=XB,CP=JB,R0=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(vP,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(ZB,{asChild:!0,children:d.jsx(IC,{className:"h-4 w-4 opacity-50"})})]}));R0.displayName=vP.displayName;const bP=y.forwardRef(({className:t,...e},n)=>d.jsx(xP,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(JO,{className:"h-4 w-4"})}));bP.displayName=xP.displayName;const IP=y.forwardRef(({className:t,...e},n)=>d.jsx(EP,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(IC,{className:"h-4 w-4"})}));IP.displayName=EP.displayName;const P0=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(e8,{children:d.jsxs(yP,{ref:s,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(bP,{}),d.jsx(t8,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(IP,{})]})}));P0.displayName=yP.displayName;const s8=y.forwardRef(({className:t,...e},n)=>d.jsx(wP,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));s8.displayName=wP.displayName;const io=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(_P,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(r8,{children:d.jsx(ry,{className:"h-4 w-4"})})}),d.jsx(n8,{children:e})]}));io.displayName=_P.displayName;const i8=y.forwardRef(({className:t,...e},n)=>d.jsx(TP,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));i8.displayName=TP.displayName;function o8(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:f,children:v,..._}=p,g=(f==null?void 0:f[t][l])||a,x=y.useMemo(()=>_,Object.values(_));return d.jsx(g.Provider,{value:x,children:v})}function h(p,f){const v=(f==null?void 0:f[t][l])||a,_=y.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,a8(s,...e)]}function a8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var lm="rovingFocusGroup.onEntryFocus",l8={bubbles:!1,cancelable:!0},Qf="RovingFocusGroup",[Zg,AP,c8]=Xv(Qf),[u8,RP]=o8(Qf,[c8]),[d8,h8]=u8(Qf),PP=y.forwardRef((t,e)=>d.jsx(Zg.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Zg.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(f8,{...t,ref:e})})}));PP.displayName=Qf;var f8=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...p}=t,f=y.useRef(null),v=Ue(e,f),_=C0(i),[g=null,x]=fo({prop:o,defaultProp:a,onChange:l}),[E,w]=y.useState(!1),S=Rn(c),I=AP(n),k=y.useRef(!1),[M,b]=y.useState(0);return y.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(lm,S),()=>C.removeEventListener(lm,S)},[S]),d.jsx(d8,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(C=>x(C),[x]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:y.useCallback(()=>b(C=>C-1),[]),children:d.jsx(Se.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...p,ref:v,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{k.current=!0}),onFocus:fe(t.onFocus,C=>{const A=!k.current;if(C.target===C.currentTarget&&A&&!E){const R=new CustomEvent(lm,l8);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=I().filter(X=>X.focusable),O=D.find(X=>X.active),N=D.find(X=>X.id===g),Z=[O,N,...D].filter(Boolean).map(X=>X.ref.current);DP(Z,h)}}k.current=!1}),onBlur:fe(t.onBlur,()=>w(!1))})})}),NP="RovingFocusGroupItem",kP=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=so(),l=i||a,c=h8(NP,n),h=c.currentTabStopId===l,p=AP(n),{onFocusableItemAdd:f,onFocusableItemRemove:v}=c;return y.useEffect(()=>{if(r)return f(),()=>v()},[r,f,v]),d.jsx(Zg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(Se.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,_=>{r?c.onItemFocus(l):_.preventDefault()}),onFocus:fe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:fe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=g8(_,c.orientation,c.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=p().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")E.reverse();else if(g==="prev"||g==="next"){g==="prev"&&E.reverse();const w=E.indexOf(_.currentTarget);E=c.loop?v8(E,w+1):E.slice(w+1)}setTimeout(()=>DP(E))}})})})});kP.displayName=NP;var p8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function g8(t,e,n){const r=m8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return p8[r]}function DP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function v8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var y8=PP,w8=kP,N0="Radio",[_8,OP]=Pi(N0),[x8,E8]=_8(N0),jP=y.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:c,...h}=t,[p,f]=y.useState(null),v=Ue(e,x=>f(x)),_=y.useRef(!1),g=p?c||!!p.closest("form"):!0;return d.jsxs(x8,{scope:n,checked:s,disabled:o,children:[d.jsx(Se.button,{type:"button",role:"radio","aria-checked":s,"data-state":VP(s),"data-disabled":o?"":void 0,disabled:o,value:a,...h,ref:v,onClick:fe(t.onClick,x=>{s||l==null||l(),g&&(_.current=x.isPropagationStopped(),_.current||x.stopPropagation())})}),g&&d.jsx(T8,{control:p,bubbles:!_.current,name:r,value:a,checked:s,required:i,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});jP.displayName=N0;var MP="RadioIndicator",LP=y.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=E8(MP,n);return d.jsx(Ni,{present:r||i.checked,children:d.jsx(Se.span,{"data-state":VP(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});LP.displayName=MP;var T8=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=y.useRef(null),o=g0(n),a=hy(e);return y.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&p){const f=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(f)}},[o,n,r]),d.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function VP(t){return t?"checked":"unchecked"}var S8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k0="RadioGroup",[C8,z7]=Pi(k0,[RP,OP]),FP=RP(),UP=OP(),[b8,I8]=C8(k0),$P=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:h=!0,onValueChange:p,...f}=t,v=FP(n),_=C0(c),[g,x]=fo({prop:i,defaultProp:s,onChange:p});return d.jsx(b8,{scope:n,name:r,required:o,disabled:a,value:g,onValueChange:x,children:d.jsx(y8,{asChild:!0,...v,orientation:l,dir:_,loop:h,children:d.jsx(Se.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:_,...f,ref:e})})})});$P.displayName=k0;var zP="RadioGroupItem",BP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=I8(zP,n),o=i.disabled||r,a=FP(n),l=UP(n),c=y.useRef(null),h=Ue(e,c),p=i.value===s.value,f=y.useRef(!1);return y.useEffect(()=>{const v=g=>{S8.includes(g.key)&&(f.current=!0)},_=()=>f.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",_)}},[]),d.jsx(w8,{asChild:!0,...a,focusable:!o,active:p,children:d.jsx(jP,{disabled:o,required:i.required,checked:p,...l,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:fe(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:fe(s.onFocus,()=>{var v;f.current&&((v=c.current)==null||v.click())})})})});BP.displayName=zP;var A8="RadioGroupIndicator",HP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=UP(n);return d.jsx(LP,{...s,...r,ref:e})});HP.displayName=A8;var WP=$P,qP=BP,R8=HP;const D0=y.forwardRef(({className:t,...e},n)=>d.jsx(WP,{className:we("grid gap-2",t),...e,ref:n}));D0.displayName=WP.displayName;const Fc=y.forwardRef(({className:t,...e},n)=>d.jsx(qP,{ref:n,className:we("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(R8,{className:"flex items-center justify-center",children:d.jsx(sj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Fc.displayName=qP.displayName;var P8=Object.defineProperty,Bh=Object.getOwnPropertySymbols,KP=Object.prototype.hasOwnProperty,GP=Object.prototype.propertyIsEnumerable,I1=(t,e,n)=>e in t?P8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ev=(t,e)=>{for(var n in e||(e={}))KP.call(e,n)&&I1(t,n,e[n]);if(Bh)for(var n of Bh(e))GP.call(e,n)&&I1(t,n,e[n]);return t},tv=(t,e)=>{var n={};for(var r in t)KP.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Bh)for(var r of Bh(t))e.indexOf(r)<0&&GP.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var To;(t=>{const e=class Re{constructor(l,c,h,p){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<Re.MIN_VERSION||l>Re.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let _=0;_<this.size;_++)f.push(!1);for(let _=0;_<this.size;_++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(h);if(this.drawCodewords(v),p==-1){let _=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const x=this.getPenaltyScore();x<_&&(p=g,_=x),this.applyMask(g)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(l,c){const h=t.QrSegment.makeSegments(l);return Re.encodeSegments(h,c)}static encodeBinary(l,c){const h=t.QrSegment.makeBytes(l);return Re.encodeSegments([h],c)}static encodeSegments(l,c,h=1,p=40,f=-1,v=!0){if(!(Re.MIN_VERSION<=h&&h<=p&&p<=Re.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let _,g;for(_=h;;_++){const S=Re.getNumDataCodewords(_,c)*8,I=o.getTotalBits(l,_);if(I<=S){g=I;break}if(_>=p)throw new RangeError("Data too long")}for(const S of[Re.Ecc.MEDIUM,Re.Ecc.QUARTILE,Re.Ecc.HIGH])v&&g<=Re.getNumDataCodewords(_,S)*8&&(c=S);let x=[];for(const S of l){n(S.mode.modeBits,4,x),n(S.numChars,S.mode.numCharCountBits(_),x);for(const I of S.getData())x.push(I)}s(x.length==g);const E=Re.getNumDataCodewords(_,c)*8;s(x.length<=E),n(0,Math.min(4,E-x.length),x),n(0,(8-x.length%8)%8,x),s(x.length%8==0);for(let S=236;x.length<E;S^=253)n(S,8,x);let w=[];for(;w.length*8<x.length;)w.push(0);return x.forEach((S,I)=>w[I>>>3]|=S<<7-(I&7)),new Re(_,c,w,f)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let h=0;h<c;h++)for(let p=0;p<c;p++)h==0&&p==0||h==0&&p==c-1||h==c-1&&p==0||this.drawAlignmentPattern(l[h],l[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let h=c;for(let f=0;f<10;f++)h=h<<1^(h>>>9)*1335;const p=(c<<10|h)^21522;s(p>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(p,f));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(p,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(p,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(p,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let h=0;h<12;h++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let h=0;h<18;h++){const p=r(c,h),f=this.size-11+h%3,v=Math.floor(h/3);this.setFunctionModule(f,v,p),this.setFunctionModule(v,f,p)}}drawFinderPattern(l,c){for(let h=-4;h<=4;h++)for(let p=-4;p<=4;p++){const f=Math.max(Math.abs(p),Math.abs(h)),v=l+p,_=c+h;0<=v&&v<this.size&&0<=_&&_<this.size&&this.setFunctionModule(v,_,f!=2&&f!=4)}}drawAlignmentPattern(l,c){for(let h=-2;h<=2;h++)for(let p=-2;p<=2;p++)this.setFunctionModule(l+p,c+h,Math.max(Math.abs(p),Math.abs(h))!=1)}setFunctionModule(l,c,h){this.modules[c][l]=h,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,h=this.errorCorrectionLevel;if(l.length!=Re.getNumDataCodewords(c,h))throw new RangeError("Invalid argument");const p=Re.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][c],f=Re.ECC_CODEWORDS_PER_BLOCK[h.ordinal][c],v=Math.floor(Re.getNumRawDataModules(c)/8),_=p-v%p,g=Math.floor(v/p);let x=[];const E=Re.reedSolomonComputeDivisor(f);for(let S=0,I=0;S<p;S++){let k=l.slice(I,I+g-f+(S<_?0:1));I+=k.length;const M=Re.reedSolomonComputeRemainder(k,E);S<_&&k.push(0),x.push(k.concat(M))}let w=[];for(let S=0;S<x[0].length;S++)x.forEach((I,k)=>{(S!=g-f||k>=_)&&w.push(I[S])});return s(w.length==v),w}drawCodewords(l){if(l.length!=Math.floor(Re.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let p=0;p<this.size;p++)for(let f=0;f<2;f++){const v=h-f,g=(h+1&2)==0?this.size-1-p:p;!this.isFunction[g][v]&&c<l.length*8&&(this.modules[g][v]=r(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let h=0;h<this.size;h++){let p;switch(l){case 0:p=(h+c)%2==0;break;case 1:p=c%2==0;break;case 2:p=h%3==0;break;case 3:p=(h+c)%3==0;break;case 4:p=(Math.floor(h/3)+Math.floor(c/2))%2==0;break;case 5:p=h*c%2+h*c%3==0;break;case 6:p=(h*c%2+h*c%3)%2==0;break;case 7:p=((h+c)%2+h*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][h]&&p&&(this.modules[c][h]=!this.modules[c][h])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let v=!1,_=0,g=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[f][x]==v?(_++,_==5?l+=Re.PENALTY_N1:_>5&&l++):(this.finderPenaltyAddHistory(_,g),v||(l+=this.finderPenaltyCountPatterns(g)*Re.PENALTY_N3),v=this.modules[f][x],_=1);l+=this.finderPenaltyTerminateAndCount(v,_,g)*Re.PENALTY_N3}for(let f=0;f<this.size;f++){let v=!1,_=0,g=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][f]==v?(_++,_==5?l+=Re.PENALTY_N1:_>5&&l++):(this.finderPenaltyAddHistory(_,g),v||(l+=this.finderPenaltyCountPatterns(g)*Re.PENALTY_N3),v=this.modules[x][f],_=1);l+=this.finderPenaltyTerminateAndCount(v,_,g)*Re.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let v=0;v<this.size-1;v++){const _=this.modules[f][v];_==this.modules[f][v+1]&&_==this.modules[f+1][v]&&_==this.modules[f+1][v+1]&&(l+=Re.PENALTY_N2)}let c=0;for(const f of this.modules)c=f.reduce((v,_)=>v+(_?1:0),c);const h=this.size*this.size,p=Math.ceil(Math.abs(c*20-h*10)/h)-1;return s(0<=p&&p<=9),l+=p*Re.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let h=[6];for(let p=this.size-7;h.length<l;p-=c)h.splice(1,0,p);return h}}static getNumRawDataModules(l){if(l<Re.MIN_VERSION||l>Re.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const h=Math.floor(l/7)+2;c-=(25*h-10)*h-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(Re.getNumRawDataModules(l)/8)-Re.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*Re.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let p=0;p<l-1;p++)c.push(0);c.push(1);let h=1;for(let p=0;p<l;p++){for(let f=0;f<c.length;f++)c[f]=Re.reedSolomonMultiply(c[f],h),f+1<c.length&&(c[f]^=c[f+1]);h=Re.reedSolomonMultiply(h,2)}return c}static reedSolomonComputeRemainder(l,c){let h=c.map(p=>0);for(const p of l){const f=p^h.shift();h.push(0),c.forEach((v,_)=>h[_]^=Re.reedSolomonMultiply(v,f))}return h}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let h=0;for(let p=7;p>=0;p--)h=h<<1^(h>>>7)*285,h^=(c>>>p&1)*l;return s(h>>>8==0),h}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const h=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(h&&l[0]>=c*4&&l[6]>=c?1:0)+(h&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,h){return l&&(this.finderPenaltyAddHistory(c,h),c=0),c+=this.size,this.finderPenaltyAddHistory(c,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,c){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let h=l-1;h>=0;h--)c.push(a>>>h&1)}function r(a,l){return(a>>>l&1)!=0}function s(a){if(!a)throw new Error("Assertion error")}const i=class ht{constructor(l,c,h){if(this.mode=l,this.numChars=c,this.bitData=h,c<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(l){let c=[];for(const h of l)n(h,8,c);return new ht(ht.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!ht.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let h=0;h<l.length;){const p=Math.min(l.length-h,3);n(parseInt(l.substring(h,h+p),10),p*3+1,c),h+=p}return new ht(ht.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!ht.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],h;for(h=0;h+2<=l.length;h+=2){let p=ht.ALPHANUMERIC_CHARSET.indexOf(l.charAt(h))*45;p+=ht.ALPHANUMERIC_CHARSET.indexOf(l.charAt(h+1)),n(p,11,c)}return h<l.length&&n(ht.ALPHANUMERIC_CHARSET.indexOf(l.charAt(h)),6,c),new ht(ht.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:ht.isNumeric(l)?[ht.makeNumeric(l)]:ht.isAlphanumeric(l)?[ht.makeAlphanumeric(l)]:[ht.makeBytes(ht.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new ht(ht.Mode.ECI,0,c)}static isNumeric(l){return ht.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return ht.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let h=0;for(const p of l){const f=p.mode.numCharCountBits(c);if(p.numChars>=1<<f)return 1/0;h+=4+f+p.bitData.length}return h}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let h=0;h<l.length;h++)l.charAt(h)!="%"?c.push(l.charCodeAt(h)):(c.push(parseInt(l.substring(h+1,h+3),16)),h+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(To||(To={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(To||(To={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(To||(To={}));var ia=To;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var N8={L:ia.QrCode.Ecc.LOW,M:ia.QrCode.Ecc.MEDIUM,Q:ia.QrCode.Ecc.QUARTILE,H:ia.QrCode.Ecc.HIGH},QP=128,YP="L",XP="#FFFFFF",JP="#000000",ZP=!1,eN=1,k8=4,D8=0,O8=.1;function tN(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}o&&i===null&&(i=a)})}),n.join("")}function nN(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function j8(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*O8),o=s/e,a=(r.width||i)*o,l=(r.height||i)*o,c=r.x==null?t.length/2-a/2:r.x*o,h=r.y==null?t.length/2-l/2:r.y*o,p=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let _=Math.floor(c),g=Math.floor(h),x=Math.ceil(a+c-_),E=Math.ceil(l+h-g);f={x:_,y:g,w:x,h:E}}const v=r.crossOrigin;return{x:c,y:h,h:l,w:a,excavation:f,opacity:p,crossOrigin:v}}function M8(t,e){return e!=null?Math.max(Math.floor(e),0):t?k8:D8}function rN({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:a}){let l=U.useMemo(()=>{const _=(Array.isArray(t)?t:[t]).reduce((g,x)=>(g.push(...ia.QrSegment.makeSegments(x)),g),[]);return ia.QrCode.encodeSegments(_,N8[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:c,margin:h,numCells:p,calculatedImageSettings:f}=U.useMemo(()=>{let v=l.getModules();const _=M8(r,s),g=v.length+_*2,x=j8(v,o,_,i);return{cells:v,margin:_,numCells:g,calculatedImageSettings:x}},[l,o,i,r,s]);return{qrcode:l,margin:h,cells:c,numCells:p,calculatedImageSettings:f}}var L8=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),V8=U.forwardRef(function(e,n){const r=e,{value:s,size:i=QP,level:o=YP,bgColor:a=XP,fgColor:l=JP,includeMargin:c=ZP,minVersion:h=eN,boostLevel:p,marginSize:f,imageSettings:v}=r,g=tv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:x}=g,E=tv(g,["style"]),w=v==null?void 0:v.src,S=U.useRef(null),I=U.useRef(null),k=U.useCallback(B=>{S.current=B,typeof n=="function"?n(B):n&&(n.current=B)},[n]),[M,b]=U.useState(!1),{margin:C,cells:A,numCells:R,calculatedImageSettings:D}=rN({value:s,level:o,minVersion:h,boostLevel:p,includeMargin:c,marginSize:f,imageSettings:v,size:i});U.useEffect(()=>{if(S.current!=null){const B=S.current,Z=B.getContext("2d");if(!Z)return;let X=A;const se=I.current,V=D!=null&&se!==null&&se.complete&&se.naturalHeight!==0&&se.naturalWidth!==0;V&&D.excavation!=null&&(X=nN(A,D.excavation));const G=window.devicePixelRatio||1;B.height=B.width=i*G;const ne=i/R*G;Z.scale(ne,ne),Z.fillStyle=a,Z.fillRect(0,0,R,R),Z.fillStyle=l,L8?Z.fill(new Path2D(tN(X,C))):A.forEach(function(ee,oe){ee.forEach(function(ue,Ne){ue&&Z.fillRect(Ne+C,oe+C,1,1)})}),D&&(Z.globalAlpha=D.opacity),V&&Z.drawImage(se,D.x+C,D.y+C,D.w,D.h)}}),U.useEffect(()=>{b(!1)},[w]);const O=ev({height:i,width:i},x);let N=null;return w!=null&&(N=U.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{b(!0)},ref:I,crossOrigin:D==null?void 0:D.crossOrigin})),U.createElement(U.Fragment,null,U.createElement("canvas",ev({style:O,height:i,width:i,ref:k,role:"img"},E)),N)});V8.displayName="QRCodeCanvas";var Uc=U.forwardRef(function(e,n){const r=e,{value:s,size:i=QP,level:o=YP,bgColor:a=XP,fgColor:l=JP,includeMargin:c=ZP,minVersion:h=eN,boostLevel:p,title:f,marginSize:v,imageSettings:_}=r,g=tv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:x,cells:E,numCells:w,calculatedImageSettings:S}=rN({value:s,level:o,minVersion:h,boostLevel:p,includeMargin:c,marginSize:v,imageSettings:_,size:i});let I=E,k=null;_!=null&&S!=null&&(S.excavation!=null&&(I=nN(E,S.excavation)),k=U.createElement("image",{href:_.src,height:S.h,width:S.w,x:S.x+x,y:S.y+x,preserveAspectRatio:"none",opacity:S.opacity,crossOrigin:S.crossOrigin}));const M=tN(I,x);return U.createElement("svg",ev({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!f&&U.createElement("title",null,f),U.createElement("path",{fill:a,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),U.createElement("path",{fill:l,d:M,shapeRendering:"crispEdges"}),k)});Uc.displayName="QRCodeSVG";function F8(){const{user:t,isAuthenticated:e}=Br();xs();const{register:n,handleSubmit:r,control:s,formState:{errors:i},watch:o}=T0(),[a,l]=y.useState(null),[c,h]=y.useState(!1),[p,f]=y.useState(null),[v,_]=y.useState(!1),g=y.useRef(null);y.useState(!1),o("imagem");const x=I=>{var M;const k=(M=I.target.files)==null?void 0:M[0];if(k){const b=new FileReader;b.onloadend=()=>{l(b.result)},b.readAsDataURL(k)}},E=async()=>{let I=!0,k="";for(;I;){k="PET"+Math.floor(1e5+Math.random()*9e5);const M=Tn(zt,"pets",k);I=(await Yi(M)).exists()}return k},w=async I=>{if(t){_(!0);try{const k=new FormData;k.append("image",I.imagem[0]);const b=await(await fetch("https://api.imgbb.com/1/upload?key=f54f446538856c6595086ab3bf8aa9dc",{method:"POST",body:k})).json();if(!b.success)throw new Error("Falha ao enviar imagem");const C=b.data.url,A=await E();await lR(Tn(zt,"pets",A),{nomePet:I.nomePet,tipo:I.tipo,raca:I.raca,cor:I.cor,sexo:I.sexo,dataNascimento:I.dataNascimento,descricao:I.descricao,imagemUrl:C,ownerId:t.uid,petCode:A,createdAt:new Date}),f(A),h(!0)}catch(k){console.error("Erro ao cadastrar pet:",k),alert("Ocorreu um erro ao cadastrar o pet. Tente novamente.")}finally{_(!1)}}},S=()=>{const I=g.current;if(!I){alert("QR Code não encontrado.");return}const k=new XMLSerializer().serializeToString(I),M=document.createElement("canvas"),b=M.getContext("2d"),C=new Image;C.onload=()=>{M.width=C.width,M.height=C.height,b.drawImage(C,0,0);const A=M.toDataURL("image/png"),R=document.createElement("a");R.href=A,R.download=`qrcode-${p}.png`,R.click()},C.src="data:image/svg+xml;base64,"+btoa(k)};return d.jsx(xr,{children:d.jsx("div",{className:"container mx-auto px-4 py-10",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:c?d.jsxs(In,{className:"shadow-lg",children:[d.jsxs($r,{children:[d.jsx(vs,{className:"text-2xl text-center text-petgreen",children:"Pet Cadastrado com Sucesso!"}),d.jsx(xo,{className:"text-center",children:"Seu pet foi registrado e agora possui um QR Code único que pode ser usado para identificá-lo."})]}),d.jsxs(An,{className:"flex flex-col items-center",children:[d.jsx("div",{className:"bg-petgreen-light p-8 rounded-lg mb-4",children:d.jsx(Uc,{value:`https://projeto-pet.netlify.app/encontrar?codigo=${p}`,ref:g})}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"font-medium",children:"Código do Pet:"}),d.jsx("p",{className:"text-xl font-bold text-petgreen mb-4",children:p}),d.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Escaneie este QR Code para obter informações sobre o pet caso ele esteja perdido."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs(De,{className:"bg-petgreen hover:bg-opacity-90 flex items-center gap-2",onClick:S,children:[d.jsx(ah,{size:18}),d.jsx("span",{children:"Baixar QR Code"})]}),d.jsx(Le,{to:"/meus-pets",className:"inline-flex items-center px-4 py-2 border border-petgreen text-petgreen hover:bg-petgreen hover:text-white rounded",children:"Ver Página do Pet"})]})]})]}),d.jsx(uu,{className:"flex justify-center",children:d.jsx(De,{variant:"ghost",className:"text-petgreen",onClick:()=>h(!1),children:"Cadastrar Outro Pet"})})]}):d.jsxs(In,{className:"shadow-lg",children:[d.jsxs($r,{children:[d.jsx(vs,{className:"text-2xl text-center",children:"Cadastrar Pet"}),d.jsx(xo,{className:"text-center",children:"Registre seu pet para gerar um QR Code único"})]}),d.jsx(An,{children:d.jsxs("form",{onSubmit:r(w),className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"nomePet",children:"Nome do Pet"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(Ma,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"nomePet",...n("nomePet",{required:!0}),placeholder:"Nome do seu pet",className:`pl-10 ${i.nomePet?"border-red-500":""}`})]}),i.nomePet&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Nome do pet é obrigatório"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"tipo",children:"Tipo"}),d.jsx(Vh,{name:"tipo",control:s,rules:{required:!0},render:({field:I})=>d.jsxs(SP,{onValueChange:I.onChange,defaultValue:I.value,children:[d.jsx(R0,{className:i.tipo?"border-red-500":"",children:d.jsx(CP,{placeholder:"Selecione o tipo"})}),d.jsxs(P0,{children:[d.jsx(io,{value:"Cachorro",children:"Cachorro"}),d.jsx(io,{value:"Gato",children:"Gato"}),d.jsx(io,{value:"Outro",children:"Outro"})]})]})}),i.tipo&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Tipo é obrigatório"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"raca",children:"Raça"}),d.jsx(At,{id:"raca",...n("raca",{required:!0}),placeholder:"Raça do seu pet",className:i.raca?"border-red-500":""}),i.raca&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Raça é obrigatória"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"cor",children:"Cor"}),d.jsx(At,{id:"cor",...n("cor",{required:!0}),placeholder:"Cor do seu pet",className:i.cor?"border-red-500":""}),i.cor&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Cor é obrigatória"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"sexo",children:"Sexo"}),d.jsx(Vh,{name:"sexo",control:s,rules:{required:!0},render:({field:I})=>d.jsxs(D0,{onValueChange:I.onChange,defaultValue:I.value,className:"flex space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Fc,{value:"Macho",id:"macho"}),d.jsx(We,{htmlFor:"macho",children:"Macho"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Fc,{value:"Fêmea",id:"femea"}),d.jsx(We,{htmlFor:"femea",children:"Fêmea"})]})]})}),i.sexo&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Sexo é obrigatório"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(ny,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"dataNascimento",...n("dataNascimento",{required:!0}),type:"date",className:`pl-10 ${i.dataNascimento?"border-red-500":""}`})]}),i.dataNascimento&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Data de nascimento é obrigatória"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"descricao",children:"Descrição"}),d.jsx(S0,{id:"descricao",...n("descricao",{required:!0}),placeholder:"Descreva características importantes do seu pet",className:i.descricao?"border-red-500":"",rows:3}),i.descricao&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Descrição é obrigatória"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"imagem",children:"Imagem do Pet"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(kC,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"imagem",type:"file",accept:"image/*",className:`pl-10 ${i.imagem?"border-red-500":""}`,...n("imagem",{required:!0}),onChange:x})]}),i.imagem&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Imagem é obrigatória"})]}),d.jsx("div",{className:"flex justify-center",children:a?d.jsx("img",{src:a,alt:"Preview",className:"h-32 w-32 object-cover rounded-md"}):d.jsx("div",{className:"h-32 w-32 bg-gray-100 flex items-center justify-center rounded-md",children:d.jsx(Ma,{className:"h-10 w-10 text-gray-300"})})})]})]}),d.jsxs(De,{type:"submit",className:"w-full bg-petgreen hover:bg-opacity-90 flex items-center justify-center gap-2",disabled:v,children:[v&&d.jsx(RC,{className:"h-4 w-4 animate-spin"}),v?"Cadastrando...":"Cadastrar Pet"]})]})})]})})})})}function U8(){var A;const{user:t,isAuthenticated:e}=Br(),n=xs(),{id:r}=wF(),i=(A=_s().state)==null?void 0:A.pet,{toast:o}=Ao(),{register:a,handleSubmit:l,control:c,formState:{errors:h},setValue:p,watch:f}=T0(),[v,_]=y.useState(null),[g,x]=y.useState(!1),[E,w]=y.useState(!0),[S,I]=y.useState(null);y.useEffect(()=>{(!e||!t)&&n("/login")},[e,t,n]),y.useEffect(()=>{(async()=>{if(r)try{if(w(!0),i){I(i),k(i),_(i.imagem),w(!1);return}const D=await Yi(Tn(zt,"pets",r));if(!D.exists()){o({title:"Pet não encontrado",description:"O pet que você está tentando editar não foi encontrado.",variant:"destructive"}),n("/meus-pets");return}const O=D.data(),N={id:D.id,...O};if(O.ownerId!==(t==null?void 0:t.uid)){o({title:"Acesso negado",description:"Você não tem permissão para editar este pet.",variant:"destructive"}),n("/meus-pets");return}I(N),k(N),_(O.imagemUrl)}catch(D){console.error("Erro ao buscar pet:",D),o({title:"Erro",description:"Ocorreu um erro ao buscar os dados do pet. Tente novamente.",variant:"destructive"})}finally{w(!1)}})()},[r,n,t,i,o]);const k=R=>{p("nomePet",R.nomePet),p("tipo",R.tipo),p("raca",R.raca),p("cor",R.cor),p("sexo",R.sexo),p("dataNascimento",M(R.dataNascimento)),p("descricao",R.descricao)},M=R=>R?new Date(R).toISOString().split("T")[0]:"";f("imagem");const b=R=>{var O;const D=(O=R.target.files)==null?void 0:O[0];if(D){const N=new FileReader;N.onloadend=()=>{_(N.result)},N.readAsDataURL(D)}},C=async R=>{if(!(!t||!r)){x(!0);try{const D={nomePet:R.nomePet,tipo:R.tipo,raca:R.raca,cor:R.cor,sexo:R.sexo,dataNascimento:R.dataNascimento,descricao:R.descricao,updatedAt:new Date};if(R.imagem&&R.imagem[0]){const O=new FormData;O.append("image",R.imagem[0]);const B=await(await fetch("https://api.imgbb.com/1/upload?key=f54f446538856c6595086ab3bf8aa9dc",{method:"POST",body:O})).json();if(!B.success)throw new Error("Falha ao enviar imagem");D.imagemUrl=B.data.url}await cR(Tn(zt,"pets",r),D),o({title:"Sucesso",description:"Pet atualizado com sucesso!"}),n("/meus-pets")}catch(D){console.error("Erro ao atualizar pet:",D),o({title:"Erro",description:"Ocorreu um erro ao atualizar o pet. Tente novamente.",variant:"destructive"})}finally{x(!1)}}};return E?d.jsx(xr,{children:d.jsx("div",{className:"container mx-auto px-4 py-10 flex justify-center items-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-petgreen"})})}):d.jsx(xr,{children:d.jsx("div",{className:"container mx-auto px-4 py-10",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs(In,{className:"shadow-lg",children:[d.jsxs($r,{children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(De,{variant:"ghost",className:"p-0 mr-2",onClick:()=>n("/meus-pets"),children:d.jsx(WO,{className:"h-5 w-5"})}),d.jsx(vs,{className:"text-2xl",children:"Editar Pet"})]}),d.jsx(xo,{children:"Atualize as informações do seu pet"})]}),d.jsx(An,{children:d.jsxs("form",{onSubmit:l(C),className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"nomePet",children:"Nome do Pet"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(Ma,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"nomePet",...a("nomePet",{required:!0}),placeholder:"Nome do seu pet",className:`pl-10 ${h.nomePet?"border-red-500":""}`})]}),h.nomePet&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Nome do pet é obrigatório"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"tipo",children:"Tipo"}),d.jsx(Vh,{name:"tipo",control:c,rules:{required:!0},render:({field:R})=>d.jsxs(SP,{onValueChange:R.onChange,value:R.value,children:[d.jsx(R0,{className:h.tipo?"border-red-500":"",children:d.jsx(CP,{placeholder:"Selecione o tipo"})}),d.jsxs(P0,{children:[d.jsx(io,{value:"Cachorro",children:"Cachorro"}),d.jsx(io,{value:"Gato",children:"Gato"}),d.jsx(io,{value:"Outro",children:"Outro"})]})]})}),h.tipo&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Tipo é obrigatório"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"raca",children:"Raça"}),d.jsx(At,{id:"raca",...a("raca",{required:!0}),placeholder:"Raça do seu pet",className:h.raca?"border-red-500":""}),h.raca&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Raça é obrigatória"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"cor",children:"Cor"}),d.jsx(At,{id:"cor",...a("cor",{required:!0}),placeholder:"Cor do seu pet",className:h.cor?"border-red-500":""}),h.cor&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Cor é obrigatória"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"sexo",children:"Sexo"}),d.jsx(Vh,{name:"sexo",control:c,rules:{required:!0},render:({field:R})=>d.jsxs(D0,{onValueChange:R.onChange,value:R.value,className:"flex space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Fc,{value:"Macho",id:"macho"}),d.jsx(We,{htmlFor:"macho",children:"Macho"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Fc,{value:"Fêmea",id:"femea"}),d.jsx(We,{htmlFor:"femea",children:"Fêmea"})]})]})}),h.sexo&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Sexo é obrigatório"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(ny,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"dataNascimento",...a("dataNascimento",{required:!0}),type:"date",className:`pl-10 ${h.dataNascimento?"border-red-500":""}`})]}),h.dataNascimento&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Data de nascimento é obrigatória"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"descricao",children:"Descrição"}),d.jsx(S0,{id:"descricao",...a("descricao",{required:!0}),placeholder:"Descreva características importantes do seu pet",className:h.descricao?"border-red-500":"",rows:3}),h.descricao&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Descrição é obrigatória"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(We,{htmlFor:"imagem",children:"Imagem do Pet"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(kC,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{id:"imagem",type:"file",accept:"image/*",className:"pl-10",...a("imagem"),onChange:b})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para manter a imagem atual"})]}),d.jsx("div",{className:"flex justify-center",children:v?d.jsx("img",{src:v,alt:"Preview",className:"h-32 w-32 object-cover rounded-md"}):d.jsx("div",{className:"h-32 w-32 bg-gray-100 flex items-center justify-center rounded-md",children:d.jsx(Ma,{className:"h-10 w-10 text-gray-300"})})})]})]}),d.jsxs(De,{type:"submit",className:"w-full bg-petgreen hover:bg-opacity-90 flex items-center justify-center gap-2",disabled:g,children:[g&&d.jsx(RC,{className:"h-4 w-4 animate-spin"}),g?"Salvando...":"Salvar Alterações"]})]})})]})})})})}var O0="Dialog",[sN,iN]=Pi(O0),[$8,Er]=sN(O0),oN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c=!1,h]=fo({prop:r,defaultProp:s,onChange:i});return d.jsx($8,{scope:e,triggerRef:a,contentRef:l,contentId:so(),titleId:so(),descriptionId:so(),open:c,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};oN.displayName=O0;var aN="DialogTrigger",lN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Er(aN,n),i=Ue(e,s.triggerRef);return d.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":L0(s.open),...r,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});lN.displayName=aN;var j0="DialogPortal",[z8,cN]=sN(j0,{forceMount:void 0}),uN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Er(j0,e);return d.jsx(z8,{scope:e,forceMount:n,children:y.Children.map(r,o=>d.jsx(Ni,{present:n||i.open,children:d.jsx(uf,{asChild:!0,container:s,children:o})}))})};uN.displayName=j0;var Hh="DialogOverlay",dN=y.forwardRef((t,e)=>{const n=cN(Hh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Er(Hh,t.__scopeDialog);return i.modal?d.jsx(Ni,{present:r||i.open,children:d.jsx(B8,{...s,ref:e})}):null});dN.displayName=Hh;var B8=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Er(Hh,n);return d.jsx(I0,{as:ho,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Se.div,{"data-state":L0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),So="DialogContent",hN=y.forwardRef((t,e)=>{const n=cN(So,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Er(So,t.__scopeDialog);return d.jsx(Ni,{present:r||i.open,children:i.modal?d.jsx(H8,{...s,ref:e}):d.jsx(W8,{...s,ref:e})})});hN.displayName=So;var H8=y.forwardRef((t,e)=>{const n=Er(So,t.__scopeDialog),r=y.useRef(null),s=Ue(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return MR(i)},[]),d.jsx(fN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),W8=y.forwardRef((t,e)=>{const n=Er(So,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return d.jsx(fN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),fN=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Er(So,n),l=y.useRef(null),c=Ue(e,l);return DR(),d.jsxs(d.Fragment,{children:[d.jsx(b0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Gc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":L0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(K8,{titleId:a.titleId}),d.jsx(Q8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),M0="DialogTitle",pN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Er(M0,n);return d.jsx(Se.h2,{id:s.titleId,...r,ref:e})});pN.displayName=M0;var mN="DialogDescription",gN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Er(mN,n);return d.jsx(Se.p,{id:s.descriptionId,...r,ref:e})});gN.displayName=mN;var vN="DialogClose",yN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Er(vN,n);return d.jsx(Se.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});yN.displayName=vN;function L0(t){return t?"open":"closed"}var wN="DialogTitleWarning",[q8,_N]=rO(wN,{contentName:So,titleName:M0,docsSlug:"dialog"}),K8=({titleId:t})=>{const e=_N(wN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},G8="DialogDescriptionWarning",Q8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_N(G8).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},xN=oN,Y8=lN,EN=uN,V0=dN,F0=hN,U0=pN,$0=gN,z0=yN;const X8=xN,J8=EN,TN=y.forwardRef(({className:t,...e},n)=>d.jsx(V0,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));TN.displayName=V0.displayName;const SN=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(J8,{children:[d.jsx(TN,{}),d.jsxs(F0,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(z0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(lh,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SN.displayName=F0.displayName;const CN=({className:t,...e})=>d.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});CN.displayName="DialogHeader";const bN=({className:t,...e})=>d.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bN.displayName="DialogFooter";const IN=y.forwardRef(({className:t,...e},n)=>d.jsx(U0,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));IN.displayName=U0.displayName;const AN=y.forwardRef(({className:t,...e},n)=>d.jsx($0,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));AN.displayName=$0.displayName;var RN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A1=U.createContext&&U.createContext(RN),Z8=["attr","size","title"];function e7(t,e){if(t==null)return{};var n=t7(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(this,arguments)}function R1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(n),!0).forEach(function(r){n7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n7(t,e,n){return e=r7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r7(t){var e=s7(t,"string");return typeof e=="symbol"?e:e+""}function s7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PN(t){return t&&t.map((e,n)=>U.createElement(e.tag,qh({key:n},e.attr),PN(e.child)))}function i7(t){return e=>U.createElement(o7,Wh({attr:qh({},t.attr)},e),PN(t.child))}function o7(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=e7(t,Z8),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),U.createElement("svg",Wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:qh(qh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&U.createElement("title",null,i),t.children)};return A1!==void 0?U.createElement(A1.Consumer,null,n=>e(n)):e(RN)}function a7(t){return i7({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function l7(){const[t,e]=y.useState(""),[n,r]=y.useState(null),[s,i]=y.useState(!1),[o,a]=y.useState(!1),[l]=WF(),{toast:c}=Ao();y.useEffect(()=>{const f=l.get("codigo");f&&(e(f),h(f))},[l]);const h=async f=>{a(!0);try{const v=Tn(zt,"pets",f.trim()),_=await Yi(v);if(_.exists()){const g=_.data(),x=Tn(zt,"usuarios",g.ownerId),E=await Yi(x),w=E.exists()?E.data():{};r({id:_.id,...g,tutorTelefone:w.phone||"",tutorNome:w.name||"",tutorEmail:w.email||""}),i(!0)}else c({title:"Pet não encontrado",description:"Não foi possível encontrar um pet com este código.",variant:"destructive"})}catch(v){console.error("Erro ao buscar pet pela URL:",v),c({title:"Erro",description:"Ocorreu um erro ao buscar o pet. Tente novamente.",variant:"destructive"})}finally{a(!1)}},p=async()=>{if(t.trim()){a(!0);try{const f=Tn(zt,"pets",t.trim()),v=await Yi(f);if(v.exists()){const _=v.data(),g=Tn(zt,"usuarios",_.ownerId),x=await Yi(g),E=x.exists()?x.data():{};r({id:v.id,..._,tutorTelefone:E.phone||"",tutorNome:E.name||"",tutorEmail:E.email||""}),i(!0)}else c({title:"Pet não encontrado",description:"Verifique o código e tente novamente.",variant:"destructive"})}catch(f){console.error("Erro ao buscar pet:",f),c({title:"Erro",description:"Ocorreu um erro ao buscar o pet. Tente novamente.",variant:"destructive"})}finally{a(!1)}}};return d.jsx(xr,{children:d.jsxs("div",{className:"container mx-auto px-4 py-10",children:[d.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Encontrou um Pet Perdido?"}),d.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Digite o código da coleira abaixo para encontrar o tutor do pet e ajudá-lo a voltar para casa."}),d.jsx(In,{className:"mb-8 bg-petgreen-light border-0",children:d.jsx(An,{className:"pt-6 pb-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(NC,{className:"h-5 w-5 text-gray-400"})}),d.jsx(At,{placeholder:"Digite o código do pet",value:t,onChange:f=>e(f.target.value),className:"pl-10 bg-white"})]}),d.jsx(De,{className:"bg-petgreen hover:bg-opacity-90 min-w-[100px]",onClick:p,disabled:o,children:o?"Buscando...":"Buscar"})]})})}),d.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 mb-4",children:d.jsx("div",{className:"text-lg font-medium",children:"OU"})}),d.jsxs(In,{className:"bg-white shadow-md border-0",children:[d.jsxs($r,{children:[d.jsxs(vs,{className:"text-xl text-center flex justify-center",children:[d.jsx(ah,{className:"h-6 w-6 mr-2 text-petgreen"}),d.jsx("span",{children:"Escanear QR Code"})]}),d.jsx(xo,{className:"text-center",children:"Use a câmera do seu smartphone para escanear o QR Code na coleira do pet"})]}),d.jsx(An,{className:"flex justify-center pb-6",children:d.jsxs(De,{className:"bg-petpurple hover:bg-petpurple-secondary flex gap-2",onClick:()=>c({title:"Funcionalidade indisponível",description:"Esta funcionalidade não está disponível no momento.",variant:"default"}),children:[d.jsx(ah,{size:18}),d.jsx("span",{children:"Iniciar Scanner"})]})})]})]}),d.jsx(X8,{open:s,onOpenChange:i,children:d.jsxs(SN,{className:"max-w-3xl",children:[d.jsxs(CN,{children:[d.jsx(IN,{className:"text-2xl text-petgreen",children:"Pet Encontrado!"}),d.jsx(AN,{children:"Aqui estão as informações do pet e como entrar em contato com o tutor."})]}),n&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("img",{src:n.imagemUrl,alt:n.nomePet,className:"w-full h-64 object-cover rounded-md mb-4"}),d.jsxs("div",{className:"bg-petgreen-light p-4 rounded-md flex flex-col items-center",children:[d.jsx("p",{className:"text-sm mb-2",children:"Escaneie para mais informações:"}),d.jsx(Uc,{value:`https://petfinder.com/pet/${n.petCode}`,size:150})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-petgreen mb-2",children:n.nomePet}),d.jsxs("p",{className:"text-gray-600 mb-4",children:[n.tipo," • ",n.raca," • ",n.cor]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:"Descrição:"}),d.jsx("p",{className:"text-gray-600",children:n.descricao})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:"Sexo:"}),d.jsx("p",{className:"text-gray-600",children:n.sexo})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:"Data de Nascimento:"}),d.jsx("p",{className:"text-gray-600",children:new Date(n.dataNascimento).toLocaleDateString("pt-BR")})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:"Código do Pet:"}),d.jsx("p",{className:"text-gray-600",children:n.petCode})]})]})]})]}),d.jsx(bN,{children:d.jsxs(De,{className:"bg-petgreen hover:bg-opacity-90 w-full sm:w-auto flex gap-2",onClick:()=>{const v=`https://wa.me/55${n.tutorTelefone.replace(/\D/g,"")}?text=Olá!%20Encontrei%20seu%20pet%20${n.nomePet}%20com%20o%20código%20${n.petCode}`;window.open(v,"_blank")},children:[d.jsx(a7,{size:18,className:"text-white"}),d.jsx("span",{children:"Entrar em Contato com o Tutor"})]})})]})})]})})}function c7({pet:t,showQRCode:e=!0,onDetails:n}){const r=o=>new Date(o).toLocaleDateString("pt-BR"),s=y.useRef(null);t.qrcodeUrl.split("/").pop()||t.id;const i=()=>{const o=s.current;if(!o){alert("QR Code não encontrado.");return}const a=new XMLSerializer().serializeToString(o),l=document.createElement("canvas"),c=l.getContext("2d"),h=new Image;h.onload=()=>{l.width=h.width,l.height=h.height,c.drawImage(h,0,0);const p=l.toDataURL("image/png"),f=document.createElement("a"),v=t.qrcodeUrl.split("/").pop()||t.id;f.href=p,f.download=`qrcode-${v}.png`,f.click()},h.src="data:image/svg+xml;base64,"+btoa(a)};return d.jsxs(In,{className:"overflow-hidden hover:shadow-md transition-shadow duration-300",children:[d.jsx("div",{className:"relative h-52 overflow-hidden",children:d.jsx("img",{src:t.imagem||"/placeholder.svg",alt:t.nomePet,className:"w-full h-full object-cover"})}),d.jsx($r,{className:"pb-2",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-petgreen",children:t.nomePet}),d.jsxs("p",{className:"text-sm text-gray-500",children:[t.tipo," • ",t.raca]})]}),e&&d.jsx("div",{className:"w-16 h-16",children:d.jsx(Uc,{value:t.qrcodeUrl,size:64})})]})}),d.jsxs(An,{className:"pb-2",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"bg-petpurple-light p-1 rounded-full",children:d.jsx(nj,{size:16,className:"text-petpurple"})}),d.jsx("span",{className:"text-gray-600",children:t.sexo})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"bg-petblue-light p-1 rounded-full",children:d.jsx(GO,{size:16,className:"text-petblue"})}),d.jsx("span",{className:"text-gray-600",children:r(t.dataNascimento)})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1 mb-1",children:[d.jsx(AC,{size:14,className:"text-petgreen"})," Descrição"]}),d.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.descricao})]})]}),d.jsxs(uu,{className:"flex justify-between pt-2",children:[d.jsx(De,{onClick:n,variant:"outline",size:"sm",className:"text-petgreen border-petgreen hover:bg-petgreen hover:text-white",children:"Ver Detalhes"}),e&&d.jsxs(De,{variant:"ghost",size:"sm",className:"text-petgreen flex items-center gap-1",onClick:i,children:[d.jsx(Uc,{value:t.qrcodeUrl,size:64,ref:s}),d.jsx("span",{children:"Baixar QR Code"})]})]})]})}var NN="AlertDialog",[u7,W7]=Pi(NN,[iN]),Ss=iN(),kN=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ss(e);return d.jsx(xN,{...r,...n,modal:!0})};kN.displayName=NN;var d7="AlertDialogTrigger",h7=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ss(n);return d.jsx(Y8,{...s,...r,ref:e})});h7.displayName=d7;var f7="AlertDialogPortal",DN=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ss(e);return d.jsx(EN,{...r,...n})};DN.displayName=f7;var p7="AlertDialogOverlay",ON=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ss(n);return d.jsx(V0,{...s,...r,ref:e})});ON.displayName=p7;var wa="AlertDialogContent",[m7,g7]=u7(wa),jN=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Ss(n),o=y.useRef(null),a=Ue(e,o),l=y.useRef(null);return d.jsx(q8,{contentName:wa,titleName:MN,docsSlug:"alert-dialog",children:d.jsx(m7,{scope:n,cancelRef:l,children:d.jsxs(F0,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:fe(s.onOpenAutoFocus,c=>{var h;c.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(Yv,{children:r}),d.jsx(y7,{contentRef:o})]})})})});jN.displayName=wa;var MN="AlertDialogTitle",LN=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ss(n);return d.jsx(U0,{...s,...r,ref:e})});LN.displayName=MN;var VN="AlertDialogDescription",FN=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ss(n);return d.jsx($0,{...s,...r,ref:e})});FN.displayName=VN;var v7="AlertDialogAction",UN=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ss(n);return d.jsx(z0,{...s,...r,ref:e})});UN.displayName=v7;var $N="AlertDialogCancel",zN=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=g7($N,n),i=Ss(n),o=Ue(e,s);return d.jsx(z0,{...i,...r,ref:o})});zN.displayName=$N;var y7=({contentRef:t})=>{const e=`\`${wa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wa}\` by passing a \`${VN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},w7=kN,_7=DN,BN=ON,HN=jN,WN=UN,qN=zN,KN=LN,GN=FN;const QN=w7,x7=_7,YN=y.forwardRef(({className:t,...e},n)=>d.jsx(BN,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));YN.displayName=BN.displayName;const B0=y.forwardRef(({className:t,...e},n)=>d.jsxs(x7,{children:[d.jsx(YN,{}),d.jsx(HN,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));B0.displayName=HN.displayName;const H0=({className:t,...e})=>d.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",t),...e});H0.displayName="AlertDialogHeader";const W0=({className:t,...e})=>d.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});W0.displayName="AlertDialogFooter";const q0=y.forwardRef(({className:t,...e},n)=>d.jsx(KN,{ref:n,className:we("text-lg font-semibold",t),...e}));q0.displayName=KN.displayName;const K0=y.forwardRef(({className:t,...e},n)=>d.jsx(GN,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));K0.displayName=GN.displayName;const G0=y.forwardRef(({className:t,...e},n)=>d.jsx(WN,{ref:n,className:we(m0(),t),...e}));G0.displayName=WN.displayName;const Q0=y.forwardRef(({className:t,...e},n)=>d.jsx(qN,{ref:n,className:we(m0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Q0.displayName=qN.displayName;function E7({pet:t,isOpen:e,onClose:n,onPetDeleted:r}){const s=xs(),{toast:i}=Ao(),[o,a]=y.useState(!1);if(!e||!t)return null;const l=p=>p?new Date(p).toLocaleDateString("pt-BR"):"",c=async()=>{try{await uR(Tn(zt,"pets",t.id)),i({title:"Sucesso",description:"Pet removido com sucesso!"}),a(!1),n(),r&&r(),s("/meus-pets")}catch(p){console.error("Erro ao remover pet:",p),i({title:"Erro",description:"Ocorreu um erro ao remover o pet. Tente novamente.",variant:"destructive"})}},h=()=>{a(!0)};return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md relative",children:[d.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:"✕"}),d.jsx("h2",{className:"text-2xl font-bold text-petgreen mb-4",children:"Detalhes do Pet"}),d.jsx("div",{className:"mb-4",children:d.jsx("img",{src:t.imagem,alt:t.nomePet,className:"w-full h-48 object-cover rounded-md"})}),d.jsxs("div",{className:"space-y-2 mb-6",children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Nome:"})," ",t.nomePet]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Espécie:"})," ",t.tipo]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Código do Pet:"})," ",t.petCode]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Raça:"})," ",t.raca]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Cor:"})," ",t.cor]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Sexo:"})," ",t.sexo]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Data de Nascimento:"})," ",l(t.dataNascimento)]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Data de Cadastro:"})," ",l(t.dataCadastro)]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Descrição:"})," ",t.descricao]})]}),d.jsxs("div",{className:"flex justify-between gap-4",children:[d.jsx(De,{asChild:!0,className:"flex-1 bg-petgreen hover:bg-opacity-90",children:d.jsxs(Le,{to:`/editar-pet/${t.id}`,state:{pet:t},children:[d.jsx(Ij,{size:18}),d.jsx("span",{children:"Editar"})]})}),d.jsxs(De,{variant:"destructive",className:"flex-1",onClick:h,children:[d.jsx(Rj,{size:18}),d.jsx("span",{children:"Excluir"})]}),d.jsx(QN,{open:o,onOpenChange:a,children:d.jsxs(B0,{children:[d.jsxs(H0,{children:[d.jsx(q0,{children:"Confirmar exclusão"}),d.jsxs(K0,{children:["Tem certeza que deseja excluir o pet ",t.nomePet,"? Esta ação não pode ser desfeita."]})]}),d.jsxs(W0,{children:[d.jsx(Q0,{children:"Cancelar"}),d.jsx(G0,{onClick:c,className:"bg-red-500 hover:bg-red-600",children:"Excluir"})]})]})})]})]})})}function T7(){const{user:t,isAuthenticated:e}=Br(),n=xs(),[r,s]=y.useState([]),[i,o]=y.useState(!0),[a,l]=y.useState(!1),[c,h]=y.useState(null),[p,f]=y.useState(!1);y.useEffect(()=>{(!e||!t)&&n("/login")},[e,t,n]);const v=async()=>{if(t!=null&&t.uid){o(!0);try{const E=J$(jh(zt,"pets"),Z$("ownerId","==",t.uid)),w=await p0(E);l(!w.empty);const S=w.docs.map(I=>{var M,b,C,A;const k=I.data();return{id:I.id,nomePet:k.nomePet,tipo:k.tipo,raca:k.raca,cor:k.cor,sexo:k.sexo,dataNascimento:k.dataNascimento,descricao:k.descricao,imagem:k.imagemUrl,qrcodeUrl:`https://projeto-pet.netlify.app/encontrar?codigo=${k.petCode}`,dataCadastro:((A=(b=(M=k.createdAt)==null?void 0:M.toDate)==null?void 0:(C=b.call(M)).toISOString)==null?void 0:A.call(C))??"",petCode:k.petCode}});s(S)}catch(E){console.error("Erro ao buscar pets:",E)}finally{o(!1)}}};y.useEffect(()=>{t&&v()},[t]);const _=E=>{h(E),f(!0)},g=()=>{f(!1),h(null)},x=()=>{v()};return e?d.jsxs(xr,{children:[d.jsxs("div",{className:"container mx-auto px-4 py-10",children:[a&&d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Meus Pets"}),d.jsx(De,{asChild:!0,className:"bg-petgreen hover:bg-opacity-90 flex gap-2",children:d.jsxs(Le,{to:"/cadastro-pet",children:[d.jsx(ej,{size:18}),d.jsx("span",{children:"Adicionar Pet"})]})})]}),i?d.jsx("div",{className:"flex justify-center py-20",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-petgreen"})}):r.length===0?d.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[d.jsx("h2",{className:"text-xl font-medium text-gray-600 mb-4",children:"Você ainda não tem pets cadastrados"}),d.jsx("p",{className:"text-gray-500 mb-6",children:"Cadastre seu primeiro pet para gerar um QR Code e facilitar sua identificação"}),d.jsx(De,{asChild:!0,className:"bg-petgreen hover:bg-opacity-90",children:d.jsx(Le,{to:"/cadastro-pet",children:"Cadastrar Pet"})})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(E=>d.jsx(c7,{pet:E,onDetails:()=>_(E)},E.id))})]}),d.jsx(E7,{pet:c,isOpen:p,onClose:g,onPetDeleted:x})]}):null}function S7(){const[t,e]=y.useState([]),[n,r]=y.useState(!0),s=async()=>{r(!0);try{const o=(await p0(jh(zt,"campanhas"))).docs.map(a=>({id:a.id,...a.data()}));e(o)}catch(i){console.error("Erro ao buscar campanhas",i)}finally{r(!1)}};return y.useEffect(()=>{s()},[]),d.jsx(xr,{children:d.jsxs("div",{className:"container mx-auto px-4 py-10",children:[d.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-10",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Campanhas de Vacinação"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Confira as campanhas de vacinação que estão acontecendo na sua cidade. Mantenha seu pet saudável e protegido!"})]}),n?d.jsx("p",{children:"Carregando campanhas..."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>d.jsxs(In,{className:"hover:shadow-md transition-shadow",children:[d.jsx($r,{className:"pb-2",children:d.jsx(vs,{className:"text-xl text-petgreen",children:i.title})}),d.jsx(An,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center text-gray-500",children:[d.jsx(ny,{size:18,className:"mr-2 text-petgreen"}),d.jsx("span",{children:i.date})]}),d.jsxs("div",{className:"flex items-center text-gray-500",children:[d.jsx(vj,{size:18,className:"mr-2 text-petgreen"}),d.jsx("span",{children:i.location})]}),d.jsx("p",{className:"text-gray-600",children:i.description}),d.jsxs("details",{className:"text-sm",children:[d.jsxs("summary",{className:"text-petgreen font-medium cursor-pointer flex items-center",children:[d.jsx(AC,{size:16,className:"mr-1"}),"Mais informações"]}),d.jsx("p",{className:"pt-2 px-2 text-gray-600",children:i.moreInfo})]}),d.jsx(De,{className:"w-full bg-petgreen hover:bg-opacity-90",children:"Lembrar-me"})]})})]},i.id))})]})})}function C7(){const{user:t,userData:e,logout:n,isAuthenticated:r,isAdmin:s}=Br();return d.jsx(xr,{children:d.jsxs("div",{className:"container mx-auto px-4 py-10",children:[d.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Sobre o PetFinder"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Conheça nossa missão, como funcionamos e por que somos a melhor solução para proteger seu pet e garantir que ele volte para casa caso se perca."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mb-16",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-petgreen mb-4",children:"Nossa Missão"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"O PetFinder nasceu da preocupação com os animais perdidos e da dificuldade que muitos tutores enfrentam para encontrar seus pets quando eles se perdem. Nossa missão é criar uma comunidade solidária, onde tutores possam recuperar seus pets com mais facilidade e rapidez."}),d.jsx("p",{className:"text-gray-600",children:"Utilizamos tecnologia moderna de QR Code para criar uma solução simples e eficaz. Qualquer pessoa que encontrar um pet perdido pode escanear o código na coleira e entrar em contato diretamente com o tutor."})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-petgreen mb-4",children:"Por que usar o PetFinder?"}),d.jsx("ul",{className:"space-y-3",children:["Maior chance de recuperar seu pet caso ele se perca","Fácil de usar - qualquer pessoa pode escanear o QR Code","Sem necessidade de aplicativos especiais","Dados de contato protegidos - só aparecem quando necessário","Serviço acessível e de baixo custo","Plataforma brasileira, com suporte local"].map((i,o)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx(ry,{className:"h-5 w-5 text-petgreen shrink-0 mr-2 mt-0.5"}),d.jsx("span",{className:"text-gray-600",children:i})]},o))})]})]}),d.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Como Funciona?"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:[d.jsx(In,{className:"text-center p-6 hover:shadow-md transition-shadow",children:d.jsxs(An,{className:"p-0",children:[d.jsx("div",{className:"bg-petgreen-light w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Ma,{className:"h-8 w-8 text-petgreen"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:"1. Cadastre seu Pet"}),d.jsx("p",{className:"text-gray-600",children:"Crie uma conta e cadastre as informações do seu pet em nossa plataforma. Adicione uma foto e detalhes importantes para identificação."})]})}),d.jsx(In,{className:"text-center p-6 hover:shadow-md transition-shadow",children:d.jsxs(An,{className:"p-0",children:[d.jsx("div",{className:"bg-petpurple-light w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(ah,{className:"h-8 w-8 text-petpurple"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:"2. Receba seu QR Code"}),d.jsx("p",{className:"text-gray-600",children:"Após o cadastro, você recebe um QR Code único para seu pet. Imprima e coloque na coleira ou em um pingente."})]})}),d.jsx(In,{className:"text-center p-6 hover:shadow-md transition-shadow",children:d.jsxs(An,{className:"p-0",children:[d.jsx("div",{className:"bg-petblue-light w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Cj,{className:"h-8 w-8 text-petblue"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:"3. Recuperação Rápida"}),d.jsx("p",{className:"text-gray-600",children:"Se seu pet se perder, quem o encontrar pode escanear o QR Code, ver suas informações e entrar em contato com você diretamente."})]})})]}),d.jsxs("div",{className:"bg-petgreen-light rounded-lg p-8 text-center mb-16",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Depoimentos de Tutores"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[d.jsx("p",{className:"italic text-gray-600 mb-4",children:'"Meu cachorro Toby escapou durante uma tempestade. Graças ao QR Code do PetFinder, uma pessoa que o encontrou conseguiu entrar em contato comigo em menos de uma hora!"'}),d.jsx("p",{className:"font-medium",children:"- Maria S., Igarassu Centro"})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[d.jsx("p",{className:"italic text-gray-600 mb-4",children:'"Minha gata costuma sair para explorar e às vezes vai longe demais. Com o PetFinder, tenho tranquilidade sabendo que se alguém a encontrar, poderá me contatar facilmente."'}),d.jsx("p",{className:"font-medium",children:"- Pedro L., Nova Cruz"})]})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Pronto para proteger seu pet?"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[!r&&d.jsx(De,{asChild:!0,className:"bg-petgreen hover:bg-opacity-90 flex gap-2",children:d.jsxs(Le,{to:"/cadastro",children:[d.jsx(lj,{size:18}),d.jsx("span",{children:"Cadastre-se Agora"})]})}),d.jsx(De,{asChild:!0,variant:"outline",className:"border-petgreen text-petgreen hover:bg-petgreen hover:text-white",children:d.jsxs(Le,{to:"/encontrar-pet",children:[d.jsx(NC,{size:18,className:"mr-1"}),d.jsx("span",{children:"Encontrar um Pet"})]})})]})]})]})})}function b7(){const{pathname:t}=_s();return y.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function I7(){const{isAdmin:t}=Br(),{toast:e}=Ao(),[n,r]=y.useState([]),[s,i]=y.useState(!0),[o,a]=y.useState(!1),[l,c]=y.useState(!1),[h,p]=y.useState(null),[f,v]=y.useState({id:void 0,title:"",date:"",location:"",description:"",moreInfo:""}),_=async()=>{i(!0);try{const I=(await p0(jh(zt,"campanhas"))).docs.map(k=>({id:k.id,...k.data()}));r(I)}catch(S){console.error("Erro ao buscar campanhas",S)}finally{i(!1)}};y.useEffect(()=>{_()},[]);const g=S=>{v(I=>({...I,[S.target.name]:S.target.value}))},x=async S=>{S.preventDefault();try{if(f.id){const I=Tn(zt,"campanhas",f.id);await cR(I,{title:f.title,date:f.date,location:f.location,description:f.description,moreInfo:f.moreInfo}),e({title:"Sucesso",description:"Campanha atualizada com sucesso!"})}else await rz(jh(zt,"campanhas"),{title:f.title,date:f.date,location:f.location,description:f.description,moreInfo:f.moreInfo}),e({title:"Sucesso",description:"Campanha criada com sucesso!"});a(!1),v({id:void 0,title:"",date:"",location:"",description:"",moreInfo:""}),_()}catch(I){console.error("Erro ao salvar campanha",I),e({title:"Erro",description:"Ocorreu um erro ao salvar a campanha. Tente novamente.",variant:"destructive"})}},E=S=>{p(S),c(!0)},w=async()=>{if(h)try{await uR(Tn(zt,"campanhas",h)),e({title:"Sucesso",description:"Campanha removida com sucesso!"}),_()}catch(S){console.error("Erro ao remover campanha:",S),e({title:"Erro",description:"Ocorreu um erro ao remover a campanha. Tente novamente.",variant:"destructive"})}finally{c(!1),p(null)}};return t?d.jsxs(xr,{children:[d.jsxs("div",{className:"container mx-auto px-4 py-10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Gerenciar Campanhas"}),d.jsx(De,{onClick:()=>{v({id:void 0,title:"",date:"",location:"",description:"",moreInfo:""}),a(!0)},className:"bg-petgreen hover:bg-opacity-90",children:"Nova Campanha"})]}),s?d.jsx("p",{children:"Carregando..."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(S=>d.jsxs(In,{children:[d.jsx($r,{children:d.jsx(vs,{children:S.title})}),d.jsx(An,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Data:"})," ",S.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Local:"})," ",S.location]}),d.jsx("p",{children:S.description}),d.jsx("p",{children:d.jsx("em",{children:S.moreInfo})}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(De,{variant:"outline",size:"sm",onClick:()=>{v(S),a(!0)},children:"Editar"}),d.jsx(De,{variant:"destructive",size:"sm",onClick:()=>E(S.id),children:"Excluir"})]})]})})]},S.id))}),o&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:d.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full max-w-md",children:[d.jsxs("h2",{className:"text-2xl mb-4",children:[f.id?"Editar":"Nova"," Campanha"]}),d.jsxs("form",{onSubmit:x,className:"space-y-4",children:[d.jsx("input",{name:"title",placeholder:"Título",value:f.title,onChange:g,className:"w-full p-2 border rounded",required:!0}),d.jsx("input",{name:"date",type:"date",value:f.date,onChange:g,className:"w-full p-2 border rounded",required:!0}),d.jsx("input",{name:"location",placeholder:"Localização",value:f.location,onChange:g,className:"w-full p-2 border rounded",required:!0}),d.jsx("textarea",{name:"description",placeholder:"Descrição",value:f.description,onChange:g,className:"w-full p-2 border rounded",required:!0}),d.jsx("textarea",{name:"moreInfo",placeholder:"Mais informações",value:f.moreInfo,onChange:g,className:"w-full p-2 border rounded"}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(De,{type:"button",onClick:()=>a(!1),variant:"outline",children:"Cancelar"}),d.jsx(De,{type:"submit",children:"Salvar"})]})]})]})})]}),d.jsx(QN,{open:l,onOpenChange:c,children:d.jsxs(B0,{children:[d.jsxs(H0,{children:[d.jsx(q0,{children:"Confirmar exclusão"}),d.jsx(K0,{children:"Tem certeza que deseja excluir esta campanha? Esta ação não pode ser desfeita."})]}),d.jsxs(W0,{children:[d.jsx(Q0,{children:"Cancelar"}),d.jsx(G0,{onClick:w,className:"bg-red-500 hover:bg-red-600",children:"Excluir"})]})]})})]}):d.jsx(Ob,{to:"/",replace:!0})}const A7=new zV,ld=({children:t})=>{const{isAuthenticated:e,isLoading:n}=Br();return n?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-petgreen"})}):e?d.jsx(d.Fragment,{children:t}):d.jsx(Ob,{to:"/login",replace:!0})},R7=()=>d.jsxs(DF,{children:[d.jsx(Wn,{path:"/",element:d.jsx(cz,{})}),d.jsx(Wn,{path:"/login",element:d.jsx(yz,{})}),d.jsx(Wn,{path:"/cadastro",element:d.jsx(Fz,{})}),d.jsx(Wn,{path:"/encontrar-pet",element:d.jsx(l7,{})}),d.jsx(Wn,{path:"/campanhas",element:d.jsx(S7,{})}),d.jsx(Wn,{path:"/sobre",element:d.jsx(C7,{})}),d.jsx(Wn,{path:"/admin/campanhas",element:d.jsx(ld,{children:d.jsx(I7,{})})}),d.jsx(Wn,{path:"/cadastro-pet",element:d.jsx(ld,{children:d.jsx(F8,{})})}),d.jsx(Wn,{path:"/editar-pet/:id",element:d.jsx(ld,{children:d.jsx(U8,{})})}),d.jsx(Wn,{path:"/meus-pets",element:d.jsx(ld,{children:d.jsx(T7,{})})}),d.jsx(Wn,{path:"*",element:d.jsx(uz,{})})]}),P7=()=>d.jsx(HV,{client:A7,children:d.jsx(oz,{children:d.jsxs(wV,{children:[d.jsx(vM,{}),d.jsx(qM,{}),d.jsxs($F,{children:[d.jsx(b7,{}),d.jsx(R7,{})]})]})})});ZS(document.getElementById("root")).render(d.jsx(P7,{}));
